import{g as Xn,i as Oe,r as q,c as K,u as $,w as ws,d as oe,a as z,o as N,b as te,m as Dr,e as F,f as fe,h as ne,j as Z,F as Jn,n as Ie,k as en,l as Ss,T as Is,p as Te,q as Ls,s as Qn,t as zn,v as Ar,x as Ve,y as se,z as wr,A as Ns,B as ei,C as Cn,D as Sr,E as Ms,G as Ri,H as Rs,I as Ps,J as Yt}from"./index-BE6zOdmo.js";const kn="el",Fs="is-",tt=(t,e,n,i,s)=>{let r=`${t}-${e}`;return n&&(r+=`-${n}`),i&&(r+=`__${i}`),s&&(r+=`--${s}`),r},Os=Symbol("namespaceContextKey"),Bs=t=>{const e=Xn()?Oe(Os,q(kn)):q(kn);return K(()=>$(e)||kn)},Pt=(t,e)=>{const n=Bs();return{namespace:n,b:(v="")=>tt(n.value,t,v,"",""),e:v=>v?tt(n.value,t,"",v,""):"",m:v=>v?tt(n.value,t,"","",v):"",be:(v,E)=>v&&E?tt(n.value,t,v,E,""):"",em:(v,E)=>v&&E?tt(n.value,t,"",v,E):"",bm:(v,E)=>v&&E?tt(n.value,t,v,"",E):"",bem:(v,E,_)=>v&&E&&_?tt(n.value,t,v,E,_):"",is:(v,...E)=>{const _=E.length>=1?E[0]:!0;return v&&_?`${Fs}${v}`:""},cssVar:v=>{const E={};for(const _ in v)v[_]&&(E[`--${n.value}-${_}`]=v[_]);return E},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const E={};for(const _ in v)v[_]&&(E[`--${n.value}-${t}-${_}`]=v[_]);return E},cssVarBlockName:v=>`--${n.value}-${t}-${v}`}},$s=()=>{},Hs=Object.prototype.hasOwnProperty,Pi=(t,e)=>Hs.call(t,e),zs=t=>typeof t=="function",ti=t=>typeof t=="string",Ir=t=>t!==null&&typeof t=="object";function Us(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var s=t[e];i[s[0]]=s[1]}return i}const Ks=t=>t===void 0,ni=t=>typeof t=="number",qs=t=>ti(t)?!Number.isNaN(Number(t)):!1;var Fi;const Vs=typeof window<"u";Vs&&((Fi=window==null?void 0:window.navigator)!=null&&Fi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Lr="__epPropKey",Ft=t=>t,Gs=t=>Ir(t)&&!!t[Lr],Nr=(t,e)=>{if(!Ir(t)||Gs(t))return t;const{values:n,required:i,default:s,type:r,validator:o}=t,l={type:r,required:!!i,validator:n||o?c=>{let u=!1,h=[];if(n&&(h=Array.from(n),Pi(t,"default")&&h.push(s),u||(u=h.includes(c))),o&&(u||(u=o(c))),!u&&h.length>0){const d=[...new Set(h)].map(p=>JSON.stringify(p)).join(", ");ws(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[Lr]:!0};return Pi(t,"default")&&(l.default=s),l},on=t=>Us(Object.entries(t).map(([e,n])=>[e,Nr(n,e)]));var an=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function Mr(t,e="px"){if(!t)return"";if(ni(t)||qs(t))return`${t}${e}`;if(ti(t))return t}const ii=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e??{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},Ys=t=>(t.install=$s,t),Ws=on({size:{type:Ft([Number,String])},color:{type:String}}),js=oe({name:"ElIcon",inheritAttrs:!1}),Zs=oe({...js,props:Ws,setup(t){const e=t,n=Pt("icon"),i=K(()=>{const{size:s,color:r}=e;return!s&&!r?{}:{fontSize:Ks(s)?void 0:Mr(s),"--color":r}});return(s,r)=>(N(),z("i",Dr({class:$(n).b(),style:$(i)},s.$attrs),[te(s.$slots,"default")],16))}});var Xs=an(Zs,[["__file","icon.vue"]]);const Et=ii(Xs);/*! Element Plus Icons Vue v2.3.2 */var Js=oe({name:"ArrowDownBold",__name:"arrow-down-bold",setup(t){return(e,n)=>(N(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496"})]))}}),Qs=Js,eo=oe({name:"Brush",__name:"brush",setup(t){return(e,n)=>(N(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a664 664 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168"})]))}}),to=eo,no=oe({name:"Loading",__name:"loading",setup(t){return(e,n)=>(N(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),io=no,ro=oe({name:"Top",__name:"top",setup(t){return(e,n)=>(N(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[F("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"})]))}}),so=ro;const Rr=["","default","small","large"],Un=Ft([String,Object,Function]),oo=Symbol(),ao=Nr({type:String,values:Rr,required:!1}),lo=Symbol("size"),co=()=>{const t=Oe(lo,{});return K(()=>$(t.size)||"")};on({emptyValues:Array,valueOnClear:{type:Ft([String,Number,Boolean,Function]),default:void 0,validator:t=>zs(t)?!t():!t}});const Oi=q();function uo(t,e=void 0){const n=Xn()?Oe(oo,Oi):Oi;return K(()=>{var i,s;return(s=(i=n.value)==null?void 0:i[t])!=null?s:e})}const ri=Symbol("formContextKey"),Pr=Symbol("formItemContextKey"),ho=()=>{const t=Oe(ri,void 0),e=Oe(Pr,void 0);return{form:t,formItem:e}},Fr=t=>{const e=Xn();return K(()=>{var n,i;return(i=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:i[t]})},po=(t,e={})=>{const n=q(void 0),i=e.prop?n:Fr("size"),s=e.global?n:co(),r=e.form?{size:void 0}:Oe(ri,void 0),o=e.formItem?{size:void 0}:Oe(Pr,void 0);return K(()=>i.value||$(t)||(o==null?void 0:o.size)||(r==null?void 0:r.size)||s.value||"")},Or=t=>{const e=Fr("disabled"),n=Oe(ri,void 0);return K(()=>e.value||$(t)||(n==null?void 0:n.disabled)||!1)},Br=Symbol("buttonGroupContextKey"),fo=({from:t,replacement:e,scope:n,version:i,ref:s,type:r="API"},o)=>{Te(()=>$(o),a=>{},{immediate:!0})},go=(t,e)=>{fo({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},K(()=>t.type==="text"));const n=Oe(Br,void 0),i=uo("button"),{form:s}=ho(),r=po(K(()=>n==null?void 0:n.size)),o=Or(),a=q(),l=Ss(),c=K(()=>{var E;return t.type||(n==null?void 0:n.type)||((E=i.value)==null?void 0:E.type)||""}),u=K(()=>{var E,_,C;return(C=(_=t.autoInsertSpace)!=null?_:(E=i.value)==null?void 0:E.autoInsertSpace)!=null?C:!1}),h=K(()=>{var E,_,C;return(C=(_=t.plain)!=null?_:(E=i.value)==null?void 0:E.plain)!=null?C:!1}),d=K(()=>{var E,_,C;return(C=(_=t.round)!=null?_:(E=i.value)==null?void 0:E.round)!=null?C:!1}),p=K(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=K(()=>{var E;const _=(E=l.default)==null?void 0:E.call(l);if(u.value&&(_==null?void 0:_.length)===1){const C=_[0];if((C==null?void 0:C.type)===Is){const m=C.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:r,_type:c,_ref:a,_props:p,_plain:h,_round:d,shouldAddSpace:f,handleClick:E=>{if(o.value||t.loading){E.stopPropagation();return}t.nativeType==="reset"&&(s==null||s.resetFields()),e("click",E)}}},mo=["default","primary","success","warning","info","danger","text",""],Eo=["button","submit","reset"],Kn=on({size:ao,disabled:Boolean,type:{type:String,values:mo,default:""},icon:{type:Un},nativeType:{type:String,values:Eo,default:"button"},loading:Boolean,loadingIcon:{type:Un,default:()=>io},plain:{type:Boolean,default:void 0},text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ft([String,Object]),default:"button"}}),vo={click:t=>t instanceof MouseEvent};function ue(t,e){yo(t)&&(t="100%");var n=bo(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Wt(t){return Math.min(1,Math.max(0,t))}function yo(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function bo(t){return typeof t=="string"&&t.indexOf("%")!==-1}function $r(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function jt(t){return t<=1?"".concat(Number(t)*100,"%"):t}function it(t){return t.length===1?"0"+t:String(t)}function _o(t,e,n){return{r:ue(t,255)*255,g:ue(e,255)*255,b:ue(n,255)*255}}function Bi(t,e,n){t=ue(t,255),e=ue(e,255),n=ue(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r=0,o=0,a=(i+s)/2;if(i===s)o=0,r=0;else{var l=i-s;switch(o=a>.5?l/(2-i-s):l/(i+s),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:o,l:a}}function xn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Co(t,e,n){var i,s,r;if(t=ue(t,360),e=ue(e,100),n=ue(n,100),e===0)s=n,r=n,i=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;i=xn(a,o,t+1/3),s=xn(a,o,t),r=xn(a,o,t-1/3)}return{r:i*255,g:s*255,b:r*255}}function $i(t,e,n){t=ue(t,255),e=ue(e,255),n=ue(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r=0,o=i,a=i-s,l=i===0?0:a/i;if(i===s)r=0;else{switch(i){case t:r=(e-n)/a+(e<n?6:0);break;case e:r=(n-t)/a+2;break;case n:r=(t-e)/a+4;break}r/=6}return{h:r,s:l,v:o}}function ko(t,e,n){t=ue(t,360)*6,e=ue(e,100),n=ue(n,100);var i=Math.floor(t),s=t-i,r=n*(1-e),o=n*(1-s*e),a=n*(1-(1-s)*e),l=i%6,c=[n,o,r,r,a,n][l],u=[a,n,n,o,r,r][l],h=[r,r,a,n,n,o][l];return{r:c*255,g:u*255,b:h*255}}function Hi(t,e,n,i){var s=[it(Math.round(t).toString(16)),it(Math.round(e).toString(16)),it(Math.round(n).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function xo(t,e,n,i,s){var r=[it(Math.round(t).toString(16)),it(Math.round(e).toString(16)),it(Math.round(n).toString(16)),it(To(i))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function To(t){return Math.round(parseFloat(t)*255).toString(16)}function zi(t){return Ce(t)/255}function Ce(t){return parseInt(t,16)}function Do(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var qn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ao(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,r=null,o=!1,a=!1;return typeof t=="string"&&(t=Io(t)),typeof t=="object"&&(Ke(t.r)&&Ke(t.g)&&Ke(t.b)?(e=_o(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ke(t.h)&&Ke(t.s)&&Ke(t.v)?(i=jt(t.s),s=jt(t.v),e=ko(t.h,i,s),o=!0,a="hsv"):Ke(t.h)&&Ke(t.s)&&Ke(t.l)&&(i=jt(t.s),r=jt(t.l),e=Co(t.h,i,r),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=$r(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var wo="[-\\+]?\\d+%?",So="[-\\+]?\\d*\\.\\d+%?",Ze="(?:".concat(So,")|(?:").concat(wo,")"),Tn="[\\s|\\(]+(".concat(Ze,")[,|\\s]+(").concat(Ze,")[,|\\s]+(").concat(Ze,")\\s*\\)?"),Dn="[\\s|\\(]+(".concat(Ze,")[,|\\s]+(").concat(Ze,")[,|\\s]+(").concat(Ze,")[,|\\s]+(").concat(Ze,")\\s*\\)?"),we={CSS_UNIT:new RegExp(Ze),rgb:new RegExp("rgb"+Tn),rgba:new RegExp("rgba"+Dn),hsl:new RegExp("hsl"+Tn),hsla:new RegExp("hsla"+Dn),hsv:new RegExp("hsv"+Tn),hsva:new RegExp("hsva"+Dn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Io(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(qn[t])t=qn[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=we.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=we.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=we.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=we.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=we.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=we.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=we.hex8.exec(t),n?{r:Ce(n[1]),g:Ce(n[2]),b:Ce(n[3]),a:zi(n[4]),format:e?"name":"hex8"}:(n=we.hex6.exec(t),n?{r:Ce(n[1]),g:Ce(n[2]),b:Ce(n[3]),format:e?"name":"hex"}:(n=we.hex4.exec(t),n?{r:Ce(n[1]+n[1]),g:Ce(n[2]+n[2]),b:Ce(n[3]+n[3]),a:zi(n[4]+n[4]),format:e?"name":"hex8"}:(n=we.hex3.exec(t),n?{r:Ce(n[1]+n[1]),g:Ce(n[2]+n[2]),b:Ce(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Ke(t){return!!we.CSS_UNIT.exec(String(t))}var Lo=(function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=Do(e)),this.originalInput=e;var s=Ao(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,s,r=e.r/255,o=e.g/255,a=e.b/255;return r<=.03928?n=r/12.92:n=Math.pow((r+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*i+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=$r(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=$i(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=$i(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Bi(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Bi(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Hi(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),xo(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ue(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ue(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Hi(this.r,this.g,this.b,!1),n=0,i=Object.entries(qn);n<i.length;n++){var s=i[n],r=s[0],o=s[1];if(e===o)return r}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,s=this.a<1&&this.a>=0,r=!n&&s&&(e.startsWith("hex")||e==="name");return r?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Wt(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Wt(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Wt(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Wt(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),s=new t(e).toRgb(),r=n/100,o={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),s=360/n,r=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(new t(i));return r},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,s=n.s,r=n.v,o=[],a=1/e;e--;)o.push(new t({h:i,s,v:r})),r=(r+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),s=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/s,g:(n.g*n.a+i.g*i.a*(1-n.a))/s,b:(n.b*n.a+i.b*i.a*(1-n.a))/s,a:s})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new t({h:(i+o*r)%360,s:n.s,l:n.l}));return s},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t})();function Ye(t,e=20){return t.mix("#141414",e).toString()}function No(t){const e=Or(),n=Pt("button");return K(()=>{let i={},s=t.color;if(s){const r=s.match(/var\((.*?)\)/);r&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(r[1]));const o=new Lo(s),a=t.dark?o.tint(20).toString():Ye(o,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Ye(o,90):o.tint(90).toString(),"text-color":s,"border-color":t.dark?Ye(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Ye(o,90):o.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Ye(o,50):o.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Ye(o,80):o.tint(80).toString());else{const l=t.dark?Ye(o,30):o.tint(30).toString(),c=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":s,"text-color":c,"border-color":s,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":a,"active-border-color":a}),e.value){const u=t.dark?Ye(o,50):o.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=u,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=u}}}return i})}const Mo=oe({name:"ElButton"}),Ro=oe({...Mo,props:Kn,emits:vo,setup(t,{expose:e,emit:n}){const i=t,s=No(i),r=Pt("button"),{_ref:o,_size:a,_type:l,_disabled:c,_props:u,_plain:h,_round:d,shouldAddSpace:p,handleClick:f}=go(i,n),v=K(()=>[r.b(),r.m(l.value),r.m(a.value),r.is("disabled",c.value),r.is("loading",i.loading),r.is("plain",h.value),r.is("round",d.value),r.is("circle",i.circle),r.is("text",i.text),r.is("link",i.link),r.is("has-bg",i.bg)]);return e({ref:o,size:a,type:l,disabled:c,shouldAddSpace:p}),(E,_)=>(N(),fe(en(E.tag),Dr({ref_key:"_ref",ref:o},$(u),{class:$(v),style:$(s),onClick:$(f)}),{default:ne(()=>[E.loading?(N(),z(Jn,{key:0},[E.$slots.loading?te(E.$slots,"loading",{key:0}):(N(),fe($(Et),{key:1,class:Ie($(r).is("loading"))},{default:ne(()=>[(N(),fe(en(E.loadingIcon)))]),_:1},8,["class"]))],64)):E.icon||E.$slots.icon?(N(),fe($(Et),{key:1},{default:ne(()=>[E.icon?(N(),fe(en(E.icon),{key:0})):te(E.$slots,"icon",{key:1})]),_:3})):Z("v-if",!0),E.$slots.default?(N(),z("span",{key:2,class:Ie({[$(r).em("text","expand")]:$(p)})},[te(E.$slots,"default")],2)):Z("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Po=an(Ro,[["__file","button.vue"]]);const Fo={size:Kn.size,type:Kn.type},Oo=oe({name:"ElButtonGroup"}),Bo=oe({...Oo,props:Fo,setup(t){const e=t;Ls(Br,Qn({size:zn(e,"size"),type:zn(e,"type")}));const n=Pt("button");return(i,s)=>(N(),z("div",{class:Ie($(n).b("group"))},[te(i.$slots,"default")],2))}});var Hr=an(Bo,[["__file","button-group.vue"]]);const si=ii(Po,{ButtonGroup:Hr});Ys(Hr);const Qe=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:zr,setPrototypeOf:Ui,isFrozen:$o,getPrototypeOf:Ho,getOwnPropertyDescriptor:zo}=Object;let{freeze:me,seal:De,create:Ur}=Object,{apply:Vn,construct:Gn}=typeof Reflect<"u"&&Reflect;me||(me=function(e){return e});De||(De=function(e){return e});Vn||(Vn=function(e,n,i){return e.apply(n,i)});Gn||(Gn=function(e,n){return new e(...n)});const Zt=Ee(Array.prototype.forEach),Uo=Ee(Array.prototype.lastIndexOf),Ki=Ee(Array.prototype.pop),Dt=Ee(Array.prototype.push),Ko=Ee(Array.prototype.splice),tn=Ee(String.prototype.toLowerCase),An=Ee(String.prototype.toString),qi=Ee(String.prototype.match),At=Ee(String.prototype.replace),qo=Ee(String.prototype.indexOf),Vo=Ee(String.prototype.trim),Se=Ee(Object.prototype.hasOwnProperty),ge=Ee(RegExp.prototype.test),wt=Go(TypeError);function Ee(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Vn(t,e,i)}}function Go(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Gn(t,n)}}function H(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tn;Ui&&Ui(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const r=n(s);r!==s&&($o(e)||(e[i]=r),s=r)}t[s]=!0}return t}function Yo(t){for(let e=0;e<t.length;e++)Se(t,e)||(t[e]=null);return t}function qe(t){const e=Ur(null);for(const[n,i]of zr(t))Se(t,n)&&(Array.isArray(i)?e[n]=Yo(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=qe(i):e[n]=i);return e}function St(t,e){for(;t!==null;){const i=zo(t,e);if(i){if(i.get)return Ee(i.get);if(typeof i.value=="function")return Ee(i.value)}t=Ho(t)}function n(){return null}return n}const Vi=me(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wn=me(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sn=me(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wo=me(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),In=me(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jo=me(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Gi=me(["#text"]),Yi=me(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ln=me(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Wi=me(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xt=me(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Zo=De(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Xo=De(/<%[\w\W]*|[\w\W]*%>/gm),Jo=De(/\$\{[\w\W]*/gm),Qo=De(/^data-[\-\w.\u00B7-\uFFFF]+$/),ea=De(/^aria-[\-\w]+$/),Kr=De(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ta=De(/^(?:\w+script|data):/i),na=De(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qr=De(/^html$/i),ia=De(/^[a-z][.\w]*(-[.\w]+)+$/i);var ji=Object.freeze({__proto__:null,ARIA_ATTR:ea,ATTR_WHITESPACE:na,CUSTOM_ELEMENT:ia,DATA_ATTR:Qo,DOCTYPE_NAME:qr,ERB_EXPR:Xo,IS_ALLOWED_URI:Kr,IS_SCRIPT_OR_DATA:ta,MUSTACHE_EXPR:Zo,TMPLIT_EXPR:Jo});const It={element:1,text:3,progressingInstruction:7,comment:8,document:9},ra=function(){return typeof window>"u"?null:window},sa=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return null}},Zi=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Vr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ra();const e=L=>Vr(L);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==It.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:p}=t,f=l.prototype,v=St(f,"cloneNode"),E=St(f,"remove"),_=St(f,"nextSibling"),C=St(f,"childNodes"),m=St(f,"parentNode");if(typeof o=="function"){const L=n.createElement("template");L.content&&L.content.ownerDocument&&(n=L.content.ownerDocument)}let k,y="";const{implementation:x,createNodeIterator:S,createDocumentFragment:I,getElementsByTagName:w}=n,{importNode:V}=i;let O=Zi();e.isSupported=typeof zr=="function"&&typeof m=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_e,ERB_EXPR:ee,TMPLIT_EXPR:J,DATA_ATTR:Ne,ARIA_ATTR:_t,IS_SCRIPT_OR_DATA:dn,ATTR_WHITESPACE:b,CUSTOM_ELEMENT:A}=ji;let{IS_ALLOWED_URI:G}=ji,B=null;const ie=H({},[...Vi,...wn,...Sn,...In,...Gi]);let U=null;const W=H({},[...Yi,...Ln,...Wi,...Xt]);let j=Object.seal(Ur(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,Ct=null,rt=!0,st=!0,xe=!1,gi=!0,ot=!1,Ht=!0,et=!1,pn=!1,fn=!1,at=!1,zt=!1,Ut=!1,mi=!0,Ei=!1;const bs="user-content-";let gn=!0,kt=!1,lt={},ct=null;const vi=H({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let yi=null;const bi=H({},["audio","video","img","source","image","track"]);let mn=null;const _i=H({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",He="http://www.w3.org/1999/xhtml";let ut=He,En=!1,vn=null;const _s=H({},[Kt,qt,He],An);let Vt=H({},["mi","mo","mn","ms","mtext"]),Gt=H({},["annotation-xml"]);const Cs=H({},["title","style","font","a","script"]);let xt=null;const ks=["application/xhtml+xml","text/html"],xs="text/html";let ae=null,ht=null;const Ts=n.createElement("form"),Ci=function(g){return g instanceof RegExp||g instanceof Function},yn=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ht&&ht===g)){if((!g||typeof g!="object")&&(g={}),g=qe(g),xt=ks.indexOf(g.PARSER_MEDIA_TYPE)===-1?xs:g.PARSER_MEDIA_TYPE,ae=xt==="application/xhtml+xml"?An:tn,B=Se(g,"ALLOWED_TAGS")?H({},g.ALLOWED_TAGS,ae):ie,U=Se(g,"ALLOWED_ATTR")?H({},g.ALLOWED_ATTR,ae):W,vn=Se(g,"ALLOWED_NAMESPACES")?H({},g.ALLOWED_NAMESPACES,An):_s,mn=Se(g,"ADD_URI_SAFE_ATTR")?H(qe(_i),g.ADD_URI_SAFE_ATTR,ae):_i,yi=Se(g,"ADD_DATA_URI_TAGS")?H(qe(bi),g.ADD_DATA_URI_TAGS,ae):bi,ct=Se(g,"FORBID_CONTENTS")?H({},g.FORBID_CONTENTS,ae):vi,Ge=Se(g,"FORBID_TAGS")?H({},g.FORBID_TAGS,ae):qe({}),Ct=Se(g,"FORBID_ATTR")?H({},g.FORBID_ATTR,ae):qe({}),lt=Se(g,"USE_PROFILES")?g.USE_PROFILES:!1,rt=g.ALLOW_ARIA_ATTR!==!1,st=g.ALLOW_DATA_ATTR!==!1,xe=g.ALLOW_UNKNOWN_PROTOCOLS||!1,gi=g.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ot=g.SAFE_FOR_TEMPLATES||!1,Ht=g.SAFE_FOR_XML!==!1,et=g.WHOLE_DOCUMENT||!1,at=g.RETURN_DOM||!1,zt=g.RETURN_DOM_FRAGMENT||!1,Ut=g.RETURN_TRUSTED_TYPE||!1,fn=g.FORCE_BODY||!1,mi=g.SANITIZE_DOM!==!1,Ei=g.SANITIZE_NAMED_PROPS||!1,gn=g.KEEP_CONTENT!==!1,kt=g.IN_PLACE||!1,G=g.ALLOWED_URI_REGEXP||Kr,ut=g.NAMESPACE||He,Vt=g.MATHML_TEXT_INTEGRATION_POINTS||Vt,Gt=g.HTML_INTEGRATION_POINTS||Gt,j=g.CUSTOM_ELEMENT_HANDLING||{},g.CUSTOM_ELEMENT_HANDLING&&Ci(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&Ci(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot&&(st=!1),zt&&(at=!0),lt&&(B=H({},Gi),U=[],lt.html===!0&&(H(B,Vi),H(U,Yi)),lt.svg===!0&&(H(B,wn),H(U,Ln),H(U,Xt)),lt.svgFilters===!0&&(H(B,Sn),H(U,Ln),H(U,Xt)),lt.mathMl===!0&&(H(B,In),H(U,Wi),H(U,Xt))),g.ADD_TAGS&&(B===ie&&(B=qe(B)),H(B,g.ADD_TAGS,ae)),g.ADD_ATTR&&(U===W&&(U=qe(U)),H(U,g.ADD_ATTR,ae)),g.ADD_URI_SAFE_ATTR&&H(mn,g.ADD_URI_SAFE_ATTR,ae),g.FORBID_CONTENTS&&(ct===vi&&(ct=qe(ct)),H(ct,g.FORBID_CONTENTS,ae)),gn&&(B["#text"]=!0),et&&H(B,["html","head","body"]),B.table&&(H(B,["tbody"]),delete Ge.tbody),g.TRUSTED_TYPES_POLICY){if(typeof g.TRUSTED_TYPES_POLICY.createHTML!="function")throw wt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof g.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=g.TRUSTED_TYPES_POLICY,y=k.createHTML("")}else k===void 0&&(k=sa(p,s)),k!==null&&typeof y=="string"&&(y=k.createHTML(""));me&&me(g),ht=g}},ki=H({},[...wn,...Sn,...Wo]),xi=H({},[...In,...jo]),Ds=function(g){let T=m(g);(!T||!T.tagName)&&(T={namespaceURI:ut,tagName:"template"});const D=tn(g.tagName),Q=tn(T.tagName);return vn[g.namespaceURI]?g.namespaceURI===qt?T.namespaceURI===He?D==="svg":T.namespaceURI===Kt?D==="svg"&&(Q==="annotation-xml"||Vt[Q]):!!ki[D]:g.namespaceURI===Kt?T.namespaceURI===He?D==="math":T.namespaceURI===qt?D==="math"&&Gt[Q]:!!xi[D]:g.namespaceURI===He?T.namespaceURI===qt&&!Gt[Q]||T.namespaceURI===Kt&&!Vt[Q]?!1:!xi[D]&&(Cs[D]||!ki[D]):!!(xt==="application/xhtml+xml"&&vn[g.namespaceURI]):!1},Me=function(g){Dt(e.removed,{element:g});try{m(g).removeChild(g)}catch{E(g)}},dt=function(g,T){try{Dt(e.removed,{attribute:T.getAttributeNode(g),from:T})}catch{Dt(e.removed,{attribute:null,from:T})}if(T.removeAttribute(g),g==="is")if(at||zt)try{Me(T)}catch{}else try{T.setAttribute(g,"")}catch{}},Ti=function(g){let T=null,D=null;if(fn)g="<remove></remove>"+g;else{const re=qi(g,/^[\r\n\t ]+/);D=re&&re[0]}xt==="application/xhtml+xml"&&ut===He&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");const Q=k?k.createHTML(g):g;if(ut===He)try{T=new d().parseFromString(Q,xt)}catch{}if(!T||!T.documentElement){T=x.createDocument(ut,"template",null);try{T.documentElement.innerHTML=En?y:Q}catch{}}const he=T.body||T.documentElement;return g&&D&&he.insertBefore(n.createTextNode(D),he.childNodes[0]||null),ut===He?w.call(T,et?"html":"body")[0]:et?T.documentElement:he},Di=function(g){return S.call(g.ownerDocument||g,g,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},bn=function(g){return g instanceof h&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof u)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},Ai=function(g){return typeof a=="function"&&g instanceof a};function ze(L,g,T){Zt(L,D=>{D.call(e,g,T,ht)})}const wi=function(g){let T=null;if(ze(O.beforeSanitizeElements,g,null),bn(g))return Me(g),!0;const D=ae(g.nodeName);if(ze(O.uponSanitizeElement,g,{tagName:D,allowedTags:B}),Ht&&g.hasChildNodes()&&!Ai(g.firstElementChild)&&ge(/<[/\w!]/g,g.innerHTML)&&ge(/<[/\w!]/g,g.textContent)||g.nodeType===It.progressingInstruction||Ht&&g.nodeType===It.comment&&ge(/<[/\w]/g,g.data))return Me(g),!0;if(!B[D]||Ge[D]){if(!Ge[D]&&Ii(D)&&(j.tagNameCheck instanceof RegExp&&ge(j.tagNameCheck,D)||j.tagNameCheck instanceof Function&&j.tagNameCheck(D)))return!1;if(gn&&!ct[D]){const Q=m(g)||g.parentNode,he=C(g)||g.childNodes;if(he&&Q){const re=he.length;for(let ve=re-1;ve>=0;--ve){const Ue=v(he[ve],!0);Ue.__removalCount=(g.__removalCount||0)+1,Q.insertBefore(Ue,_(g))}}}return Me(g),!0}return g instanceof l&&!Ds(g)||(D==="noscript"||D==="noembed"||D==="noframes")&&ge(/<\/no(script|embed|frames)/i,g.innerHTML)?(Me(g),!0):(ot&&g.nodeType===It.text&&(T=g.textContent,Zt([_e,ee,J],Q=>{T=At(T,Q," ")}),g.textContent!==T&&(Dt(e.removed,{element:g.cloneNode()}),g.textContent=T)),ze(O.afterSanitizeElements,g,null),!1)},Si=function(g,T,D){if(mi&&(T==="id"||T==="name")&&(D in n||D in Ts))return!1;if(!(st&&!Ct[T]&&ge(Ne,T))){if(!(rt&&ge(_t,T))){if(!U[T]||Ct[T]){if(!(Ii(g)&&(j.tagNameCheck instanceof RegExp&&ge(j.tagNameCheck,g)||j.tagNameCheck instanceof Function&&j.tagNameCheck(g))&&(j.attributeNameCheck instanceof RegExp&&ge(j.attributeNameCheck,T)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(T))||T==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&ge(j.tagNameCheck,D)||j.tagNameCheck instanceof Function&&j.tagNameCheck(D))))return!1}else if(!mn[T]){if(!ge(G,At(D,b,""))){if(!((T==="src"||T==="xlink:href"||T==="href")&&g!=="script"&&qo(D,"data:")===0&&yi[g])){if(!(xe&&!ge(dn,At(D,b,"")))){if(D)return!1}}}}}}return!0},Ii=function(g){return g!=="annotation-xml"&&qi(g,A)},Li=function(g){ze(O.beforeSanitizeAttributes,g,null);const{attributes:T}=g;if(!T||bn(g))return;const D={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let Q=T.length;for(;Q--;){const he=T[Q],{name:re,namespaceURI:ve,value:Ue}=he,Tt=ae(re),_n=Ue;let de=re==="value"?_n:Vo(_n);if(D.attrName=Tt,D.attrValue=de,D.keepAttr=!0,D.forceKeepAttr=void 0,ze(O.uponSanitizeAttribute,g,D),de=D.attrValue,Ei&&(Tt==="id"||Tt==="name")&&(dt(re,g),de=bs+de),Ht&&ge(/((--!?|])>)|<\/(style|title)/i,de)){dt(re,g);continue}if(D.forceKeepAttr)continue;if(!D.keepAttr){dt(re,g);continue}if(!gi&&ge(/\/>/i,de)){dt(re,g);continue}ot&&Zt([_e,ee,J],Mi=>{de=At(de,Mi," ")});const Ni=ae(g.nodeName);if(!Si(Ni,Tt,de)){dt(re,g);continue}if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!ve)switch(p.getAttributeType(Ni,Tt)){case"TrustedHTML":{de=k.createHTML(de);break}case"TrustedScriptURL":{de=k.createScriptURL(de);break}}if(de!==_n)try{ve?g.setAttributeNS(ve,re,de):g.setAttribute(re,de),bn(g)?Me(g):Ki(e.removed)}catch{dt(re,g)}}ze(O.afterSanitizeAttributes,g,null)},As=function L(g){let T=null;const D=Di(g);for(ze(O.beforeSanitizeShadowDOM,g,null);T=D.nextNode();)ze(O.uponSanitizeShadowNode,T,null),wi(T),Li(T),T.content instanceof r&&L(T.content);ze(O.afterSanitizeShadowDOM,g,null)};return e.sanitize=function(L){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=null,D=null,Q=null,he=null;if(En=!L,En&&(L="<!-->"),typeof L!="string"&&!Ai(L))if(typeof L.toString=="function"){if(L=L.toString(),typeof L!="string")throw wt("dirty is not a string, aborting")}else throw wt("toString is not a function");if(!e.isSupported)return L;if(pn||yn(g),e.removed=[],typeof L=="string"&&(kt=!1),kt){if(L.nodeName){const Ue=ae(L.nodeName);if(!B[Ue]||Ge[Ue])throw wt("root node is forbidden and cannot be sanitized in-place")}}else if(L instanceof a)T=Ti("<!---->"),D=T.ownerDocument.importNode(L,!0),D.nodeType===It.element&&D.nodeName==="BODY"||D.nodeName==="HTML"?T=D:T.appendChild(D);else{if(!at&&!ot&&!et&&L.indexOf("<")===-1)return k&&Ut?k.createHTML(L):L;if(T=Ti(L),!T)return at?null:Ut?y:""}T&&fn&&Me(T.firstChild);const re=Di(kt?L:T);for(;Q=re.nextNode();)wi(Q),Li(Q),Q.content instanceof r&&As(Q.content);if(kt)return L;if(at){if(zt)for(he=I.call(T.ownerDocument);T.firstChild;)he.appendChild(T.firstChild);else he=T;return(U.shadowroot||U.shadowrootmode)&&(he=V.call(i,he,!0)),he}let ve=et?T.outerHTML:T.innerHTML;return et&&B["!doctype"]&&T.ownerDocument&&T.ownerDocument.doctype&&T.ownerDocument.doctype.name&&ge(qr,T.ownerDocument.doctype.name)&&(ve="<!DOCTYPE "+T.ownerDocument.doctype.name+`>
`+ve),ot&&Zt([_e,ee,J],Ue=>{ve=At(ve,Ue," ")}),k&&Ut?k.createHTML(ve):ve},e.setConfig=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yn(L),pn=!0},e.clearConfig=function(){ht=null,pn=!1},e.isValidAttribute=function(L,g,T){ht||yn({});const D=ae(L),Q=ae(g);return Si(D,Q,T)},e.addHook=function(L,g){typeof g=="function"&&Dt(O[L],g)},e.removeHook=function(L,g){if(g!==void 0){const T=Uo(O[L],g);return T===-1?void 0:Ko(O[L],T,1)[0]}return Ki(O[L])},e.removeHooks=function(L){O[L]=[]},e.removeAllHooks=function(){O=Zi()},e}var oa=Vr();const Xi={};function aa(t){let e=Xi[t];if(e)return e;e=Xi[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);e.push(i)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function vt(t,e){typeof e!="string"&&(e=vt.defaultChars);const n=aa(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let s="";for(let r=0,o=i.length;r<o;r+=3){const a=parseInt(i.slice(r+1,r+3),16);if(a<128){s+=n[a];continue}if((a&224)===192&&r+3<o){const l=parseInt(i.slice(r+4,r+6),16);if((l&192)===128){const c=a<<6&1984|l&63;c<128?s+="��":s+=String.fromCharCode(c),r+=3;continue}}if((a&240)===224&&r+6<o){const l=parseInt(i.slice(r+4,r+6),16),c=parseInt(i.slice(r+7,r+9),16);if((l&192)===128&&(c&192)===128){const u=a<<12&61440|l<<6&4032|c&63;u<2048||u>=55296&&u<=57343?s+="���":s+=String.fromCharCode(u),r+=6;continue}}if((a&248)===240&&r+9<o){const l=parseInt(i.slice(r+4,r+6),16),c=parseInt(i.slice(r+7,r+9),16),u=parseInt(i.slice(r+10,r+12),16);if((l&192)===128&&(c&192)===128&&(u&192)===128){let h=a<<18&1835008|l<<12&258048|c<<6&4032|u&63;h<65536||h>1114111?s+="����":(h-=65536,s+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),r+=9;continue}}s+="�"}return s})}vt.defaultChars=";/?:@&=+$,#";vt.componentChars="";const Ji={};function la(t){let e=Ji[t];if(e)return e;e=Ji[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Ot(t,e,n){typeof e!="string"&&(n=e,e=Ot.defaultChars),typeof n>"u"&&(n=!0);const i=la(e);let s="";for(let r=0,o=t.length;r<o;r++){const a=t.charCodeAt(r);if(n&&a===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3))){s+=t.slice(r,r+3),r+=2;continue}if(a<128){s+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&r+1<o){const l=t.charCodeAt(r+1);if(l>=56320&&l<=57343){s+=encodeURIComponent(t[r]+t[r+1]),r++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(t[r])}return s}Ot.defaultChars=";/?:@&=+$,-_.!~*'()#";Ot.componentChars="-_.!~*'()";function oi(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function nn(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const ca=/^([a-z0-9.+-]+:)/i,ua=/:[0-9]*$/,ha=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,da=["<",">",'"',"`"," ","\r",`
`,"	"],pa=["{","}","|","\\","^","`"].concat(da),fa=["'"].concat(pa),Qi=["%","/","?",";","#"].concat(fa),er=["/","?","#"],ga=255,tr=/^[+a-z0-9A-Z_-]{0,63}$/,ma=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nr={javascript:!0,"javascript:":!0},ir={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ai(t,e){if(t&&t instanceof nn)return t;const n=new nn;return n.parse(t,e),n}nn.prototype.parse=function(t,e){let n,i,s,r=t;if(r=r.trim(),!e&&t.split("#").length===1){const c=ha.exec(r);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let o=ca.exec(r);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,r=r.substr(o.length)),(e||o||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=r.substr(0,2)==="//",s&&!(o&&nr[o])&&(r=r.substr(2),this.slashes=!0)),!nr[o]&&(s||o&&!ir[o])){let c=-1;for(let f=0;f<er.length;f++)i=r.indexOf(er[f]),i!==-1&&(c===-1||i<c)&&(c=i);let u,h;c===-1?h=r.lastIndexOf("@"):h=r.lastIndexOf("@",c),h!==-1&&(u=r.slice(0,h),r=r.slice(h+1),this.auth=u),c=-1;for(let f=0;f<Qi.length;f++)i=r.indexOf(Qi[f]),i!==-1&&(c===-1||i<c)&&(c=i);c===-1&&(c=r.length),r[c-1]===":"&&c--;const d=r.slice(0,c);r=r.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const f=this.hostname.split(/\./);for(let v=0,E=f.length;v<E;v++){const _=f[v];if(_&&!_.match(tr)){let C="";for(let m=0,k=_.length;m<k;m++)_.charCodeAt(m)>127?C+="x":C+=_[m];if(!C.match(tr)){const m=f.slice(0,v),k=f.slice(v+1),y=_.match(ma);y&&(m.push(y[1]),k.unshift(y[2])),k.length&&(r=k.join(".")+r),this.hostname=m.join(".");break}}}}this.hostname.length>ga&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=r.indexOf("#");a!==-1&&(this.hash=r.substr(a),r=r.slice(0,a));const l=r.indexOf("?");return l!==-1&&(this.search=r.substr(l),r=r.slice(0,l)),r&&(this.pathname=r),ir[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};nn.prototype.parseHost=function(t){let e=ua.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Ea=Object.freeze(Object.defineProperty({__proto__:null,decode:vt,encode:Ot,format:oi,parse:ai},Symbol.toStringTag,{value:"Module"})),Gr=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Yr=/[\0-\x1F\x7F-\x9F]/,va=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,li=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Wr=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,jr=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ya=Object.freeze(Object.defineProperty({__proto__:null,Any:Gr,Cc:Yr,Cf:va,P:li,S:Wr,Z:jr},Symbol.toStringTag,{value:"Module"})),ba=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),_a=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Nn;const Ca=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ka=(Nn=String.fromCodePoint)!==null&&Nn!==void 0?Nn:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function xa(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Ca.get(t))!==null&&e!==void 0?e:t}var ce;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ce||(ce={}));const Ta=32;var Xe;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Xe||(Xe={}));function Yn(t){return t>=ce.ZERO&&t<=ce.NINE}function Da(t){return t>=ce.UPPER_A&&t<=ce.UPPER_F||t>=ce.LOWER_A&&t<=ce.LOWER_F}function Aa(t){return t>=ce.UPPER_A&&t<=ce.UPPER_Z||t>=ce.LOWER_A&&t<=ce.LOWER_Z||Yn(t)}function wa(t){return t===ce.EQUALS||Aa(t)}var le;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(le||(le={}));var je;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(je||(je={}));class Sa{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=le.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=je.Strict}startEntity(e){this.decodeMode=e,this.state=le.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case le.EntityStart:return e.charCodeAt(n)===ce.NUM?(this.state=le.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=le.NamedEntity,this.stateNamedEntity(e,n));case le.NumericStart:return this.stateNumericStart(e,n);case le.NumericDecimal:return this.stateNumericDecimal(e,n);case le.NumericHex:return this.stateNumericHex(e,n);case le.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Ta)===ce.LOWER_X?(this.state=le.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=le.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,s){if(n!==i){const r=i-n;this.result=this.result*Math.pow(s,r)+parseInt(e.substr(n,r),s),this.consumed+=r}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Yn(s)||Da(s))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const s=e.charCodeAt(n);if(Yn(s))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ce.SEMI)this.consumed+=1;else if(this.decodeMode===je.Strict)return 0;return this.emitCodePoint(xa(this.result),this.consumed),this.errors&&(e!==ce.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let s=i[this.treeIndex],r=(s&Xe.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=Ia(i,s,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return this.result===0||this.decodeMode===je.Attribute&&(r===0||wa(o))?0:this.emitNotTerminatedNamedEntity();if(s=i[this.treeIndex],r=(s&Xe.VALUE_LENGTH)>>14,r!==0){if(o===ce.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==je.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,s=(i[n]&Xe.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~Xe.VALUE_LENGTH:s[e+1],i),n===3&&this.emitCodePoint(s[e+2],i),i}end(){var e;switch(this.state){case le.NamedEntity:return this.result!==0&&(this.decodeMode!==je.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case le.NumericDecimal:return this.emitNumericEntity(0,2);case le.NumericHex:return this.emitNumericEntity(0,3);case le.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case le.EntityStart:return 0}}}function Zr(t){let e="";const n=new Sa(t,i=>e+=ka(i));return function(s,r){let o=0,a=0;for(;(a=s.indexOf("&",a))>=0;){e+=s.slice(o,a),n.startEntity(r);const c=n.write(s,a+1);if(c<0){o=a+n.end();break}o=a+c,a=c===0?o+1:o}const l=e+s.slice(o);return e="",l}}function Ia(t,e,n,i){const s=(e&Xe.BRANCH_LENGTH)>>7,r=e&Xe.JUMP_TABLE;if(s===0)return r!==0&&i===r?n:-1;if(r){const l=i-r;return l<0||l>=s?-1:t[n+l]-1}let o=n,a=o+s-1;for(;o<=a;){const l=o+a>>>1,c=t[l];if(c<i)o=l+1;else if(c>i)a=l-1;else return t[l+s]}return-1}const La=Zr(ba);Zr(_a);function Xr(t,e=je.Legacy){return La(t,e)}function Na(t){return Object.prototype.toString.call(t)}function ci(t){return Na(t)==="[object String]"}const Ma=Object.prototype.hasOwnProperty;function Ra(t,e){return Ma.call(t,e)}function ln(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){t[i]=n[i]})}}),t}function Jr(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function ui(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function rn(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Qr=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Pa=/&([a-z#][a-z0-9]{1,31});/gi,Fa=new RegExp(Qr.source+"|"+Pa.source,"gi"),Oa=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Ba(t,e){if(e.charCodeAt(0)===35&&Oa.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return ui(i)?rn(i):t}const n=Xr(t);return n!==t?n:t}function $a(t){return t.indexOf("\\")<0?t:t.replace(Qr,"$1")}function yt(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Fa,function(e,n,i){return n||Ba(e,i)})}const Ha=/[&<>"]/,za=/[&<>"]/g,Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ka(t){return Ua[t]}function Je(t){return Ha.test(t)?t.replace(za,Ka):t}const qa=/[.?*+^$[\]\\(){}|-]/g;function Va(t){return t.replace(qa,"\\$&")}function X(t){switch(t){case 9:case 32:return!0}return!1}function Lt(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Nt(t){return li.test(t)||Wr.test(t)}function Mt(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function cn(t){return t=t.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const Ga={mdurl:Ea,ucmicro:ya},Ya=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Jr,assign:ln,escapeHtml:Je,escapeRE:Va,fromCodePoint:rn,has:Ra,isMdAsciiPunct:Mt,isPunctChar:Nt,isSpace:X,isString:ci,isValidEntityCode:ui,isWhiteSpace:Lt,lib:Ga,normalizeReference:cn,unescapeAll:yt,unescapeMd:$a},Symbol.toStringTag,{value:"Module"}));function Wa(t,e,n){let i,s,r,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<a;){if(r=t.src.charCodeAt(t.pos),r===93&&(i--,i===0)){s=!0;break}if(o=t.pos,t.md.inline.skipToken(t),r===91){if(o===t.pos-1)i++;else if(n)return t.pos=l,-1}}let c=-1;return s&&(c=t.pos),t.pos=l,c}function ja(t,e,n){let i,s=e;const r={ok:!1,pos:0,str:""};if(t.charCodeAt(s)===60){for(s++;s<n;){if(i=t.charCodeAt(s),i===10||i===60)return r;if(i===62)return r.pos=s+1,r.str=yt(t.slice(e+1,s)),r.ok=!0,r;if(i===92&&s+1<n){s+=2;continue}s++}return r}let o=0;for(;s<n&&(i=t.charCodeAt(s),!(i===32||i<32||i===127));){if(i===92&&s+1<n){if(t.charCodeAt(s+1)===32)break;s+=2;continue}if(i===40&&(o++,o>32))return r;if(i===41){if(o===0)break;o--}s++}return e===s||o!==0||(r.str=yt(t.slice(e,s)),r.pos=s,r.ok=!0),r}function Za(t,e,n,i){let s,r=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)o.str=i.str,o.marker=i.marker;else{if(r>=n)return o;let a=t.charCodeAt(r);if(a!==34&&a!==39&&a!==40)return o;e++,r++,a===40&&(a=41),o.marker=a}for(;r<n;){if(s=t.charCodeAt(r),s===o.marker)return o.pos=r+1,o.str+=yt(t.slice(e,r)),o.ok=!0,o;if(s===40&&o.marker===41)return o;s===92&&r+1<n&&r++,r++}return o.can_continue=!0,o.str+=yt(t.slice(e,r)),o}const Xa=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:ja,parseLinkLabel:Wa,parseLinkTitle:Za},Symbol.toStringTag,{value:"Module"})),Be={};Be.code_inline=function(t,e,n,i,s){const r=t[e];return"<code"+s.renderAttrs(r)+">"+Je(r.content)+"</code>"};Be.code_block=function(t,e,n,i,s){const r=t[e];return"<pre"+s.renderAttrs(r)+"><code>"+Je(t[e].content)+`</code></pre>
`};Be.fence=function(t,e,n,i,s){const r=t[e],o=r.info?yt(r.info).trim():"";let a="",l="";if(o){const u=o.split(/(\s+)/g);a=u[0],l=u.slice(2).join("")}let c;if(n.highlight?c=n.highlight(r.content,a,l)||Je(r.content):c=Je(r.content),c.indexOf("<pre")===0)return c+`
`;if(o){const u=r.attrIndex("class"),h=r.attrs?r.attrs.slice():[];u<0?h.push(["class",n.langPrefix+a]):(h[u]=h[u].slice(),h[u][1]+=" "+n.langPrefix+a);const d={attrs:h};return`<pre><code${s.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${s.renderAttrs(r)}>${c}</code></pre>
`};Be.image=function(t,e,n,i,s){const r=t[e];return r.attrs[r.attrIndex("alt")][1]=s.renderInlineAsText(r.children,n,i),s.renderToken(t,e,n)};Be.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Be.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Be.text=function(t,e){return Je(t[e].content)};Be.html_block=function(t,e){return t[e].content};Be.html_inline=function(t,e){return t[e].content};function bt(){this.rules=ln({},Be)}bt.prototype.renderAttrs=function(e){let n,i,s;if(!e.attrs)return"";for(s="",n=0,i=e.attrs.length;n<i;n++)s+=" "+Je(e.attrs[n][0])+'="'+Je(e.attrs[n][1])+'"';return s};bt.prototype.renderToken=function(e,n,i){const s=e[n];let r="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&e[n-1].hidden&&(r+=`
`),r+=(s.nesting===-1?"</":"<")+s.tag,r+=this.renderAttrs(s),s.nesting===0&&i.xhtmlOut&&(r+=" /");let o=!1;if(s.block&&(o=!0,s.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===s.tag)&&(o=!1)}return r+=o?`>
`:">",r};bt.prototype.renderInline=function(t,e,n){let i="";const s=this.rules;for(let r=0,o=t.length;r<o;r++){const a=t[r].type;typeof s[a]<"u"?i+=s[a](t,r,e,n,this):i+=this.renderToken(t,r,e)}return i};bt.prototype.renderInlineAsText=function(t,e,n){let i="";for(let s=0,r=t.length;s<r;s++)switch(t[s].type){case"text":i+=t[s].content;break;case"image":i+=this.renderInlineAsText(t[s].children,e,n);break;case"html_inline":case"html_block":i+=t[s].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};bt.prototype.render=function(t,e,n){let i="";const s=this.rules;for(let r=0,o=t.length;r<o;r++){const a=t[r].type;a==="inline"?i+=this.renderInline(t[r].children,e,n):typeof s[a]<"u"?i+=s[a](t,r,e,n,this):i+=this.renderToken(t,r,e,n)}return i};function be(){this.__rules__=[],this.__cache__=null}be.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};be.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||t.__cache__[n].push(i.fn))})})};be.prototype.at=function(t,e,n){const i=this.__find__(t),s=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=s.alt||[],this.__cache__=null};be.prototype.before=function(t,e,n,i){const s=this.__find__(t),r=i||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};be.prototype.after=function(t,e,n,i){const s=this.__find__(t),r=i||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};be.prototype.push=function(t,e,n){const i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};be.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const s=this.__find__(i);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[s].enabled=!0,n.push(i)},this),this.__cache__=null,n};be.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};be.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const s=this.__find__(i);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[s].enabled=!1,n.push(i)},this),this.__cache__=null,n};be.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Le(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Le.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,s=n.length;i<s;i++)if(n[i][0]===e)return i;return-1};Le.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Le.prototype.attrSet=function(e,n){const i=this.attrIndex(e),s=[e,n];i<0?this.attrPush(s):this.attrs[i]=s};Le.prototype.attrGet=function(e){const n=this.attrIndex(e);let i=null;return n>=0&&(i=this.attrs[n][1]),i};Le.prototype.attrJoin=function(e,n){const i=this.attrIndex(e);i<0?this.attrPush([e,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function es(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}es.prototype.Token=Le;const Ja=/\r\n?|\n/g,Qa=/\0/g;function el(t){let e;e=t.src.replace(Ja,`
`),e=e.replace(Qa,"�"),t.src=e}function tl(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function nl(t){const e=t.tokens;for(let n=0,i=e.length;n<i;n++){const s=e[n];s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}function il(t){return/^<a[>\s]/i.test(t)}function rl(t){return/^<\/a\s*>/i.test(t)}function sl(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let s=e[n].children,r=0;for(let o=s.length-1;o>=0;o--){const a=s[o];if(a.type==="link_close"){for(o--;s[o].level!==a.level&&s[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(il(a.content)&&r>0&&r--,rl(a.content)&&r++),!(r>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let c=t.md.linkify.match(l);const u=[];let h=a.level,d=0;c.length>0&&c[0].index===0&&o>0&&s[o-1].type==="text_special"&&(c=c.slice(1));for(let p=0;p<c.length;p++){const f=c[p].url,v=t.md.normalizeLink(f);if(!t.md.validateLink(v))continue;let E=c[p].text;c[p].schema?c[p].schema==="mailto:"&&!/^mailto:/i.test(E)?E=t.md.normalizeLinkText("mailto:"+E).replace(/^mailto:/,""):E=t.md.normalizeLinkText(E):E=t.md.normalizeLinkText("http://"+E).replace(/^http:\/\//,"");const _=c[p].index;if(_>d){const y=new t.Token("text","",0);y.content=l.slice(d,_),y.level=h,u.push(y)}const C=new t.Token("link_open","a",1);C.attrs=[["href",v]],C.level=h++,C.markup="linkify",C.info="auto",u.push(C);const m=new t.Token("text","",0);m.content=E,m.level=h,u.push(m);const k=new t.Token("link_close","a",-1);k.level=--h,k.markup="linkify",k.info="auto",u.push(k),d=c[p].lastIndex}if(d<l.length){const p=new t.Token("text","",0);p.content=l.slice(d),p.level=h,u.push(p)}e[n].children=s=Jr(s,o,u)}}}}const ts=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,ol=/\((c|tm|r)\)/i,al=/\((c|tm|r)\)/ig,ll={c:"©",r:"®",tm:"™"};function cl(t,e){return ll[e.toLowerCase()]}function ul(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&(i.content=i.content.replace(al,cl)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function hl(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&ts.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function dl(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(ol.test(t.tokens[e].content)&&ul(t.tokens[e].children),ts.test(t.tokens[e].content)&&hl(t.tokens[e].children))}const pl=/['"]/,rr=/['"]/g,sr="’";function Jt(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function fl(t,e){let n;const i=[];for(let s=0;s<t.length;s++){const r=t[s],o=t[s].level;for(n=i.length-1;n>=0&&!(i[n].level<=o);n--);if(i.length=n+1,r.type!=="text")continue;let a=r.content,l=0,c=a.length;e:for(;l<c;){rr.lastIndex=l;const u=rr.exec(a);if(!u)break;let h=!0,d=!0;l=u.index+1;const p=u[0]==="'";let f=32;if(u.index-1>=0)f=a.charCodeAt(u.index-1);else for(n=s-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){f=t[n].content.charCodeAt(t[n].content.length-1);break}let v=32;if(l<c)v=a.charCodeAt(l);else for(n=s+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){v=t[n].content.charCodeAt(0);break}const E=Mt(f)||Nt(String.fromCharCode(f)),_=Mt(v)||Nt(String.fromCharCode(v)),C=Lt(f),m=Lt(v);if(m?h=!1:_&&(C||E||(h=!1)),C?d=!1:E&&(m||_||(d=!1)),v===34&&u[0]==='"'&&f>=48&&f<=57&&(d=h=!1),h&&d&&(h=E,d=_),!h&&!d){p&&(r.content=Jt(r.content,u.index,sr));continue}if(d)for(n=i.length-1;n>=0;n--){let k=i[n];if(i[n].level<o)break;if(k.single===p&&i[n].level===o){k=i[n];let y,x;p?(y=e.md.options.quotes[2],x=e.md.options.quotes[3]):(y=e.md.options.quotes[0],x=e.md.options.quotes[1]),r.content=Jt(r.content,u.index,x),t[k.token].content=Jt(t[k.token].content,k.pos,y),l+=x.length-1,k.token===s&&(l+=y.length-1),a=r.content,c=a.length,i.length=n;continue e}}h?i.push({token:s,pos:u.index,single:p,level:o}):d&&p&&(r.content=Jt(r.content,u.index,sr))}}}function gl(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!pl.test(t.tokens[e].content)||fl(t.tokens[e].children,t)}function ml(t){let e,n;const i=t.tokens,s=i.length;for(let r=0;r<s;r++){if(i[r].type!=="inline")continue;const o=i[r].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const Mn=[["normalize",el],["block",tl],["inline",nl],["linkify",sl],["replacements",dl],["smartquotes",gl],["text_join",ml]];function hi(){this.ruler=new be;for(let t=0;t<Mn.length;t++)this.ruler.push(Mn[t][0],Mn[t][1])}hi.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,i=e.length;n<i;n++)e[n](t)};hi.prototype.State=es;function $e(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let r=0,o=0,a=0,l=0,c=s.length,u=!1;o<c;o++){const h=s.charCodeAt(o);if(!u)if(X(h)){a++,h===9?l+=4-l%4:l++;continue}else u=!0;(h===10||o===c-1)&&(h!==10&&o++,this.bMarks.push(r),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),u=!1,a=0,l=0,r=o+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}$e.prototype.push=function(t,e,n){const i=new Le(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};$e.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};$e.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};$e.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const i=this.src.charCodeAt(e);if(!X(i))break}return e};$e.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!X(this.src.charCodeAt(--e)))return e+1;return e};$e.prototype.skipChars=function(e,n){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===n;e++);return e};$e.prototype.skipCharsBack=function(e,n,i){if(e<=i)return e;for(;e>i;)if(n!==this.src.charCodeAt(--e))return e+1;return e};$e.prototype.getLines=function(e,n,i,s){if(e>=n)return"";const r=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let l=0;const c=this.bMarks[a];let u=c,h;for(a+1<n||s?h=this.eMarks[a]+1:h=this.eMarks[a];u<h&&l<i;){const d=this.src.charCodeAt(u);if(X(d))d===9?l+=4-(l+this.bsCount[a])%4:l++;else if(u-c<this.tShift[a])l++;else break;u++}l>i?r[o]=new Array(l-i+1).join(" ")+this.src.slice(u,h):r[o]=this.src.slice(u,h)}return r.join("")};$e.prototype.Token=Le;const El=65536;function Rn(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(n,i)}function or(t){const e=[],n=t.length;let i=0,s=t.charCodeAt(i),r=!1,o=0,a="";for(;i<n;)s===124&&(r?(a+=t.substring(o,i-1),o=i):(e.push(a+t.substring(o,i)),a="",o=i+1)),r=s===92,i++,s=t.charCodeAt(i);return e.push(a+t.substring(o)),e}function vl(t,e,n,i){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent||t.sCount[s]-t.blkIndent>=4)return!1;let r=t.bMarks[s]+t.tShift[s];if(r>=t.eMarks[s])return!1;const o=t.src.charCodeAt(r++);if(o!==124&&o!==45&&o!==58||r>=t.eMarks[s])return!1;const a=t.src.charCodeAt(r++);if(a!==124&&a!==45&&a!==58&&!X(a)||o===45&&X(a))return!1;for(;r<t.eMarks[s];){const k=t.src.charCodeAt(r);if(k!==124&&k!==45&&k!==58&&!X(k))return!1;r++}let l=Rn(t,e+1),c=l.split("|");const u=[];for(let k=0;k<c.length;k++){const y=c[k].trim();if(!y){if(k===0||k===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;y.charCodeAt(y.length-1)===58?u.push(y.charCodeAt(0)===58?"center":"right"):y.charCodeAt(0)===58?u.push("left"):u.push("")}if(l=Rn(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=or(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==u.length)return!1;if(i)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),f=t.push("table_open","table",1),v=[e,0];f.map=v;const E=t.push("thead_open","thead",1);E.map=[e,e+1];const _=t.push("tr_open","tr",1);_.map=[e,e+1];for(let k=0;k<c.length;k++){const y=t.push("th_open","th",1);u[k]&&(y.attrs=[["style","text-align:"+u[k]]]);const x=t.push("inline","",0);x.content=c[k].trim(),x.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let C,m=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let k=!1;for(let x=0,S=p.length;x<S;x++)if(p[x](t,s,n,!0)){k=!0;break}if(k||(l=Rn(t,s).trim(),!l)||t.sCount[s]-t.blkIndent>=4||(c=or(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),m+=h-c.length,m>El))break;if(s===e+2){const x=t.push("tbody_open","tbody",1);x.map=C=[e+2,0]}const y=t.push("tr_open","tr",1);y.map=[s,s+1];for(let x=0;x<h;x++){const S=t.push("td_open","td",1);u[x]&&(S.attrs=[["style","text-align:"+u[x]]]);const I=t.push("inline","",0);I.content=c[x]?c[x].trim():"",I.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return C&&(t.push("tbody_close","tbody",-1),C[1]=s),t.push("table_close","table",-1),v[1]=s,t.parentType=d,t.line=s,!0}function yl(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,s=i;for(;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,s=i;continue}break}t.line=s;const r=t.push("code_block","code",0);return r.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,r.map=[e,t.line],!0}function bl(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||s+3>r)return!1;const o=t.src.charCodeAt(s);if(o!==126&&o!==96)return!1;let a=s;s=t.skipChars(s,o);let l=s-a;if(l<3)return!1;const c=t.src.slice(a,s),u=t.src.slice(s,r);if(o===96&&u.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;let h=e,d=!1;for(;h++,!(h>=n||(s=a=t.bMarks[h]+t.tShift[h],r=t.eMarks[h],s<r&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(s)===o&&!(t.sCount[h]-t.blkIndent>=4)&&(s=t.skipChars(s,o),!(s-a<l)&&(s=t.skipSpaces(s),!(s<r)))){d=!0;break}l=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,h,l,!0),p.markup=c,p.map=[e,t.line],!0}function _l(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==62)return!1;if(i)return!0;const a=[],l=[],c=[],u=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p=!1,f;for(f=e;f<n;f++){const m=t.sCount[f]<t.blkIndent;if(s=t.bMarks[f]+t.tShift[f],r=t.eMarks[f],s>=r)break;if(t.src.charCodeAt(s++)===62&&!m){let y=t.sCount[f]+1,x,S;t.src.charCodeAt(s)===32?(s++,y++,S=!1,x=!0):t.src.charCodeAt(s)===9?(x=!0,(t.bsCount[f]+y)%4===3?(s++,y++,S=!1):S=!0):x=!1;let I=y;for(a.push(t.bMarks[f]),t.bMarks[f]=s;s<r;){const w=t.src.charCodeAt(s);if(X(w))w===9?I+=4-(I+t.bsCount[f]+(S?1:0))%4:I++;else break;s++}p=s>=r,l.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(x?1:0),c.push(t.sCount[f]),t.sCount[f]=I-y,u.push(t.tShift[f]),t.tShift[f]=s-t.bMarks[f];continue}if(p)break;let k=!1;for(let y=0,x=h.length;y<x;y++)if(h[y](t,f,n,!0)){k=!0;break}if(k){t.lineMax=f,t.blkIndent!==0&&(a.push(t.bMarks[f]),l.push(t.bsCount[f]),u.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}a.push(t.bMarks[f]),l.push(t.bsCount[f]),u.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]=-1}const v=t.blkIndent;t.blkIndent=0;const E=t.push("blockquote_open","blockquote",1);E.markup=">";const _=[e,0];E.map=_,t.md.block.tokenize(t,e,f);const C=t.push("blockquote_close","blockquote",-1);C.markup=">",t.lineMax=o,t.parentType=d,_[1]=t.line;for(let m=0;m<u.length;m++)t.bMarks[m+e]=a[m],t.tShift[m+e]=u[m],t.sCount[m+e]=c[m],t.bsCount[m+e]=l[m];return t.blkIndent=v,!0}function Cl(t,e,n,i){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let r=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(r++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;r<s;){const c=t.src.charCodeAt(r++);if(c!==o&&!X(c))return!1;c===o&&a++}if(a<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function ar(t,e){const n=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(i++);if(s!==42&&s!==45&&s!==43)return-1;if(i<n){const r=t.src.charCodeAt(i);if(!X(r))return-1}return i}function lr(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let s=n;if(s+1>=i)return-1;let r=t.src.charCodeAt(s++);if(r<48||r>57)return-1;for(;;){if(s>=i)return-1;if(r=t.src.charCodeAt(s++),r>=48&&r<=57){if(s-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return s<i&&(r=t.src.charCodeAt(s),!X(r))?-1:s}function kl(t,e){const n=t.level+2;for(let i=e+2,s=t.tokens.length-2;i<s;i++)t.tokens[i].level===n&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function xl(t,e,n,i){let s,r,o,a,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let u=!1;i&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(u=!0);let h,d,p;if((p=lr(t,l))>=0){if(h=!0,o=t.bMarks[l]+t.tShift[l],d=Number(t.src.slice(o,p-1)),u&&d!==1)return!1}else if((p=ar(t,l))>=0)h=!1;else return!1;if(u&&t.skipSpaces(p)>=t.eMarks[l])return!1;if(i)return!0;const f=t.src.charCodeAt(p-1),v=t.tokens.length;h?(a=t.push("ordered_list_open","ol",1),d!==1&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const E=[l,0];a.map=E,a.markup=String.fromCharCode(f);let _=!1;const C=t.md.block.ruler.getRules("list"),m=t.parentType;for(t.parentType="list";l<n;){r=p,s=t.eMarks[l];const k=t.sCount[l]+p-(t.bMarks[l]+t.tShift[l]);let y=k;for(;r<s;){const Ne=t.src.charCodeAt(r);if(Ne===9)y+=4-(y+t.bsCount[l])%4;else if(Ne===32)y++;else break;r++}const x=r;let S;x>=s?S=1:S=y-k,S>4&&(S=1);const I=k+S;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const w=[l,0];a.map=w,h&&(a.info=t.src.slice(o,p-1));const V=t.tight,O=t.tShift[l],_e=t.sCount[l],ee=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=I,t.tight=!0,t.tShift[l]=x-t.bMarks[l],t.sCount[l]=y,x>=s&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||_)&&(c=!1),_=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ee,t.tShift[l]=O,t.sCount[l]=_e,t.tight=V,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),l=t.line,w[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let J=!1;for(let Ne=0,_t=C.length;Ne<_t;Ne++)if(C[Ne](t,l,n,!0)){J=!0;break}if(J)break;if(h){if(p=lr(t,l),p<0)break;o=t.bMarks[l]+t.tShift[l]}else if(p=ar(t,l),p<0)break;if(f!==t.src.charCodeAt(p-1))break}return h?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),E[1]=l,t.line=l,t.parentType=m,c&&kl(t,v),!0}function Tl(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],r=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;function a(C){const m=t.lineMax;if(C>=m||t.isEmpty(C))return null;let k=!1;if(t.sCount[C]-t.blkIndent>3&&(k=!0),t.sCount[C]<0&&(k=!0),!k){const S=t.md.block.ruler.getRules("reference"),I=t.parentType;t.parentType="reference";let w=!1;for(let V=0,O=S.length;V<O;V++)if(S[V](t,C,m,!0)){w=!0;break}if(t.parentType=I,w)return null}const y=t.bMarks[C]+t.tShift[C],x=t.eMarks[C];return t.src.slice(y,x+1)}let l=t.src.slice(s,r+1);r=l.length;let c=-1;for(s=1;s<r;s++){const C=l.charCodeAt(s);if(C===91)return!1;if(C===93){c=s;break}else if(C===10){const m=a(o);m!==null&&(l+=m,r=l.length,o++)}else if(C===92&&(s++,s<r&&l.charCodeAt(s)===10)){const m=a(o);m!==null&&(l+=m,r=l.length,o++)}}if(c<0||l.charCodeAt(c+1)!==58)return!1;for(s=c+2;s<r;s++){const C=l.charCodeAt(s);if(C===10){const m=a(o);m!==null&&(l+=m,r=l.length,o++)}else if(!X(C))break}const u=t.md.helpers.parseLinkDestination(l,s,r);if(!u.ok)return!1;const h=t.md.normalizeLink(u.str);if(!t.md.validateLink(h))return!1;s=u.pos;const d=s,p=o,f=s;for(;s<r;s++){const C=l.charCodeAt(s);if(C===10){const m=a(o);m!==null&&(l+=m,r=l.length,o++)}else if(!X(C))break}let v=t.md.helpers.parseLinkTitle(l,s,r);for(;v.can_continue;){const C=a(o);if(C===null)break;l+=C,s=r,r=l.length,o++,v=t.md.helpers.parseLinkTitle(l,s,r,v)}let E;for(s<r&&f!==s&&v.ok?(E=v.str,s=v.pos):(E="",s=d,o=p);s<r;){const C=l.charCodeAt(s);if(!X(C))break;s++}if(s<r&&l.charCodeAt(s)!==10&&E)for(E="",s=d,o=p;s<r;){const C=l.charCodeAt(s);if(!X(C))break;s++}if(s<r&&l.charCodeAt(s)!==10)return!1;const _=cn(l.slice(1,c));return _?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[_]>"u"&&(t.env.references[_]={title:E,href:h}),t.line=o),!0):!1}const Dl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Al="[a-zA-Z_:][a-zA-Z0-9:._-]*",wl="[^\"'=<>`\\x00-\\x20]+",Sl="'[^']*'",Il='"[^"]*"',Ll="(?:"+wl+"|"+Sl+"|"+Il+")",Nl="(?:\\s+"+Al+"(?:\\s*=\\s*"+Ll+")?)",ns="<[A-Za-z][A-Za-z0-9\\-]*"+Nl+"*\\s*\\/?>",is="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Ml="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Rl="<[?][\\s\\S]*?[?]>",Pl="<![A-Za-z][^>]*>",Fl="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Ol=new RegExp("^(?:"+ns+"|"+is+"|"+Ml+"|"+Rl+"|"+Pl+"|"+Fl+")"),Bl=new RegExp("^(?:"+ns+"|"+is+")"),pt=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Dl.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Bl.source+"\\s*$"),/^$/,!1]];function $l(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(s)!==60)return!1;let o=t.src.slice(s,r),a=0;for(;a<pt.length&&!pt[a][0].test(o);a++);if(a===pt.length)return!1;if(i)return pt[a][2];let l=e+1;if(!pt[a][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(s=t.bMarks[l]+t.tShift[l],r=t.eMarks[l],o=t.src.slice(s,r),pt[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0}function Hl(t,e,n,i){let s=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(s);if(o!==35||s>=r)return!1;let a=1;for(o=t.src.charCodeAt(++s);o===35&&s<r&&a<=6;)a++,o=t.src.charCodeAt(++s);if(a>6||s<r&&!X(o))return!1;if(i)return!0;r=t.skipSpacesBack(r,s);const l=t.skipCharsBack(r,35,s);l>s&&X(t.src.charCodeAt(l-1))&&(r=l),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const u=t.push("inline","",0);u.content=t.src.slice(s,r).trim(),u.map=[e,t.line],u.children=[];const h=t.push("heading_close","h"+String(a),-1);return h.markup="########".slice(0,a),!0}function zl(t,e,n){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let r=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let p=t.bMarks[a]+t.tShift[a];const f=t.eMarks[a];if(p<f&&(o=t.src.charCodeAt(p),(o===45||o===61)&&(p=t.skipChars(p,o),p=t.skipSpaces(p),p>=f))){r=o===61?1:2;break}}if(t.sCount[a]<0)continue;let d=!1;for(let p=0,f=i.length;p<f;p++)if(i[p](t,a,n,!0)){d=!0;break}if(d)break}if(!r)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(r),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const u=t.push("inline","",0);u.content=l,u.map=[e,t.line-1],u.children=[];const h=t.push("heading_close","h"+String(r),-1);return h.markup=String.fromCharCode(o),t.parentType=s,!0}function Ul(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let r=e+1;for(t.parentType="paragraph";r<n&&!t.isEmpty(r);r++){if(t.sCount[r]-t.blkIndent>3||t.sCount[r]<0)continue;let c=!1;for(let u=0,h=i.length;u<h;u++)if(i[u](t,r,n,!0)){c=!0;break}if(c)break}const o=t.getLines(e,r,t.blkIndent,!1).trim();t.line=r;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}const Qt=[["table",vl,["paragraph","reference"]],["code",yl],["fence",bl,["paragraph","reference","blockquote","list"]],["blockquote",_l,["paragraph","reference","blockquote","list"]],["hr",Cl,["paragraph","reference","blockquote","list"]],["list",xl,["paragraph","reference","blockquote"]],["reference",Tl],["html_block",$l,["paragraph","reference","blockquote"]],["heading",Hl,["paragraph","reference","blockquote"]],["lheading",zl],["paragraph",Ul]];function un(){this.ruler=new be;for(let t=0;t<Qt.length;t++)this.ruler.push(Qt[t][0],Qt[t][1],{alt:(Qt[t][2]||[]).slice()})}un.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),s=i.length,r=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=r){t.line=n;break}const l=t.line;let c=!1;for(let u=0;u<s;u++)if(c=i[u](t,o,n,!1),c){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};un.prototype.parse=function(t,e,n,i){if(!t)return;const s=new this.State(t,e,n,i);this.tokenize(s,s.line,s.lineMax)};un.prototype.State=$e;function Bt(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Bt.prototype.pushPending=function(){const t=new Le("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Bt.prototype.push=function(t,e,n){this.pending&&this.pushPending();const i=new Le(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(s),i};Bt.prototype.scanDelims=function(t,e){const n=this.posMax,i=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let r=t;for(;r<n&&this.src.charCodeAt(r)===i;)r++;const o=r-t,a=r<n?this.src.charCodeAt(r):32,l=Mt(s)||Nt(String.fromCharCode(s)),c=Mt(a)||Nt(String.fromCharCode(a)),u=Lt(s),h=Lt(a),d=!h&&(!c||u||l),p=!u&&(!l||h||c);return{can_open:d&&(e||!p||l),can_close:p&&(e||!d||c),length:o}};Bt.prototype.Token=Le;function Kl(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function ql(t,e){let n=t.pos;for(;n<t.posMax&&!Kl(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Vl=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Gl(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,i=t.posMax;if(n+3>i||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const s=t.pending.match(Vl);if(!s)return!1;const r=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-r.length));if(!o)return!1;let a=o.url;if(a.length<=r.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-r.length);const c=t.push("link_open","a",1);c.attrs=[["href",l]],c.markup="linkify",c.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(a);const h=t.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return t.pos+=a.length-r.length,!0}function Yl(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const i=t.pending.length-1,s=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let r=i-1;for(;r>=1&&t.pending.charCodeAt(r-1)===32;)r--;t.pending=t.pending.slice(0,r),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&X(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const di=[];for(let t=0;t<256;t++)di.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){di[t.charCodeAt(0)]=1});function Wl(t,e){let n=t.pos;const i=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let s=t.src.charCodeAt(n);if(s===10){for(e||t.push("hardbreak","br",0),n++;n<i&&(s=t.src.charCodeAt(n),!!X(s));)n++;return t.pos=n,!0}let r=t.src[n];if(s>=55296&&s<=56319&&n+1<i){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(r+=t.src[n+1],n++)}const o="\\"+r;if(!e){const a=t.push("text_special","",0);s<256&&di[s]!==0?a.content=r:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function jl(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const s=n;n++;const r=t.posMax;for(;n<r&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(s,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=s)return e||(t.pending+=o),t.pos+=a,!0;let l=n,c;for(;(c=t.src.indexOf("`",l))!==-1;){for(l=c+1;l<r&&t.src.charCodeAt(l)===96;)l++;const u=l-c;if(u===a){if(!e){const h=t.push("code_inline","code",0);h.markup=o,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[u]=c}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function Zl(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==126)return!1;const s=t.scanDelims(t.pos,!0);let r=s.length;const o=String.fromCharCode(i);if(r<2)return!1;let a;r%2&&(a=t.push("text","",0),a.content=o,r--);for(let l=0;l<r;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0}function cr(t,e){let n;const i=[],s=e.length;for(let r=0;r<s;r++){const o=e[r];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const r=i.pop();let o=r+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,r!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[r],t.tokens[r]=n)}}function Xl(t){const e=t.tokens_meta,n=t.tokens_meta.length;cr(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&cr(t,e[i].delimiters)}const rs={tokenize:Zl,postProcess:Xl};function Jl(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==95&&i!==42)return!1;const s=t.scanDelims(t.pos,i===42);for(let r=0;r<s.length;r++){const o=t.push("text","",0);o.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0}function ur(t,e){const n=e.length;for(let i=n-1;i>=0;i--){const s=e[i];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const r=e[s.end],o=i>0&&e[i-1].end===s.end+1&&e[i-1].marker===s.marker&&e[i-1].token===s.token-1&&e[s.end+1].token===r.token+1,a=String.fromCharCode(s.marker),l=t.tokens[s.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const c=t.tokens[r.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?a+a:a,c.content="",o&&(t.tokens[e[i-1].token].content="",t.tokens[e[s.end+1].token].content="",i--)}}function Ql(t){const e=t.tokens_meta,n=t.tokens_meta.length;ur(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&ur(t,e[i].delimiters)}const ss={tokenize:Jl,postProcess:Ql};function ec(t,e){let n,i,s,r,o="",a="",l=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const u=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let f=p+1;if(f<h&&t.src.charCodeAt(f)===40){for(c=!1,f++;f<h&&(n=t.src.charCodeAt(f),!(!X(n)&&n!==10));f++);if(f>=h)return!1;if(l=f,s=t.md.helpers.parseLinkDestination(t.src,f,t.posMax),s.ok){for(o=t.md.normalizeLink(s.str),t.md.validateLink(o)?f=s.pos:o="",l=f;f<h&&(n=t.src.charCodeAt(f),!(!X(n)&&n!==10));f++);if(s=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<h&&l!==f&&s.ok)for(a=s.str,f=s.pos;f<h&&(n=t.src.charCodeAt(f),!(!X(n)&&n!==10));f++);}(f>=h||t.src.charCodeAt(f)!==41)&&(c=!0),f++}if(c){if(typeof t.env.references>"u")return!1;if(f<h&&t.src.charCodeAt(f)===91?(l=f+1,f=t.md.helpers.parseLinkLabel(t,f),f>=0?i=t.src.slice(l,f++):f=p+1):f=p+1,i||(i=t.src.slice(d,p)),r=t.env.references[cn(i)],!r)return t.pos=u,!1;o=r.href,a=r.title}if(!e){t.pos=d,t.posMax=p;const v=t.push("link_open","a",1),E=[["href",o]];v.attrs=E,a&&E.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=f,t.posMax=h,!0}function tc(t,e){let n,i,s,r,o,a,l,c,u="";const h=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const p=t.pos+2,f=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(f<0)return!1;if(r=f+1,r<d&&t.src.charCodeAt(r)===40){for(r++;r<d&&(n=t.src.charCodeAt(r),!(!X(n)&&n!==10));r++);if(r>=d)return!1;for(c=r,a=t.md.helpers.parseLinkDestination(t.src,r,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?r=a.pos:u=""),c=r;r<d&&(n=t.src.charCodeAt(r),!(!X(n)&&n!==10));r++);if(a=t.md.helpers.parseLinkTitle(t.src,r,t.posMax),r<d&&c!==r&&a.ok)for(l=a.str,r=a.pos;r<d&&(n=t.src.charCodeAt(r),!(!X(n)&&n!==10));r++);else l="";if(r>=d||t.src.charCodeAt(r)!==41)return t.pos=h,!1;r++}else{if(typeof t.env.references>"u")return!1;if(r<d&&t.src.charCodeAt(r)===91?(c=r+1,r=t.md.helpers.parseLinkLabel(t,r),r>=0?s=t.src.slice(c,r++):r=f+1):r=f+1,s||(s=t.src.slice(p,f)),o=t.env.references[cn(s)],!o)return t.pos=h,!1;u=o.href,l=o.title}if(!e){i=t.src.slice(p,f);const v=[];t.md.inline.parse(i,t.md,t.env,v);const E=t.push("image","img",0),_=[["src",u],["alt",""]];E.attrs=_,E.children=v,E.content=i,l&&_.push(["title",l])}return t.pos=r,t.posMax=d,!0}const nc=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,ic=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function rc(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const i=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const r=t.src.slice(i+1,n);if(ic.test(r)){const o=t.md.normalizeLink(r);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(r);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=r.length+2,!0}if(nc.test(r)){const o=t.md.normalizeLink("mailto:"+r);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(r);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=r.length+2,!0}return!1}function sc(t){return/^<a[>\s]/i.test(t)}function oc(t){return/^<\/a\s*>/i.test(t)}function ac(t){const e=t|32;return e>=97&&e<=122}function lc(t,e){if(!t.md.options.html)return!1;const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=n)return!1;const s=t.src.charCodeAt(i+1);if(s!==33&&s!==63&&s!==47&&!ac(s))return!1;const r=t.src.slice(i).match(Ol);if(!r)return!1;if(!e){const o=t.push("html_inline","",0);o.content=r[0],sc(o.content)&&t.linkLevel++,oc(o.content)&&t.linkLevel--}return t.pos+=r[0].length,!0}const cc=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,uc=/^&([a-z][a-z0-9]{1,31});/i;function hc(t,e){const n=t.pos,i=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=i)return!1;if(t.src.charCodeAt(n+1)===35){const r=t.src.slice(n).match(cc);if(r){if(!e){const o=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),a=t.push("text_special","",0);a.content=ui(o)?rn(o):rn(65533),a.markup=r[0],a.info="entity"}return t.pos+=r[0].length,!0}}else{const r=t.src.slice(n).match(uc);if(r){const o=Xr(r[0]);if(o!==r[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=r[0],a.info="entity"}return t.pos+=r[0].length,!0}}}return!1}function hr(t){const e={},n=t.length;if(!n)return;let i=0,s=-2;const r=[];for(let o=0;o<n;o++){const a=t[o];if(r.push(0),(t[i].marker!==a.marker||s!==a.token-1)&&(i=o),s=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let c=i-r[i]-1,u=c;for(;c>l;c-=r[c]+1){const h=t[c];if(h.marker===a.marker&&h.open&&h.end<0){let d=!1;if((h.close||a.open)&&(h.length+a.length)%3===0&&(h.length%3!==0||a.length%3!==0)&&(d=!0),!d){const p=c>0&&!t[c-1].open?r[c-1]+1:0;r[o]=o-c+p,r[c]=p,a.open=!1,h.end=o,h.close=!1,u=-1,s=-2;break}}}u!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=u)}}function dc(t){const e=t.tokens_meta,n=t.tokens_meta.length;hr(t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&hr(e[i].delimiters)}function pc(t){let e,n,i=0;const s=t.tokens,r=t.tokens.length;for(e=n=0;e<r;e++)s[e].nesting<0&&i--,s[e].level=i,s[e].nesting>0&&i++,s[e].type==="text"&&e+1<r&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}const Pn=[["text",ql],["linkify",Gl],["newline",Yl],["escape",Wl],["backticks",jl],["strikethrough",rs.tokenize],["emphasis",ss.tokenize],["link",ec],["image",tc],["autolink",rc],["html_inline",lc],["entity",hc]],Fn=[["balance_pairs",dc],["strikethrough",rs.postProcess],["emphasis",ss.postProcess],["fragments_join",pc]];function $t(){this.ruler=new be;for(let t=0;t<Pn.length;t++)this.ruler.push(Pn[t][0],Pn[t][1]);this.ruler2=new be;for(let t=0;t<Fn.length;t++)this.ruler2.push(Fn[t][0],Fn[t][1])}$t.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,s=t.md.options.maxNesting,r=t.cache;if(typeof r[e]<"u"){t.pos=r[e];return}let o=!1;if(t.level<s){for(let a=0;a<i;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,r[e]=t.pos};$t.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,s=t.md.options.maxNesting;for(;t.pos<i;){const r=t.pos;let o=!1;if(t.level<s){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(r>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};$t.prototype.parse=function(t,e,n,i){const s=new this.State(t,e,n,i);this.tokenize(s);const r=this.ruler2.getRules(""),o=r.length;for(let a=0;a<o;a++)r[a](s)};$t.prototype.State=Bt;function fc(t){const e={};t=t||{},e.src_Any=Gr.source,e.src_Cc=Yr.source,e.src_Z=jr.source,e.src_P=li.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function Wn(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t}function hn(t){return Object.prototype.toString.call(t)}function gc(t){return hn(t)==="[object String]"}function mc(t){return hn(t)==="[object Object]"}function Ec(t){return hn(t)==="[object RegExp]"}function dr(t){return hn(t)==="[object Function]"}function vc(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const os={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function yc(t){return Object.keys(t||{}).reduce(function(e,n){return e||os.hasOwnProperty(n)},!1)}const bc={"http:":{validate:function(t,e,n){const i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},_c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Cc="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function kc(t){t.__index__=-1,t.__text_cache__=""}function xc(t){return function(e,n){const i=e.slice(n);return t.test(i)?i.match(t)[0].length:0}}function pr(){return function(t,e){e.normalize(t)}}function sn(t){const e=t.re=fc(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(_c),n.push(e.src_xn),e.src_tlds=n.join("|");function i(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function r(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,mc(l)){Ec(l.validate)?c.validate=xc(l.validate):dr(l.validate)?c.validate=l.validate:r(a,l),dr(l.normalize)?c.normalize=l.normalize:l.normalize?r(a,l):c.normalize=pr();return}if(gc(l)){s.push(a);return}r(a,l)}),s.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:pr()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(vc).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),kc(t)}function Tc(t,e){const n=t.__index__,i=t.__last_index__,s=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=s,this.text=s,this.url=s}function jn(t,e){const n=new Tc(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function ke(t,e){if(!(this instanceof ke))return new ke(t,e);e||yc(t)&&(e=t,t={}),this.__opts__=Wn({},os,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Wn({},bc,t),this.__compiled__={},this.__tlds__=Cc,this.__tlds_replaced__=!1,this.re={},sn(this)}ke.prototype.add=function(e,n){return this.__schemas__[e]=n,sn(this),this};ke.prototype.set=function(e){return this.__opts__=Wn(this.__opts__,e),this};ke.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,i,s,r,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(r=this.testSchemaAt(e,n[2],l.lastIndex),r){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=i.index+i[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(o=s.index+s[1].length,a=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};ke.prototype.pretest=function(e){return this.re.pretest.test(e)};ke.prototype.testSchemaAt=function(e,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,i,this):0};ke.prototype.match=function(e){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(jn(this,i)),i=this.__last_index__);let s=i?e.slice(i):e;for(;this.test(s);)n.push(jn(this,i)),s=s.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};ke.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const i=this.testSchemaAt(e,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,jn(this,0)):null};ke.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,s,r){return i!==r[s-1]}).reverse(),sn(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,sn(this),this)};ke.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};ke.prototype.onCompile=function(){};const gt=2147483647,Pe=36,pi=1,Rt=26,Dc=38,Ac=700,as=72,ls=128,cs="-",wc=/^xn--/,Sc=/[^\0-\x7F]/,Ic=/[\x2E\u3002\uFF0E\uFF61]/g,Lc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},On=Pe-pi,Fe=Math.floor,Bn=String.fromCharCode;function We(t){throw new RangeError(Lc[t])}function Nc(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}function us(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(Ic,".");const s=t.split("."),r=Nc(s,e).join(".");return i+r}function hs(t){const e=[];let n=0;const i=t.length;for(;n<i;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){const r=t.charCodeAt(n++);(r&64512)==56320?e.push(((s&1023)<<10)+(r&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}const Mc=t=>String.fromCodePoint(...t),Rc=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Pe},fr=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},ds=function(t,e,n){let i=0;for(t=n?Fe(t/Ac):t>>1,t+=Fe(t/e);t>On*Rt>>1;i+=Pe)t=Fe(t/On);return Fe(i+(On+1)*t/(t+Dc))},ps=function(t){const e=[],n=t.length;let i=0,s=ls,r=as,o=t.lastIndexOf(cs);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&We("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const l=i;for(let u=1,h=Pe;;h+=Pe){a>=n&&We("invalid-input");const d=Rc(t.charCodeAt(a++));d>=Pe&&We("invalid-input"),d>Fe((gt-i)/u)&&We("overflow"),i+=d*u;const p=h<=r?pi:h>=r+Rt?Rt:h-r;if(d<p)break;const f=Pe-p;u>Fe(gt/f)&&We("overflow"),u*=f}const c=e.length+1;r=ds(i-l,c,l==0),Fe(i/c)>gt-s&&We("overflow"),s+=Fe(i/c),i%=c,e.splice(i++,0,s)}return String.fromCodePoint(...e)},fs=function(t){const e=[];t=hs(t);const n=t.length;let i=ls,s=0,r=as;for(const l of t)l<128&&e.push(Bn(l));const o=e.length;let a=o;for(o&&e.push(cs);a<n;){let l=gt;for(const u of t)u>=i&&u<l&&(l=u);const c=a+1;l-i>Fe((gt-s)/c)&&We("overflow"),s+=(l-i)*c,i=l;for(const u of t)if(u<i&&++s>gt&&We("overflow"),u===i){let h=s;for(let d=Pe;;d+=Pe){const p=d<=r?pi:d>=r+Rt?Rt:d-r;if(h<p)break;const f=h-p,v=Pe-p;e.push(Bn(fr(p+f%v,0))),h=Fe(f/v)}e.push(Bn(fr(h,0))),r=ds(s,c,a===o),s=0,++a}++s,++i}return e.join("")},Pc=function(t){return us(t,function(e){return wc.test(e)?ps(e.slice(4).toLowerCase()):e})},Fc=function(t){return us(t,function(e){return Sc.test(e)?"xn--"+fs(e):e})},gs={version:"2.3.1",ucs2:{decode:hs,encode:Mc},decode:ps,encode:fs,toASCII:Fc,toUnicode:Pc},Oc={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Bc={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},$c={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Hc={default:Oc,zero:Bc,commonmark:$c},zc=/^(vbscript|javascript|file|data):/,Uc=/^data:image\/(gif|png|jpeg|webp);/;function Kc(t){const e=t.trim().toLowerCase();return zc.test(e)?Uc.test(e):!0}const ms=["http:","https:","mailto:"];function qc(t){const e=ai(t,!0);if(e.hostname&&(!e.protocol||ms.indexOf(e.protocol)>=0))try{e.hostname=gs.toASCII(e.hostname)}catch{}return Ot(oi(e))}function Vc(t){const e=ai(t,!0);if(e.hostname&&(!e.protocol||ms.indexOf(e.protocol)>=0))try{e.hostname=gs.toUnicode(e.hostname)}catch{}return vt(oi(e),vt.defaultChars+"%")}function Ae(t,e){if(!(this instanceof Ae))return new Ae(t,e);e||ci(t)||(e=t||{},t="default"),this.inline=new $t,this.block=new un,this.core=new hi,this.renderer=new bt,this.linkify=new ke,this.validateLink=Kc,this.normalizeLink=qc,this.normalizeLinkText=Vc,this.utils=Ya,this.helpers=ln({},Xa),this.options={},this.configure(t),e&&this.set(e)}Ae.prototype.set=function(t){return ln(this.options,t),this};Ae.prototype.configure=function(t){const e=this;if(ci(t)){const n=t;if(t=Hc[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Ae.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(s){return n.indexOf(s)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Ae.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(s){return n.indexOf(s)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Ae.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Ae.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Ae.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Ae.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Ae.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Gc=Symbol("vue-element-plus-x-config"),Yc={html:!0,linkify:!0,typographer:!0,breaks:!0},Wc={mdPlugins:[],md:new Ae(Yc)};function jc(){return Oe(Gc,Wc)}const Zc=["innerHTML"],Xc=oe({__name:"index",props:{content:{default:""},isMarkdown:{type:Boolean,default:!1},typing:{type:[Boolean,Object],default:!1},isFog:{type:[Boolean,Object],default:!1},highlight:{},mdPlugins:{}},emits:["start","writing","finish"],setup(t,{expose:e,emit:n}){const i=t,s=n,r=jc(),{md:o}=r,a=q(null),l=q(null);function c(){var w,V;(w=r.mdPlugins)!=null&&w.length&&r.mdPlugins.forEach(O=>{o==null||o.use(O)}),(V=i.mdPlugins)!=null&&V.length&&i.mdPlugins.forEach(O=>{o==null||o.use(O)})}c();const u=q(0),h=q(!1);let d=null;const p=q(""),f=K(()=>{const w={step:typeof i.typing=="object"?i.typing.step??2:2,interval:typeof i.typing=="object"?i.typing.interval??50:50,suffix:i.isMarkdown?"":typeof i.typing=="object"?i.typing.suffix??"|":"|"};return i.typing===!0?{...w}:typeof i.typing=="object"?{...w,...i.typing,suffix:i.isMarkdown?"":i.typing.suffix??"|"}:w}),v=K(()=>i.content?i.typing?p.value.slice(0,u.value):i.content:""),E=K(()=>p.value?Math.min(u.value/p.value.length*100,100):0),_=K(()=>i.isMarkdown?oa.sanitize((o==null?void 0:o.render(v.value??""))??""):v.value),C={interrupt:y,continue:x,restart:S,destroy:I,renderedContent:K(()=>_.value),isTyping:zn(h),progress:K(()=>E.value)};Te(()=>i.content,(w,V)=>{if(!i.typing){u.value=(w==null?void 0:w.length)||0,h.value=!1,p.value=w||"";return}(!V||!(w!=null&&w.startsWith(V)))&&(u.value=0),p.value=w||"",h.value||m()},{immediate:!0});function m(){if(clearTimeout(d),!i.typing||!p.value)return;h.value=!0,s("start",C);const w=()=>{if(u.value+=f.value.step,s("writing",C),u.value>=p.value.length){k();return}d=setTimeout(w,f.value.interval)};d=setTimeout(w,f.value.interval)}function k(){var w;h.value=!1,u.value=p.value.length,(((w=i.typing)==null?void 0:w.isRequestEnd)??!0)&&s("finish",C)}function y(){clearTimeout(d),h.value=!1}function x(){u.value<p.value.length&&m()}function S(){u.value=0,m()}function I(){clearTimeout(d),d=null,u.value=0,h.value=!1}return Ar(I),e(C),(w,V)=>(N(),z("div",{ref_key:"typeWriterRef",ref:l,class:"typer-container"},[F("div",{ref_key:"markdownContentRef",ref:a,class:Ie(["typer-content",[{"markdown-content":w.isMarkdown,"typing-cursor":w.typing&&$(f).suffix&&$(h),"typing-cursor-foggy":i.isFog&&w.typing&&$(f).suffix&&$(h),"typing-markdown-cursor-foggy":w.isMarkdown&&i.isFog&&w.typing&&$(h)},w.isMarkdown?"markdown-body":""]]),style:Ve({"--cursor-char":`'${$(f).suffix}'`,"--cursor-fog-bg-color":i.isFog?typeof i.isFog=="object"?i.isFog.bgColor??"var(--el-fill-color)":"var(--el-fill-color)":"","--cursor-fog-width":i.isFog?typeof i.isFog=="object"?i.isFog.width??"80px":"80px":""}),innerHTML:$(_)},null,14,Zc)],512))}}),Jc=Qe(Xc,[["__scopeId","data-v-9311cb64"]]),Qc=on({size:{type:[Number,String],values:Rr,default:"",validator:t=>ni(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Un},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ft(String),default:"cover"}}),eu={error:t=>t instanceof Event},tu=oe({name:"ElAvatar"}),nu=oe({...tu,props:Qc,emits:eu,setup(t,{emit:e}){const n=t,i=Pt("avatar"),s=q(!1),r=K(()=>{const{size:c,icon:u,shape:h}=n,d=[i.b()];return ti(c)&&d.push(i.m(c)),u&&d.push(i.m("icon")),h&&d.push(i.m(h)),d}),o=K(()=>{const{size:c}=n;return ni(c)?i.cssVarBlock({size:Mr(c)||""}):void 0}),a=K(()=>({objectFit:n.fit}));Te(()=>n.src,()=>s.value=!1);function l(c){s.value=!0,e("error",c)}return(c,u)=>(N(),z("span",{class:Ie($(r)),style:Ve($(o))},[(c.src||c.srcSet)&&!s.value?(N(),z("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Ve($(a)),onError:l},null,44,["src","alt","srcset"])):c.icon?(N(),fe($(Et),{key:1},{default:ne(()=>[(N(),fe(en(c.icon)))]),_:1})):te(c.$slots,"default",{key:2})],6))}});var iu=an(nu,[["__file","avatar.vue"]]);const ru=ii(iu),su={key:0,class:"el-bubble-avatar el-bubble-avatar-size"},ou={key:1,class:"el-bubble-avatar-placeholder"},au={key:2,class:"el-bubble-avatar"},lu={class:"el-bubble-content-wrapper"},cu={key:0,class:"el-bubble-header"},uu={key:2,class:"el-bubble-loading-wrap"},hu={key:3,class:"el-bubble-loading-wrap"},du={key:1,class:"el-bubble-footer"},pu=oe({__name:"index",props:{isFog:{type:[Boolean,Object]},typing:{type:[Boolean,Object]},content:{default:""},isMarkdown:{type:Boolean},placement:{default:"start"},avatar:{default:""},loading:{type:Boolean},shape:{},variant:{default:"filled"},maxWidth:{default:"500px"},avatarSize:{default:""},avatarGap:{default:"12px"},avatarShape:{default:"circle"},avatarSrcSet:{default:""},avatarAlt:{default:""},avatarFit:{default:"cover"},noStyle:{type:Boolean,default:!1}},emits:["start","finish","writing","avatarError"],setup(t,{expose:e,emit:n}){const i=t,s=n,r=q(!1),o=q(!1);Te(()=>i.content,(m,k)=>{m!==k&&r.value&&_()});const a=q(),l={interrupt:v,continue:E,restart:_,destroy:C,renderedContent:K(()=>{var m;return r.value?"":((m=a.value)==null?void 0:m.renderedContent.value)||""}),isTyping:K(()=>{var m;return!r.value&&(((m=a.value)==null?void 0:m.isTyping.value)||!1)}),progress:K(()=>{var m;return r.value?0:((m=a.value)==null?void 0:m.progress.value)||0})},c={step:2,suffix:"|",interval:50,isRequestEnd:!0},u=K(()=>typeof i.typing>"u"?!1:typeof i.typing=="boolean"?i.typing:Object.assign({},c,i.typing));function h(m){s("start",m)}function d(m){o.value=!1,s("finish",m)}function p(m){o.value=!0,s("writing",m)}function f(m){s("avatarError",m)}function v(){var m;(m=a.value)==null||m.interrupt()}function E(){var m;(m=a.value)==null||m.continue()}function _(){var m;r.value=!1,(m=a.value)==null||m.restart()}function C(){var m;(m=a.value)==null||m.destroy(),r.value=!0}return Ar(l.destroy),e(l),(m,k)=>{const y=ru;return $(r)?Z("",!0):(N(),z("div",{key:0,class:Ie(["el-bubble",{"el-bubble-start":m.placement==="start","el-bubble-end":m.placement==="end","el-bubble-no-style":m.noStyle,"el-bubble-is-typing":$(o)}]),style:Ve({"--el-box-shadow-tertiary":`0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)`,"--bubble-content-max-width":`${m.maxWidth}`,"--el-bubble-avatar-placeholder-width":`${m.$slots.avatar?"":m.avatarSize}`,"--el-bubble-avatar-placeholder-height":`${m.$slots.avatar?"":m.avatarSize}`,"--el-bubble-avatar-placeholder-gap":`${m.avatarGap}`})},[!m.$slots.avatar&&m.avatar?(N(),z("div",su,[se(y,{size:0,src:m.avatar,shape:m.avatarShape,"src-set":m.avatarSrcSet,alt:m.avatarFit,onError:f},null,8,["src","shape","src-set","alt"])])):Z("",!0),!m.$slots.avatar&&!m.avatar&&m.avatarSize?(N(),z("div",ou)):Z("",!0),m.$slots.avatar?(N(),z("div",au,[te(m.$slots,"avatar",{},void 0,!0)])):Z("",!0),F("div",lu,[m.$slots.header?(N(),z("div",cu,[te(m.$slots,"header",{},void 0,!0)])):Z("",!0),F("div",{class:Ie(["el-bubble-content",{"el-bubble-content-loading":m.loading,"el-bubble-content-round":m.shape==="round"&&!m.noStyle,"el-bubble-content-corner":m.shape==="corner"&&!m.noStyle,"el-bubble-content-filled":m.variant==="filled"&&!m.noStyle,"el-bubble-content-borderless":m.variant==="borderless"&&!m.noStyle,"el-bubble-content-outlined":m.variant==="outlined"&&!m.noStyle,"el-bubble-content-shadow":m.variant==="shadow"&&!m.noStyle}])},[m.loading?Z("",!0):(N(),z("div",{key:0,class:Ie(["el-typewriter",{"no-content":!m.content}])},[!m.$slots.content&&m.content?(N(),fe(Jc,{key:0,ref_key:"typewriterRef",ref:a,typing:$(u),content:m.content,"is-markdown":m.isMarkdown,"is-fog":i.isFog,onStart:h,onWriting:p,onFinish:d},null,8,["typing","content","is-markdown","is-fog"])):Z("",!0)],2)),!$(r)&&m.$slots.content&&!m.loading?te(m.$slots,"content",{key:1},void 0,!0):Z("",!0),m.loading&&!m.$slots.loading?(N(),z("div",uu,[(N(),z(Jn,null,wr(3,(x,S)=>F("div",{key:S,class:"dot",style:Ve({animationDelay:`${S*.2}s`})},null,4)),64))])):Z("",!0),m.loading&&m.$slots.loading?(N(),z("div",hu,[te(m.$slots,"loading",{},void 0,!0)])):Z("",!0)],2),m.$slots.footer?(N(),z("div",du,[te(m.$slots,"footer",{},void 0,!0)])):Z("",!0)])],6))}}}),fu=Qe(pu,[["__scopeId","data-v-a52d8fe0"]]),gu={},mu={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"704",height:"704",viewBox:"0 0 704 704"};function Eu(t,e){return N(),z("svg",mu,e[0]||(e[0]=[Ns('<defs><filter id="master_svg0_62_10054" filterUnits="objectBoundingBox" color-interpolation-filters="sRGB" x="-0.030120481927710843" y="-0.030120481927710843" width="1.0602409638554218" height="1.0602409638554218"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend><feGaussianBlur stdDeviation="5" result="effect1_foregroundBlur"></feGaussianBlur></filter><linearGradient id="master_svg1_62_10082" x1="0.5" y1="-0.13192443549633026" x2="0.42319029569625854" y2="1.368432641029358"><stop offset="9.145302325487137%" stop-color="currentColor" stop-opacity="1"></stop><stop offset="13.636428117752075%" stop-color="currentColor" stop-opacity="0.07539999485015869"></stop><stop offset="16.968481242656708%" stop-color="currentColor" stop-opacity="0"></stop></linearGradient></defs><g transform="matrix(0,1,-1,0,704,-664)" filter="url(#master_svg0_62_10054)"><path d="M1016,684C1199.359,684,1348,535.359,1348,352C1348,168.641,1199.359,20,1016,20C832.641,20,684,168.641,684,352C684,535.359,832.641,684,1016,684ZM1016,32C1192.731,32,1336,175.269,1336,352C1336,528.731,1192.731,672,1016,672C839.269,672,696,528.731,696,352C696,175.269,839.269,32,1016,32Z" fill-rule="evenodd" fill="url(#master_svg1_62_10082)" fill-opacity="1"></path></g>',2)]))}const vu=Qe(gu,[["render",Eu]]),yu=t=>{const e=q(!1),n=q(!1),i=()=>{const s=t.value;s&&(e.value=s.scrollHeight>s.clientHeight,n.value=s.scrollWidth>s.clientWidth)};return ei(()=>{i();const s=new ResizeObserver(i);s.observe(t.value),Sr(()=>s.disconnect())}),{hasVertical:e,hasHorizontal:n,check:i}},bu=20,_u=oe({__name:"index",props:{list:{default:()=>[]},maxHeight:{default:"500px"},triggerIndices:{default:"only-last"},showBackButton:{type:Boolean,default:!0},backButtonThreshold:{default:80},backButtonPosition:{default:()=>({bottom:"20px",left:"calc(50% - 19px)"})},alwaysShowScrollbar:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!0},btnColor:{default:"#409EFF"},btnIconSize:{default:24}},emits:["complete"],setup(t,{expose:e,emit:n}){const i=t,s=n;function r(){document.documentElement.style.setProperty("--el-bubble-list-max-height",i.maxHeight),document.documentElement.style.setProperty("--el-bubble-list-btn-size",`${i.btnIconSize}px`)}ei(()=>{r()});const o=q(null),{hasVertical:a}=yu(o),l=q(!1),c=q(0),u=q(0),h=q(null),d=q(!1);Te(()=>i.list.length,()=>{i.list&&i.list.length>0&&Cn(()=>{E()})},{immediate:!0});function p(){l.value=!0,Cn(()=>{o.value.scrollTop=0})}function f(){try{o.value&&o.value.scrollHeight&&Cn(()=>{o.value.scrollTop=o.value.scrollHeight,l.value=!1})}catch{}}function v(y){const x=o.value;if(!x)return;const S=x.querySelectorAll(".el-bubble");if(y>=S.length)return;l.value=!0;const I=S[y],w=x.getBoundingClientRect(),O=I.getBoundingClientRect().top-w.top+x.scrollTop;x.scrollTo({top:O,behavior:"smooth"})}function E(){if(o.value){const y=o.value.querySelectorAll(".el-bubble-content-wrapper");h.value&&h.value.disconnect();const x=y[y.length-1];x&&(h.value=new ResizeObserver(()=>{l.value||f()}),h.value.observe(x))}}const _=q({}),C=K(()=>i.list.map((y,x)=>({...y,_index_:x})).filter(y=>y.typing));function m(y,x){var S;switch(i.triggerIndices){case"only-last":y===((S=C.value[C.value.length-1])==null?void 0:S._index_)&&s("complete",x,y);break;case"all":_.value[y]=x,Object.keys(_.value).length===C.value.length&&s("complete",x,y);break;default:i.triggerIndices.includes(y)&&s("complete",x,y);break}}function k(){if(o.value){const{scrollTop:y,scrollHeight:x,clientHeight:S}=o.value,I=x-(y+S);d.value=i.showBackButton&&I>i.backButtonThreshold;const w=y+S>=x-30,V=c.value>y,O=c.value<y,_e=c.value-y;c.value=y,V?(u.value+=_e,u.value>=bu&&(l.value||(l.value=!0),u.value=0)):u.value=0,O&&w&&l.value&&(l.value=!1)}}return e({scrollToTop:p,scrollToBottom:f,scrollToBubble:v}),(y,x)=>{const S=Et;return N(),z("div",{ref_key:"scrollContainer",ref:o,class:Ie(["el-bubble-list",{"always-scrollbar":i.alwaysShowScrollbar}]),onScroll:k},[(N(!0),z(Jn,null,wr(y.list,(I,w)=>(N(),fe(fu,{key:w,content:I.content,placement:I.placement,loading:I.loading,shape:I.shape,variant:I.variant,"is-markdown":I.isMarkdown,"is-fog":I.isFog,typing:I.typing,"max-width":I.maxWidth,avatar:I.avatar,"avatar-size":I.avatarSize,"avatar-gap":I.avatarGap,"avatar-shape":I.avatarShape,"avatar-src-set":I.avatarSrcSet,"avatar-alt":I.avatarAlt,"avatar-fit":I.avatarFit,"no-style":I.noStyle,onFinish:V=>m(w,V)},Ms({_:2},[y.$slots.avatar?{name:"avatar",fn:ne(()=>[te(y.$slots,"avatar",{item:I},void 0,!0)]),key:"0"}:void 0,y.$slots.header?{name:"header",fn:ne(()=>[te(y.$slots,"header",{item:I},void 0,!0)]),key:"1"}:void 0,y.$slots.content?{name:"content",fn:ne(()=>[te(y.$slots,"content",{item:I},void 0,!0)]),key:"2"}:void 0,y.$slots.footer?{name:"footer",fn:ne(()=>[te(y.$slots,"footer",{item:I},void 0,!0)]),key:"3"}:void 0,y.$slots.loading?{name:"loading",fn:ne(()=>[te(y.$slots,"loading",{item:I},void 0,!0)]),key:"4"}:void 0]),1032,["content","placement","loading","shape","variant","is-markdown","is-fog","typing","max-width","avatar","avatar-size","avatar-gap","avatar-shape","avatar-src-set","avatar-alt","avatar-fit","no-style","onFinish"]))),128)),$(d)&&$(a)?(N(),z("div",{key:0,class:Ie(["el-bubble-list-default-back-button",{"el-bubble-list-back-to-bottom-solt":y.$slots.backToBottom}]),style:Ve({bottom:y.backButtonPosition.bottom,left:y.backButtonPosition.left}),onClick:f},[te(y.$slots,"backToBottom",{},()=>[se(S,{class:"el-bubble-list-back-to-bottom-icon",style:Ve({color:i.btnColor})},{default:ne(()=>[se($(Qs)),i.btnLoading?(N(),fe(vu,{key:0,class:"back-to-bottom-loading-svg-bg"})):Z("",!0)]),_:1},8,["style"])],!0)],6)):Z("",!0)],34)}}}),Cu=Qe(_u,[["__scopeId","data-v-854e3219"]]);var ku=Object.defineProperty,xu=(t,e,n)=>e in t?ku(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e,n)=>xu(t,typeof e!="symbol"?e+"":e,n);function Tu(){const t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),n=/(?:SymbianOS)/.test(t)||e,i=/(?:Android)/.test(t),s=/(?:Firefox)/.test(t),r=/(?:iPad|PlayBook)/.test(t)||i&&!/(?:Mobile)/.test(t)||s&&/(?:Tablet)/.test(t),o=/(?:iPhone)/.test(t)&&!r;return{isTablet:r,isPhone:o,isAndroid:i,isPc:!o&&!i&&!n}}function M(t,e=!1,n="block"){t&&(t.className=t.className.replace(/ chat-view-show| chat-view-hidden/g,""),e?(t.style.display=n,t.className+=" chat-view-show"):(t.className+=" chat-view-hidden",t.style.display="none"))}function nt(t){return t&&t.classList.contains("chat-view-show")}function R(t,e,n){t.classList[n?"add":"remove"](e)}const Es="richWrap",Re="richGrid",Y="richMark",ye="richInput",pe="richTag",mt=(t=50)=>new Promise(e=>{setTimeout(e,t)}),gr=t=>String(t)!=="false"&&String(t)!=="null"&&String(t)!=="0",ft=(t,e,n=!1)=>{let i;return function(...s){const r=this,o=n&&!i;clearTimeout(i),i=setTimeout(()=>{i=null,n||t.apply(r,s)},e),o&&t.apply(r,s)}},mr=(t,e)=>{let n;return function(...i){const s=this;n||(t.apply(s,i),n=!0,setTimeout(function(){n=!1},e))}},vs=(t,e)=>{const n=t.getAttribute("data-set-richType");return n===Re?null:n===Y||n===pe?t:t.parentElement&&e>0?vs(t.parentElement,e-1):null},$n=(t,e,n)=>t&&t[e]?t[e]:n;function fi(t,e,n){const i=e.split(/\s+/),s=t.split("").map((c,u)=>{let h=i[u]||"";return e===""&&h===""&&(h=c),{char:c,pinyin:h.toLowerCase(),initial:h?h[0].toLowerCase():""}}),r=(c=>{const u=[];let h="";for(const d of c)/[a-zA-Z]/.test(d)?h+=d.toLowerCase():(h&&(u.push({type:"pinyin",value:h}),h=""),u.push({type:"char",value:d}));return h&&u.push({type:"pinyin",value:h}),u})(n),o=s.length,a=r.length,l=Array.from({length:o+1},()=>Array(a+1).fill(!1));l[0][0]=!0;for(let c=0;c<=o;c++)for(let u=0;u<=a;u++)if(l[c][u]&&u<a){const h=r[u];for(let d=c;d<o;d++){const p=s[d];if(h.type==="char")p.char===h.value&&(l[d+1][u+1]=!0);else{const f=p.pinyin.toLowerCase(),v=p.initial,E=h.value;if(E===v)l[d+1][u+1]=!0;else if(E===f)l[d+1][u+1]=!0;else if(Er(E,f))l[d+1][u+1]=!0;else for(let _=2;_<=o-d;_++){const C=s.slice(d,d+_),m=C.map(y=>y.pinyin.toLowerCase()).join(""),k=C.map(y=>y.initial).join("");if(E===m||E===k||Er(E,m)){l[d+_][u+1]=!0;break}}}}}for(let c=0;c<=o;c++)if(l[c][a])return!0;return!1}function Er(t,e){let n=0,i=0;for(;n<t.length&&i<e.length;)t[n]===e[i]&&n++,i++;return n===t.length}const Du='<svg class="check-empty-svg" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#f5f5f5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#d9d9d9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#fafafa"></path></g></g></svg>',Au='<svg class="empty-svg" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#f5f5f5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#d9d9d9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#fafafa"></path></g></g></svg>',wu='<svg class="icon-search" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M684.8 223.530667a326.272 326.272 0 0 1 24.96 433.621333c2.645333 2.133333 5.290667 4.48 7.850667 7.04L870.4 817.066667c24.789333 24.746667 32.896 56.832 18.133333 71.594666-14.762667 14.805333-46.848 6.656-71.637333-18.090666l-152.789333-152.832a106.282667 106.282667 0 0 1-7.210667-7.936 326.101333 326.101333 0 0 1-433.109333-25.173334c-127.445333-127.445333-127.573333-333.952-0.256-461.269333 127.36-127.36 333.866667-127.232 461.269333 0.213333zM275.328 275.114667a252.885333 252.885333 0 0 0 0.256 357.632 252.885333 252.885333 0 0 0 357.632 0.256 252.885333 252.885333 0 0 0-0.256-357.632 252.885333 252.885333 0 0 0-357.632-0.256z" fill="#9B9B9B"></path></svg>',vr='<div class="ant-spin ant-spin-spinning" aria-live="polite" aria-busy="true"><span class="ant-spin-dot ant-spin-dot-spin"><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i></span></div>',Su='<svg class="match-empty-svg" viewBox="0 0 64 41" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse fill="#f5f5f5" cx="32" cy="33" rx="32" ry="7"></ellipse><g fill-rule="nonzero" stroke="#d9d9d9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#fafafa"></path></g></g></svg>',Iu='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M9.218 17.41 19.83 6.796a.99.99 0 1 1 1.389 1.415c-3.545 3.425-4.251 4.105-11.419 11.074a.997.997 0 0 1-1.375.018c-1.924-1.801-3.709-3.568-5.573-5.43a.999.999 0 0 1 1.414-1.413z"></path></svg>',Zn='<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="m20.23 8.653-7.795 9.685a1.2 1.2 0 0 1-1.87 0L2.771 8.652C2.14 7.867 2.698 6.7 3.706 6.7h15.588c1.008 0 1.567 1.167.935 1.952"></path></svg>',Lu='<svg focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" fill-rule="evenodd" viewBox="64 64 896 896"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"></path></svg>';class Nu{constructor(e){P(this,"target"),P(this,"richText",document.createElement("div")),P(this,"placeholderElm",document.createElement("div")),P(this,"tipElm",null),P(this,"isExternalCallPopup",!1),P(this,"isPointSearchMode",!1),P(this,"checkboxRows",[]),P(this,"customTags",{}),P(this,"selectTags",{}),P(this,"rects",{}),P(this,"pcElms",{containerDialogElm:null,pointDialogElm:null,pointDialogCheckElm:null,pointDialogMainElm:null,pointDialogUsersElm:[],pointDialogActiveElm:null,pointDialogLoadingElm:null,pointDialogEmptyElm:null,checkDialogElm:null,checkDialogSearchResultElm:null,checkDialogUsersElm:null,checkDialogSearchInputElm:null,checkDialogTagsElm:null,customTagDialogElms:{},customTagDialogTagKey:"",customTagDialogActiveElm:null,selectDialogElms:{},selectDialogKey:"",selectDialogAim:null,tipContainerPopoverElm:null,tipPopoverElm:null}),P(this,"h5Elms",{dialogElm:null,dialogMainElm:null,dialogCheckElm:null,dialogShowElm:null,dialogSearchElm:null,dialogEmptyElm:null,dialogLoadingElm:null}),this.target=e,this.createRichText(),this.createPlaceholder(),e.deviceInfo.isPc?this.createPCDialog():this.createH5Dialog()}createRichText(){const{options:e,deviceInfo:n}=this.target,{elm:i}=e;R(i,"chat-area-"+(n.isPc?"pc":"h5"),!0),R(this.richText,"chat-rich-text",!0),this.richText.setAttribute("data-set-richType",Es),this.richText.setAttribute("contenteditable","true"),i.appendChild(this.richText)}createPlaceholder(){const{options:e}=this.target,{elm:n}=e;R(this.placeholderElm,"chat-placeholder-wrap",!0),M(this.placeholderElm,!0),n.appendChild(this.placeholderElm),this.rects.plaRect=this.placeholderElm.getBoundingClientRect()}createPCDialog(){const{options:e}=this.target,{needDialog:n,elm:i,asyncMatch:s}=e;if(!n)return;const{pcElms:r}=this;if(r.containerDialogElm=document.createElement("div"),R(this.pcElms.containerDialogElm,"chat-dialog",!0),!i.parentElement)throw new Error('配置项："elm" 需要存在一个父级元素，请检查后重新配置！');i.nextElementSibling?i.parentElement.insertBefore(r.containerDialogElm,i.nextElementSibling):i.parentElement.appendChild(r.containerDialogElm),s||this.createPCCheckDialog(),this.createPCPointDialog()}createPCCheckDialog(){const{options:e}=this.target,n=this.target.options.dialogLabels.pcPCheckDialog,{pcElms:i}=this;i.checkDialogElm=document.createElement("div"),R(i.checkDialogElm,"checkbox-dialog",!0),M(i.checkDialogElm),i.checkDialogElm.innerHTML=`
          <div class="checkbox-dialog-container">
            <div class="checkbox-dialog-container-header">
                <span>${n.title}</span>
                <span class="checkbox-dialog-container-header-close">⛌</span>
            </div>
            <div class="checkbox-dialog-container-body">
                <div class="checkbox-dialog-left-box">
                    <div class="checkbox-dialog-search">
                        <input class="checkbox-dialog-search-input" placeholder="${n.searchPlaceholder}" type="text">
                        <div class="checkbox-dialog-search-group"></div>
                    </div>
                    <div class="checkbox-dialog-tags"></div>
                    <div class="checkbox-dialog-option">
                        <button class="checkbox-dialog-option-btn btn-submit disabled">${n.confirmLabel}</button>
                        <button class="checkbox-dialog-option-btn btn-close">${n.cancelLabel}</button>
                    </div>
                </div>
                <div class="checkbox-dialog-right-box">
                    <div class="checkbox-dialog-right-box-title">${n.userTagTitle}</div>
                    <div class="checkbox-dialog-check-group"></div>
                </div>
            </div>
          </div>
        `,i.containerDialogElm.appendChild(i.checkDialogElm),i.checkDialogUsersElm=i.checkDialogElm.querySelector(".checkbox-dialog-check-group"),i.checkDialogSearchResultElm=i.checkDialogElm.querySelector(".checkbox-dialog-search-group"),i.checkDialogSearchInputElm=i.checkDialogElm.querySelector(".checkbox-dialog-search-input"),i.checkDialogTagsElm=i.checkDialogElm.querySelector(".checkbox-dialog-tags");const s=()=>{M(i.checkDialogElm),R(document.body,"disable-scroll")};i.checkDialogElm.querySelector(".checkbox-dialog-container-header-close").onclick=s,i.checkDialogElm.querySelector(".btn-close").onclick=s;const r=i.checkDialogElm.querySelector(".btn-submit");r.onclick=async()=>{if(r.classList.contains("disabled"))return;const a=this.checkboxRows.map(l=>{const c=Object.create(null);return c[e.userProps.id]=l.id,c[e.userProps.name]=l.name,c});await this.target.batchSetTag(a),s()},M(i.checkDialogSearchResultElm),i.checkDialogSearchResultElm.onclick=a=>{a.stopPropagation()},i.checkDialogSearchInputElm.onclick=a=>{a.stopPropagation()};const o=ft(a=>{const l=String(a.target.value||"").replace(/'/g,"").trim();if(!l)return void M(i.checkDialogSearchResultElm);const c=this.target.searchUserList(l).map(u=>u.id);Array.from(i.checkDialogSearchResultElm.children,(u,h)=>{if(h===i.checkDialogSearchResultElm.children.length-1)M(u,c.length===0);else{const d=u.getAttribute("data-set-id");M(u,c.indexOf(d)!==-1,"flex")}}),M(i.checkDialogSearchResultElm,!0)},200);i.checkDialogSearchInputElm.oninput=o,i.checkDialogSearchInputElm.onfocus=o}createPCPointDialog(){const{pcElms:e,target:n}=this;e.pointDialogElm=document.createElement("div"),R(e.pointDialogElm,"call-user-dialog",!0),M(e.pointDialogElm);const i=document.createElement("div");R(i,"call-user-dialog-header",!0),i.innerHTML=`<span class="call-user-dialog-header-title">${n.options.dialogLabels.pcPointDialog.title}</span>`,e.pointDialogCheckElm=document.createElement("span"),R(e.pointDialogCheckElm,"call-user-dialog-header-check",!0),e.pointDialogCheckElm.innerText=n.options.dialogLabels.pcPointDialog.checkLabel,e.pointDialogCheckElm.onclick=()=>{this.target.showPCCheckDialog(),this.isExternalCallPopup=!1},i.appendChild(e.pointDialogCheckElm),e.pointDialogElm.appendChild(i),e.pointDialogMainElm=document.createElement("div"),R(e.pointDialogMainElm,"call-user-dialog-main",!0),e.pointDialogElm.appendChild(e.pointDialogMainElm),n.options.asyncMatch&&(e.pointDialogLoadingElm=document.createElement("div"),R(e.pointDialogLoadingElm,"call-user-dialog-loading",!0),e.pointDialogLoadingElm.innerHTML=vr,e.pointDialogElm.appendChild(e.pointDialogLoadingElm),M(e.pointDialogLoadingElm),e.pointDialogEmptyElm=document.createElement("div"),R(e.pointDialogEmptyElm,"call-user-dialog-empty",!0),e.pointDialogEmptyElm.innerHTML=`
                ${Su}
                <span class="empty-label">${n.options.dialogLabels.pcPointDialog.emptyLabel}</span>
            `,e.pointDialogElm.appendChild(e.pointDialogEmptyElm),M(e.pointDialogEmptyElm)),e.containerDialogElm.appendChild(e.pointDialogElm)}createH5Dialog(){const{options:e,chatEvent:n}=this.target,{needDialog:i,dialogLabels:s}=e;if(!i)return;const{h5Elms:r}=this;r.dialogElm=document.createElement("div"),R(r.dialogElm,"call-user-popup",!0),r.dialogElm.innerHTML=`
          <div class="call-user-popup-main">
            <div class="call-user-popup-header">
                <span class="popup-show">${s.h5Dialog.cancelLabel}</span>
                <span class="popup-title">${s.h5Dialog.title}</span>
                <span class="popup-check">${s.h5Dialog.confirmLabel}</span>
            </div>
            <div class="call-user-popup-search">
                ${wu}
                <input class="call-user-popup-search-input"
                       placeholder="${s.h5Dialog.searchPlaceholder}"
                       type="text">
            </div>
            <div class="call-user-popup-body"></div>
          </div>
        `;const o=async()=>{r.dialogElm.className=r.dialogElm.className.replace(/ chat-view-show/g," chat-view-hidden"),r.dialogSearchElm.value="",await mt(260),M(r.dialogElm),R(document.body,"disable-scroll"),e.asyncMatch&&this.target.updateUserList([]),this.target.chatInput.restCursorPos(this.target.chatInput.vnode,this.target.chatInput.cursorIndex),this.target.chatInput.viewIntoPoint()};r.dialogElm.onclick=o;const a=r.dialogElm.querySelector(".call-user-popup-main");a.onclick=l=>{l.stopPropagation()},r.dialogShowElm=r.dialogElm.querySelector(".popup-show"),r.dialogShowElm.onclick=o,r.dialogCheckElm=r.dialogElm.querySelector(".popup-check"),r.dialogCheckElm.onclick=async()=>{if(r.dialogCheckElm.classList.contains("disabled"))return;const l=r.dialogElm.querySelectorAll(".user-popup-check-item-check")||[];if(l.length===0)return void await o();if(Array.prototype.some.call(l,h=>h.getAttribute("data-set-id")==="isALL"))return await this.target.onceSetTag({[e.userProps.id]:"isALL",[e.userProps.name]:e.dialogLabels.h5Dialog.callEveryLabel}),void await o();const c=Array.from(l,h=>h.getAttribute("data-set-id")),u=e.userList.filter(h=>c.indexOf(String(h[e.userProps.id]))!==-1);await this.target.batchSetTag(u),await o()},r.dialogMainElm=r.dialogElm.querySelector(".call-user-popup-body"),r.dialogEmptyElm=document.createElement("div"),R(r.dialogEmptyElm,"call-user-popup-empty",!0),this.h5Elms.dialogEmptyElm.innerHTML=`
            ${Au}
            <span class="empty-label">${e.dialogLabels.h5Dialog.searchEmptyLabel}</span>
        `,M(r.dialogEmptyElm),a.appendChild(r.dialogEmptyElm),e.asyncMatch&&(r.dialogLoadingElm=document.createElement("div"),R(r.dialogLoadingElm,"call-user-popup-loading",!0),r.dialogLoadingElm.innerHTML=vr,M(r.dialogLoadingElm),a.appendChild(r.dialogLoadingElm)),r.dialogSearchElm=r.dialogElm.querySelector(".call-user-popup-search-input"),r.dialogSearchElm.oninput=ft(l=>{const c=String(l.target.value||"").replace(/'/g,"").trim();if(e.asyncMatch){n.matchKey++;const h=n.matchKey;this.target.updateUserList([]),M(r.dialogLoadingElm,!0),M(r.dialogEmptyElm);const d=n.triggerChatEvent("atMatch",c).find(p=>p&&p instanceof Promise);return void(d&&d.then(p=>{h===n.matchKey&&(M(r.dialogLoadingElm),!p||p.length<=0?M(r.dialogEmptyElm,!0,"flex"):this.target.updateUserList(p))}))}const u=[];Array.from(this.h5Elms.dialogMainElm.children,h=>{if(!c)return M(h,!0,"flex"),void u.push(h);fi(h.getAttribute("data-set-name")||"",h.getAttribute("data-set-pinyin")||"",c)?(M(h,!0,"flex"),u.push(h)):M(h)}),M(this.h5Elms.dialogEmptyElm,!u.length,"flex")},200),M(r.dialogElm),document.body.appendChild(r.dialogElm)}updatePCUser(){const{pcElms:e,target:n}=this;e.pointDialogMainElm.innerHTML="",e.pointDialogActiveElm=void 0;const i=document.createDocumentFragment();if(this.target.options.needCallEvery){const a=document.createElement("div");R(a,"call-user-dialog-item",!0),a.setAttribute("data-set-id","isALL"),this.userSelectStyleAndEvent(a,{id:"isALL",name:n.options.dialogLabels.pcPointDialog.callEveryLabel}),a.innerHTML=`
                <span class="call-user-dialog-item-sculpture">
                  <span style="transform: scale(0.75)">@</span>
                </span>
                <span class="call-user-dialog-item-name">${n.options.dialogLabels.pcPointDialog.callEveryLabel}(${n.options.reformList.length})</span>
            `,i.appendChild(a)}if(n.options.reformList.forEach(a=>{const l=document.createElement("div");R(l,"call-user-dialog-item",!0),l.setAttribute("data-set-id",a.id),this.userSelectStyleAndEvent(l,a),this.getUserHtmlTemplate(l,a),i.appendChild(l)}),e.pointDialogMainElm.appendChild(i),e.pointDialogUsersElm=[],Array.from(e.pointDialogMainElm.children||[],(a,l)=>{e.pointDialogUsersElm.push({index:l,elm:a})}),n.options.asyncMatch)return;e.checkDialogUsersElm.innerHTML=`
            <div class="checkbox-dialog-check-item" data-set-value="ALL">
                <input type="checkbox" value>
                <span class="checkbox-dialog-check-item-inner"></span>
                <div class="checkbox-dialog-check-item-label">${n.options.dialogLabels.pcPCheckDialog.checkAllLabel}</div>
            </div>
        `;const s=document.createDocumentFragment();n.options.reformList.forEach(a=>{const l=document.createElement("div");R(l,"checkbox-dialog-check-item",!0),l.setAttribute("data-set-value",a.id),l.innerHTML=`
                <input type="checkbox" value>
                <span class="checkbox-dialog-check-item-inner"></span>
            `,this.getUserHtmlTemplate(l,a),s.appendChild(l)}),e.checkDialogUsersElm.appendChild(s),e.checkDialogUsersElm&&e.checkDialogUsersElm.children.length&&Array.from(e.checkDialogUsersElm.children,a=>{a.onclick=()=>{const l=a.getAttribute("data-set-value")||"",c=n.options.reformList.find(h=>h.id===l),u=a.className.indexOf("checkbox-dialog-check-item-check")===-1;l==="ALL"?this.checkboxRows=u?n.options.reformList.map(h=>h):[]:u?this.checkboxRows.push(c):this.checkboxRows=this.checkboxRows.filter(h=>h.id!==l),this.updateCheckDialogTags()}}),e.checkDialogSearchResultElm.innerHTML="";const r=document.createDocumentFragment();n.options.reformList.forEach(a=>{const l=document.createElement("div");R(l,"checkbox-dialog-check-item",!0),l.setAttribute("data-set-id",a.id);const c=document.createElement("div");R(c,"checkbox-dialog-check-item-label",!0),this.getUserHtmlTemplate(c,a),l.appendChild(c),l.onclick=()=>{M(this.pcElms.checkDialogSearchResultElm);const u=l.getAttribute("data-set-id")||"";if(this.pcElms.checkDialogSearchInputElm.value="",this.pcElms.checkDialogSearchInputElm.focus(),this.checkboxRows.some(d=>d.id===u))return;const h=n.options.reformList.find(d=>d.id===u);h&&this.checkboxRows.push(h),this.updateCheckDialogTags()},r.appendChild(l)});const o=document.createElement("div");R(o,"checkbox-dialog-search-empty",!0),o.innerText=n.options.dialogLabels.pcPCheckDialog.searchEmptyLabel,r.appendChild(o),e.checkDialogSearchResultElm.appendChild(r)}updateH5User(){const{h5Elms:e,target:n}=this;e.dialogMainElm.innerHTML="";const i=n.options.reformList&&n.options.reformList.length>0,s=document.createDocumentFragment(),r=document.createElement("span");if(r.innerHTML=`
            <input type="checkbox" value>
            <span class="user-popup-check-item-inner"></span>
        `,i){const o=document.createElement("div");n.options.needCallEvery&&(R(o,"call-user-popup-item",!0),o.setAttribute("data-set-id","isALL"),o.innerHTML=`
                    <span class="call-user-dialog-item-sculpture">
                        <span style="transform: scale(0.75)">@</span>
                    </span>
                    <span class="call-user-dialog-item-name">${n.options.dialogLabels.h5Dialog.callEveryLabel}(${n.options.reformList.length})</span>
                `,o.appendChild(r.cloneNode(!0)),o.onclick=()=>{const a=!o.classList.contains("user-popup-check-item-check");Array.from(this.h5Elms.dialogMainElm.children,l=>{R(l,"user-popup-check-item-check",a)}),R(this.h5Elms.dialogCheckElm,"disabled",!a)},s.appendChild(o)),n.options.reformList.forEach((a,l)=>{const c=document.createElement("div");R(c,"call-user-popup-item",!0),c.setAttribute("data-set-id",a.id),c.setAttribute("data-set-name",a.name),c.setAttribute("data-set-pinyin",a.pinyin||""),this.getUserHtmlTemplate(c,a),c.appendChild(r.cloneNode(!0)),s.appendChild(c),c.onclick=u=>{const h=!c.classList.contains("user-popup-check-item-check");R(c,"user-popup-check-item-check",h);const d=Array.prototype.every.call(this.h5Elms.dialogMainElm.children,f=>f.classList.contains("user-popup-check-item-check")||f.getAttribute("data-set-id")==="isALL");R(o,"user-popup-check-item-check",d);const p=Array.prototype.some.call(this.h5Elms.dialogMainElm.children,f=>f.classList.contains("user-popup-check-item-check"));R(this.h5Elms.dialogCheckElm,"disabled",!p)}})}e.dialogMainElm.appendChild(s)}updateCheckDialogTags(){const e=this.checkboxRows.map(a=>a.id),n=[],i=[],s=document.createElement("div");s.className="check-empty",s.innerHTML=`
            ${Du}
            <span class="check-empty-label">${this.target.options.dialogLabels.pcPCheckDialog.checkEmptyLabel}</span>
        `,Array.from(this.pcElms.checkDialogTagsElm.children,a=>{const l=a.getAttribute("data-set-value");e.indexOf(l)===-1?i.push(a):n.push(l)}),Array.from(this.pcElms.checkDialogUsersElm.children,(a,l)=>{if(l===0)return void R(a,"checkbox-dialog-check-item-check",e.length===this.target.options.reformList.length);const c=a.getAttribute("data-set-value");R(a,"checkbox-dialog-check-item-check",e.indexOf(c)!==-1)}),i.forEach(a=>{this.pcElms.checkDialogTagsElm.removeChild(a)}),R(this.pcElms.checkDialogElm.querySelector(".btn-submit"),"disabled",e.length<=0),e.length||this.pcElms.checkDialogTagsElm.appendChild(s);const r=this.checkboxRows.filter(a=>n.indexOf(a.id)===-1);if(!r.length)return;const o=document.createDocumentFragment();r.forEach(a=>{const l=document.createElement("div");l.setAttribute("class","checkbox-dialog-tag-item"),l.setAttribute("data-set-value",a.id),l.innerHTML=`
        <span>${a.name}</span>
      `;const c=document.createElement("span");c.setAttribute("class","checkbox-dialog-tag-item-close"),c.innerHTML="⛌",c.onclick=()=>{const u=l.getAttribute("data-set-value");this.checkboxRows=this.checkboxRows.filter(h=>h.id!==u),this.updateCheckDialogTags()},l.appendChild(c),o.appendChild(l)}),this.pcElms.checkDialogTagsElm.appendChild(o)}userSelectStyleAndEvent(e,n){e.addEventListener("click",async i=>{const{options:s}=this.target;if(i.stopPropagation(),this.updatePointActiveUserElm(e),this.isPointSearchMode||s.asyncMatch)await this.target.matchSetTag(n);else{const r=s.userList.find(o=>String(o[s.userProps.id])===n.id);await this.target.onceSetTag(r)}this.exitPointDialog()})}bindCustomTrigger(){Object.values(this.pcElms.customTagDialogElms).forEach(e=>{this.pcElms.containerDialogElm.removeChild(e)}),this.pcElms.customTagDialogElms={},this.customTags={},this.target.options.customTrigger.forEach(e=>{e.tagList&&e.tagList.length>0&&(this.customTags[e.prefix]=e.tagList.map(n=>({id:String(n.id),name:String(n.name),pinyin:String(n.pinyin||"")})),this.createCustomTagDialog(e))})}createCustomTagDialog(e){const n=document.createElement("div");n.setAttribute("class","call-tag-dialog"),M(n);const i=document.createElement("div");i.setAttribute("class","call-tag-dialog-header"),i.innerHTML=`<span class="call-tag-dialog-header-title">${e.dialogTitle||e.prefix}</span>`,n.appendChild(i);const s=document.createElement("div");s.setAttribute("class","call-tag-dialog-main"),e.tagList.forEach(r=>{const o=document.createElement("div");o.setAttribute("class","call-tag-dialog-item"),o.setAttribute("data-set-id",r.id);const a=document.createElement("span");a.setAttribute("class","call-tag-dialog-item-name"),a.innerHTML=r.name,o.appendChild(a),o.addEventListener("click",async l=>{l.stopPropagation(),this.updateActiveCustomTagElm(o),this.isPointSearchMode?await this.target.matchSetCustomTag(r):await this.target.onceSetCustomTag(r),this.exitCustomTagDialog()}),s.appendChild(o)}),n.appendChild(s),this.pcElms.containerDialogElm.appendChild(n),this.pcElms.customTagDialogElms[e.prefix]=n}getUserHtmlTemplate(e,n){const i=document.createElement("span");if(i.setAttribute("class","call-user-dialog-item-sculpture "+(n.avatar?"is-avatar":"")),n.avatar){const r=new Image;r.alt="",r.src=String(n.avatar),i.appendChild(r)}else i.innerHTML=`<span style="transform: scale(0.75)">${n.name.slice(-2)}</span>`;e.appendChild(i);const s=document.createElement("span");s.setAttribute("class","call-user-dialog-item-name"),s.innerHTML=n.name,e.appendChild(s)}updatePointActiveUserElm(e,n=!1){if(this.pcElms.pointDialogActiveElm&&R(this.pcElms.pointDialogActiveElm,"call-user-dialog-item-active"),this.pcElms.pointDialogActiveElm=e,e&&(R(e,"call-user-dialog-item-active",!0),n)){const i=Array.prototype.filter.call(this.pcElms.pointDialogMainElm.children,o=>o.className.indexOf("user-no-match")===-1),s=e.clientHeight,r=Array.prototype.indexOf.call(i,e)+1-Math.ceil(Math.floor(this.pcElms.pointDialogMainElm.clientHeight/s)/2);this.pcElms.pointDialogMainElm.scrollTop=r>0?r*s:0}}updateActiveCustomTagElm(e,n=!1){if(this.pcElms.customTagDialogActiveElm&&R(this.pcElms.customTagDialogActiveElm,"call-tag-dialog-item-active"),this.pcElms.customTagDialogActiveElm=e,e&&(R(e,"call-tag-dialog-item-active",!0),n)){const i=this.pcElms.customTagDialogElms[this.pcElms.customTagDialogTagKey].children[1],s=Array.prototype.filter.call(i.children,a=>a.className.indexOf("tag-no-match")===-1),r=e.clientHeight,o=Array.prototype.indexOf.call(s,e)+1-Math.ceil(Math.floor(i.clientHeight/r)/2);i.scrollTop=o>0?o*r:0}}showPointDialog(e){this.exitSelectDialog(),this.exitCustomTagDialog(),this.exitPointDialog(),this.isPointSearchMode=!!e;let n=null;this.pcElms.pointDialogUsersElm.forEach(i=>{const s=i.elm,r=s.getAttribute("data-set-id"),o=e&&e.every(a=>a.id!==r);n||o||(n=s),R(s,"user-no-match",o)}),n!==null&&this.updatePointActiveUserElm(n),M(this.pcElms.pointDialogCheckElm,!this.target.options.asyncMatch&&!this.isPointSearchMode),M(this.pcElms.pointDialogElm,!0),this.target.chatEvent.debounceEvents.dialogMoveToRange(this.pcElms.pointDialogElm),this.pcElms.pointDialogMainElm.scrollTop=0}showCustomTagDialog(e,n){this.exitSelectDialog(),this.exitCustomTagDialog(),this.exitPointDialog(),this.isPointSearchMode=!!n,this.pcElms.customTagDialogTagKey=e;const i=this.pcElms.customTagDialogElms[e],s=i.children[1];let r=null;Array.from(s.children,o=>{const a=o.getAttribute("data-set-id"),l=n&&n.every(c=>c.id!==a);r||l||(r=o),R(o,"tag-no-match",l)}),r!==null&&this.updateActiveCustomTagElm(r),M(i,!0),this.target.chatEvent.debounceEvents.dialogMoveToRange(i),i.children[1].scrollTop=0}exitPointDialog(){this.updatePointActiveUserElm(),this.target.options.asyncMatch&&this.target.updateUserList([]),M(this.pcElms.pointDialogElm)}exitCustomTagDialog(){this.updateActiveCustomTagElm();for(const e in this.pcElms.customTagDialogElms)M(this.pcElms.customTagDialogElms[e])}ruleShowPointDialog(){const{options:e}=this.target;e.needDialog&&e.reformList.length>0&&(this.isExternalCallPopup=!1,this.showPointDialog())}showPlaceholder(){M(this.placeholderElm,this.target.isEmpty()),this.offsetTipElm()}bindSelectList(){Object.values(this.pcElms.selectDialogElms).forEach(e=>{this.pcElms.containerDialogElm.removeChild(e)}),this.pcElms.selectDialogElms={},this.selectTags={},this.target.options.selectList.forEach(e=>{e.options&&e.options.length>0&&(this.selectTags[e.key]=e.options.map(n=>({id:String(n.id),name:String(n.name),preview:String(n.preview||"")})),this.createSelectDialog(e))})}createSelectDialog(e){const n=document.createElement("div");n.setAttribute("class","chat-select-dialog"),M(n);const i=document.createElement("div");i.setAttribute("class","chat-select-dialog-header"),i.innerHTML=`<span class="chat-select-dialog-header-title">${e.dialogTitle||e.key}</span>`,n.appendChild(i);const s=document.createElement("div");s.setAttribute("class","chat-select-dialog-main"),e.options.forEach(o=>{const a=document.createElement("div");if(a.setAttribute("class","chat-select-dialog-item"),a.setAttribute("data-set-id",o.id),o.preview){const u=document.createElement("img");u.setAttribute("class","chat-select-dialog-preview"),u.src=String(o.preview),a.appendChild(u)}const l=document.createElement("span");l.setAttribute("class","chat-select-dialog-name"),l.textContent=o.name;const c=document.createElement("span");c.setAttribute("class","chat-select-dialog-check"),c.innerHTML=Iu,M(c),l.appendChild(c),a.appendChild(l),a.onclick=async()=>{await this.target.setSelectTag(o)},s.appendChild(a)}),n.appendChild(s);const r=document.createElement("div");r.setAttribute("class","chat-select-arrow"),n.appendChild(r),this.pcElms.containerDialogElm.appendChild(n),this.pcElms.selectDialogElms[e.key]=n}exitSelectDialog(){for(const e in this.pcElms.selectDialogElms)M(this.pcElms.selectDialogElms[e]);this.pcElms.selectDialogKey="",this.pcElms.selectDialogAim&&(R(this.pcElms.selectDialogAim,"aim"),this.pcElms.selectDialogAim=null)}createTipElm(e){this.tipElm||(this.tipElm=document.createElement("div")),R(this.tipElm,"chat-tip-wrap",!0),this.tipElm.innerHTML=`
            <div class="chat-tip-tag">
                <span class="chat-tip-tag-txt">${e.tagLabel||"--"}</span>
                <span class="chat-tip-tag-close">
                    ${this.target.deviceInfo.isPc?Lu:""}
                </span>
            </div>
        `,this.target.options.elm.appendChild(this.tipElm);const n=this.tipElm.children[0],i=(n.clientHeight-this.target.chatInput.NODE_HEIGHT)/2;this.tipElm.style.top=`-${i}px`,n.onclick=()=>{this.target.deviceInfo.isPc&&this.target.closeTipTag()},n.onmouseenter=()=>{if(this.pcElms.tipContainerPopoverElm&&this.pcElms.tipPopoverElm){M(this.pcElms.tipPopoverElm,!0);const o=this.pcElms.tipContainerPopoverElm.getBoundingClientRect();this.rects.tipRect=this.tipElm.getBoundingClientRect();const a=(this.pcElms.tipPopoverElm.clientWidth-(this.tipElm.clientWidth+(this.tipElm.clientWidth-n.clientWidth)))/2;this.pcElms.tipPopoverElm.style.left=-a+"px",this.pcElms.tipPopoverElm.style.bottom=o.y-this.rects.tipRect.y+"px",this.pcElms.tipPopoverElm.style.transform=n.style.transform}},n.onmouseleave=()=>{this.pcElms.tipPopoverElm&&M(this.pcElms.tipPopoverElm)};const s=this.richText.children[0].children[0];this.rects.tipRect=this.tipElm.getBoundingClientRect();const r=this.rects.tipRect;if(this.placeholderElm.style.paddingLeft=r.width+"px",s.style.paddingLeft=r.width-s.offsetLeft+"px",this.offsetTipElm(),this.target.deviceInfo.isPc){this.pcElms.tipContainerPopoverElm||(this.pcElms.tipContainerPopoverElm=document.createElement("div"),R(this.pcElms.tipContainerPopoverElm,"chat-tip-dialog",!0)),this.pcElms.tipPopoverElm||(this.pcElms.tipPopoverElm=document.createElement("div")),R(this.pcElms.tipPopoverElm,"chat-tip-popover",!0),this.pcElms.tipPopoverElm.innerHTML=`
                <div class="chat-tip-popover-main">
                    <span class="chat-tip-popover-txt">${e.popoverLabel||"--"}</span>
                    <span class="chat-tip-popover-code ${e.codeLabel?"":"chat-view-show"}">${e.codeLabel||"--"}</span>
                </div>
                <div class="chat-tip-popover-arrow"></div>
            `,this.pcElms.tipContainerPopoverElm.appendChild(this.pcElms.tipPopoverElm),M(this.pcElms.tipPopoverElm);const{elm:o}=this.target.options;o.parentElement&&(o.nextElementSibling?o.parentElement.insertBefore(this.pcElms.tipContainerPopoverElm,o.nextElementSibling):o.parentElement.appendChild(this.pcElms.tipContainerPopoverElm))}this.target.chatEvent.triggerChatEvent("tipTagState",!0)}offsetTipElm(){if(this.tipElm){const e=this.richText.children[0].children[0];e.style.paddingLeft=this.rects.tipRect.width-e.offsetLeft+"px",this.target.nextTick(()=>{if(this.tipElm){const n=this.tipElm.children[0],i=this.richText.children[0].children[0];n.style.transform=`translateY(${i.offsetTop-this.target.chatInput.NODE_PADDING_DIFF}px)`}})}}removeTipElm(){this.tipElm&&(this.target.options.elm.removeChild(this.tipElm),this.tipElm=null),this.pcElms.tipContainerPopoverElm&&(this.pcElms.tipContainerPopoverElm.removeChild(this.pcElms.tipPopoverElm),this.target.options.elm.parentElement.removeChild(this.pcElms.tipContainerPopoverElm),this.pcElms.tipContainerPopoverElm=null,this.pcElms.tipPopoverElm=null);const e=this.richText.children[0].children[0];this.placeholderElm.style.removeProperty("padding-left"),e.style.removeProperty("padding-left"),this.target.chatInput.setRangeLastText(),this.target.chatEvent.triggerChatEvent("tipTagState",!1)}}class Mu{constructor(e){P(this,"target"),P(this,"richText"),P(this,"vnode"),P(this,"cursorIndex"),P(this,"cursorLeft"),P(this,"needCallSpace",!1),P(this,"VOID_KEY","\uFEFF"),P(this,"ZERO_WIDTH_KEY","​"),P(this,"INPUT_TAG_WRAP_KEY",`​
​`),P(this,"NODE_HEIGHT",24),P(this,"NODE_PADDING_DIFF",10),P(this,"IME_RECORD",{MARK:void 0,GRID:void 0,TAG:void 0,NODE:void 0,INDEX:void 0}),this.target=e,this.richText=e.chatElement.richText,this.initEditor()}initEditor(e=!1,n){if(e||this.getNodeEmpty(this.richText)){this.richText.innerHTML="";const i=this.getGridElm();this.richText.appendChild(i);const s=i.children[0].children[0];n&&(s.textContent=n,s.setAttribute("data-set-empty","false"));const r=s.childNodes[0];e||this.target.options.autoFocus?this.restCursorPos(r,r.textContent===this.VOID_KEY?1:r.textContent.length):(this.vnode=r,this.cursorIndex=r.textContent===this.VOID_KEY?1:r.textContent.length),this.target.nextTick(()=>{const o=i.getBoundingClientRect();this.NODE_HEIGHT=o.height,this.NODE_PADDING_DIFF=o.top-this.target.options.elm.getBoundingClientRect().top})}}onceCall(e){return new Promise(n=>{const i=this.createChatTagElm(e,"@","at-user","user-id");this.replaceRegContent(i),n()})}onceSearchCall(e,n){return new Promise(i=>{const s=this.createChatTagElm(e,"@","at-user","user-id");this.replaceRegContent(s,n),i()})}onceCustomCall(e,n,i){return new Promise(s=>{const r=this.createChatTagElm(e,i,"at-tag","tag-id");r.children[0].setAttribute("data-set-prefix",i),this.replaceRegContent(r,n),s()})}upDataNodeOrIndex(){var e,n,i;const{focusNode:s,focusOffset:r,anchorOffset:o}=window.getSelection(),a=(s==null?void 0:s.parentNode)||void 0;!a||!a.getAttribute||a.getAttribute("data-set-richType")!==ye||((i=(n=(e=s==null?void 0:s.parentNode)==null?void 0:e.parentNode)==null?void 0:n.parentNode)==null?void 0:i.parentNode)===this.richText&&(this.vnode=s,this.cursorIndex=r,this.cursorLeft=o<r?o:r)}keyUpAsKey(e){if(this.upDataNodeOrIndex(),!this.vnode||this.vnode.nodeType!==Node.TEXT_NODE)return!1;const n=this.vnode.textContent||"",i=new RegExp(`${e}([^${e}\\s]*)$`),s=n.slice(0,this.cursorIndex),r=i.exec(s);return r&&r.length===2&&s[s.length-1]===e}getRangeRect(){let e=0,n=0;const i=window.getSelection();if(i.focusNode.nodeType!==Node.TEXT_NODE)return null;const s=i.getRangeAt(0).getClientRects()[0];return s&&(e=s.x,n=s.y),{x:e,y:n}}createChatTagElm(e,n,i,s){const r=document.createElement("span");return r.className=i,r.setAttribute(`data-${s}`,String(e.id)),r.textContent=`${n}${e.name}${this.needCallSpace?" ":""}`,this.createNewDom(r)}createNewDom(e){const n=document.createElement("span");return n.className="chat-tag",n.setAttribute("contenteditable","false"),n.setAttribute("data-set-richType",pe),n.appendChild(e),n}restCursorPos(e,n){n==null?n=e.textContent===this.VOID_KEY?1:0:n>e.textContent.length&&(n=e.textContent.length);const i=new Range;i.setStart(e,n),i.setEnd(e,n);const s=window.getSelection();s&&(this.vnode=e,this.cursorIndex=n,this.cursorLeft=n,s.removeAllRanges(),s.addRange(i))}replaceRegContent(e,n=!0){const i=this.vnode.textContent;let s;s=typeof n=="boolean"?i.slice(0,n?this.cursorIndex-1:this.cursorIndex):i.slice(0,n-1),s.length===0?(this.vnode.parentElement.setAttribute("data-set-empty","true"),this.vnode.textContent=this.VOID_KEY):this.vnode.textContent=s;let r=i.slice(this.cursorIndex);const o=this.vnode.parentNode.parentNode,a=o.nextSibling;a?o.parentNode.insertBefore(e,a):o.parentNode.appendChild(e);const l=e.previousSibling.childNodes[0],c=l.childNodes[1];c&&l.removeChild(c);const u=this.getGridElm(!0),h=u.childNodes[0];r&&r!==this.VOID_KEY&&(h.setAttribute("data-set-empty","false"),h.innerHTML=r);const d=h.childNodes[1];e.nextSibling?(d&&h.removeChild(d),o.parentNode.insertBefore(u,e.nextSibling)):o.parentNode.appendChild(u),this.restCursorPos(h.childNodes[0])}batchReplaceRegContent(e=[],n=!0){return new Promise(i=>{let s=`<span data-set-richType="${Y}"><span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="true">${this.VOID_KEY}</span></span>`;e.forEach(o=>{s+=`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="at-user" data-user-id="${o.id}" contentEditable="false">@${o.name}${this.needCallSpace?" ":""}</span></span><span data-set-richType="${Y}"><span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="true">${this.VOID_KEY}</span></span>`});const r=document.createElement("div");r.innerHTML=s,this.insetRangeGrid(r,n?1:0),i()})}switchRange(e){var n,i;let{focusNode:s,focusOffset:r}=window.getSelection();s.getAttribute&&s.getAttribute("data-set-richType")===ye&&(s=s.childNodes[0]);let o,a,l=!1;if(s.nodeType===Node.TEXT_NODE){const c=s.textContent.length,u=s.parentNode.parentNode;switch(e){case"ArrowLeft":if(r>0&&s.textContent!==this.VOID_KEY){a=r-1,o=s;break}const h=u.previousSibling;if(h&&h.children[0].classList.contains("at-input")){o=h.children[0].children[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:o.textContent.length,l=!0;break}const d=(n=u==null?void 0:u.previousSibling)==null?void 0:n.previousSibling;if(d)o=d.childNodes[0].childNodes[0],a=o.textContent.length;else{const v=u.parentNode.previousSibling;v&&(o=v.lastChild.childNodes[0].childNodes[0],a=o.textContent.length)}break;case"ArrowRight":if(r<c&&s.textContent!==this.VOID_KEY){a=r+1,o=s;break}const p=u.nextSibling;if(p&&p.children[0].classList.contains("at-input")){o=p.children[0].children[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:0,l=!0;break}const f=(i=u==null?void 0:u.nextSibling)==null?void 0:i.nextSibling;if(f)o=f.childNodes[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:0;else{const v=u.parentNode.nextSibling;v&&(o=v.childNodes[0].childNodes[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:0)}}}(a||a===0)&&(l?this.setInputTagRange(o,a):this.restCursorPos(o,a))}getGridElm(e=!1){const n=document.createElement("span");if(n.setAttribute("data-set-richType",Y),n.innerHTML=`<span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="true">${this.VOID_KEY}<br></span>`,e)return n;const i=document.createElement("p");return i.className="chat-grid-wrap",i.setAttribute("data-set-richType",Re),i.appendChild(n),i}updateGrid(){const e=window.getSelection(),n=e.focusNode;if(!n)return;const i=n.parentNode;let s,r,o,a;switch(i.getAttribute("data-set-richType")){case Es:if(s=n.childNodes[e.focusOffset],!s||s.getAttribute("data-set-richType")===pe){const d=this.getGridElm(!0),p=d.children[0];s?(p.removeChild(p.childNodes[1]),n.insertBefore(d,s)):n.appendChild(d),this.restCursorPos(p.childNodes[0]);break}if(s.tagName&&s.tagName.toLocaleUpperCase()==="BR"){const d=this.getGridElm(!0),p=d.children[0];n.insertBefore(d,s),n.removeChild(s),this.restCursorPos(p.childNodes[0],p.childNodes[0].textContent.length)}break;case Y:const l=i.parentNode,c=Array.prototype.indexOf.call(l.childNodes,i);if(c===-1)break;if(c===0){const d=e.focusNode;d.setAttribute("data-set-empty","true"),d.innerHTML=`${this.VOID_KEY}<br>`,s=d.childNodes[0],this.restCursorPos(s,s.textContent.length);break}let u,h=i.previousSibling;h.getAttribute("data-set-richType")===pe?(u=h.previousSibling,l.removeChild(h),l.removeChild(i)):(u=i.previousSibling,l.removeChild(i)),s=u.childNodes[0].childNodes[0],s.textContent===this.VOID_KEY&&s.parentNode.appendChild(document.createElement("br")),this.restCursorPos(s,s.textContent.length);break;case ye:if(a=i.parentNode,o=a.parentNode,this.getNodeEmpty(i)){i.setAttribute("data-set-empty","true"),o.childNodes[o.childNodes.length-1]===a&&(i.innerHTML=`${this.VOID_KEY}<br>`),s=i.childNodes[0],this.restCursorPos(s,s.textContent.length);break}if(String(i.getAttribute("data-set-empty"))==="true"){i.setAttribute("data-set-empty","false"),s=i.childNodes[0],this.target.chatEvent.isIMEModel?(i.childNodes[1]&&i.removeChild(i.childNodes[1]),s.textContent===this.VOID_KEY&&i.setAttribute("data-set-empty","true")):i.textContent=s.textContent.replace(new RegExp(this.VOID_KEY,"g"),"");const d=i.childNodes[0];this.restCursorPos(d,d.textContent.length)}if(r=i.parentNode.nextSibling,r&&r.nodeType===Node.TEXT_NODE){let d=r.textContent,p=this.getGridElm(!0);p.childNodes[0].textContent=d,p.childNodes[0].setAttribute("data-set-empty","false"),r.parentNode.insertBefore(p,r),r.parentNode.removeChild(r),r=p}r&&r.getAttribute("data-set-richType")===Y&&this.markMerge(i.parentNode,r)}}getNodeEmpty(e){const n=new RegExp(`^(${this.ZERO_WIDTH_KEY}|<br>|${this.VOID_KEY})+$`);return!e.innerHTML||n.test(e.innerHTML)}setWrap(e=!0){const n=window.getSelection();let{focusNode:i,focusOffset:s}=n;if(i.nodeType!==Node.TEXT_NODE){if(!i.getAttribute||i.getAttribute("data-set-richType")!==ye)return;i=i.childNodes[0]}const r=i.textContent.slice(s),o=i.parentNode.parentNode,a=o.parentNode,l=Array.prototype.indexOf.call(a.childNodes,o),c=Array.prototype.slice.call(a.childNodes,l+1),u=this.getGridElm();let h=u.children[0].children[0].childNodes[0];(r||c.length>0)&&h.parentNode.removeChild(h.parentNode.childNodes[1]),r&&r!==this.VOID_KEY&&(i.textContent=i.textContent.slice(0,s),h.textContent=r,h.parentElement.setAttribute("data-set-empty","false")),c.forEach(f=>{a.removeChild(f),u.appendChild(f)});const d=a.lastChild.childNodes[0],p=u.lastChild.childNodes[0];if(d.childNodes.length<=1){const f=d.childNodes[0];f.textContent&&f.textContent!==this.VOID_KEY||(d.innerHTML=`${this.VOID_KEY}<br>`,d.setAttribute("data-set-empty","true"))}if(p.parentElement.getAttribute("data-set-richType")!==Y)u.appendChild(this.getGridElm(!0));else if(p.childNodes.length<=1){const f=p.childNodes[0];f.textContent&&f.textContent!==this.VOID_KEY||(p.innerHTML=`${this.VOID_KEY}<br>`,p.setAttribute("data-set-empty","true"),h=u.children[0].children[0].childNodes[0])}a.nextSibling?this.richText.insertBefore(u,a.nextSibling):this.richText.appendChild(u),e&&this.restCursorPos(h,h.textContent===this.VOID_KEY?1:0)}selectRegionMerge(){const e=window.getSelection();if(e.isCollapsed||e.rangeCount<=0)return;const n=e.getRangeAt(0);if(n.startContainer.nodeType===Node.TEXT_NODE&&n.startContainer===n.endContainer){const i=n.startContainer;if(i.length===n.endOffset-n.startOffset){const s=i.parentNode,r=s.parentNode===s.parentNode.parentNode.lastChild;s.setAttribute("data-set-empty","true"),s.innerHTML="\uFEFF"+(r?"<br>":""),this.restCursorPos(s.childNodes[0])}else n.deleteContents()}else if(n.commonAncestorContainer&&n.commonAncestorContainer.getAttribute("data-set-richType")===Re){const i=n.startContainer.nodeType===Node.TEXT_NODE?n.startContainer.parentNode.parentNode:n.startContainer,s=n.endContainer.nodeType===Node.TEXT_NODE?n.endContainer.parentNode.parentNode:n.endContainer;n.deleteContents(),i.getAttribute("data-set-richType")===s.getAttribute("data-set-richType")&&this.markMerge(i,s)}else if(n.commonAncestorContainer===n.startContainer&&n.startContainer===n.endContainer)this.initEditor(!0);else{const i=o=>{if(o.nodeType===Node.TEXT_NODE)return o.parentNode.parentNode.parentNode;switch(o.getAttribute("data-set-richType")){case ye:return o.parentNode.parentNode;case Y:return o.parentNode;case Re:return o;default:return null}},s=i(n.startContainer),r=i(n.endContainer);if(!s||!r)return;n.deleteContents(),this.gridMerge(s,r)}return!0}gridElmMerge(){const e=window.getSelection(),{focusNode:n,focusOffset:i,isCollapsed:s}=e;if(!n)return this.restCursorPos(this.vnode,this.cursorIndex),!1;if(i>1||!s)return!1;const r=(l,c)=>(l.parentNode===this.richText||l===l.parentNode.childNodes[0])&&(Array.prototype.indexOf.call(this.richText.childNodes,l)!==-1?l:!(c>=6)&&r(l.parentNode,c+1)),o=r(n,0);if(!o||o===this.richText.childNodes[0]||i===1&&o.children[0].children[0].getAttribute("data-set-empty")==="false")return!1;const a=o.previousSibling;return this.gridMerge(a,o),!0}delMarkRule(){const e=window.getSelection(),n=e.focusNode;if(!n)return this.restCursorPos(this.vnode,this.cursorIndex),!1;const i=n.textContent,s=n.parentNode,r=s.parentNode,o=r.parentNode;if(!e.isCollapsed||s.getAttribute("data-set-richType")!==ye)return!1;if(i&&i.length===1&&r!==o.childNodes[0]&&(e.focusOffset!==0||i===this.VOID_KEY)){if(i===this.VOID_KEY){const a=r.previousSibling;if(a.children[0].classList.contains("at-input")&&a.children[0].children[0].textContent!==this.VOID_KEY)return this.rangeToInputTag(a.children[0]),!0;const l=a.previousSibling;o.removeChild(a),o.removeChild(r);const c=l.childNodes[0],u=c.childNodes[0];u.textContent===this.VOID_KEY&&l===o.lastChild&&c.appendChild(document.createElement("br")),this.restCursorPos(u,u.textContent.length)}else{s.innerHTML=r===o.lastChild?`${this.VOID_KEY}<br>`:this.VOID_KEY,s.setAttribute("data-set-empty","true");const a=s.childNodes[0];this.restCursorPos(a,1)}return!0}if(e.focusOffset===0){const a=s.parentNode,l=a==null?void 0:a.previousSibling;return!(!l||l.getAttribute("data-set-richType")!==pe)&&(l.children[0].classList.contains("at-input")&&l.children[0].children[0].textContent!==this.VOID_KEY?(this.rangeToInputTag(l.children[0]),!0):(this.delTag(l),!0))}}delTag(e){const n=e.previousSibling,i=e.nextSibling;e.parentNode.removeChild(e),this.markMerge(n,i)}gridMerge(e,n,i=!0){e.lastChild.getAttribute("data-set-richType")!==Y&&e.appendChild(this.getGridElm(!0)),n.childNodes[0].getAttribute("data-set-richType")!==Y&&n.insertBefore(this.getGridElm(!0),n.childNodes[0]);const s=e.lastChild.childNodes[0],r=s.childNodes[0];let o=r.textContent.length;Array.from(n.childNodes,l=>{e.appendChild(l.cloneNode(!0))}),n.childNodes.length>1&&s.childNodes[1]&&s.removeChild(s.childNodes[1]);const a=s.parentNode.nextSibling;if(a){const l=a.children[0].childNodes[0];l&&l.textContent!==this.VOID_KEY&&(s.childNodes[1]&&s.removeChild(s.childNodes[1]),r.textContent=(r.textContent+l.textContent).replace(new RegExp(this.VOID_KEY,"g"),()=>(o--,"")),r.parentElement.setAttribute("data-set-empty","false")),e.removeChild(a)}r.textContent===""&&(r.textContent=this.VOID_KEY,r.parentNode.setAttribute("data-set-empty","true"),o=1),this.richText.removeChild(n),i&&this.restCursorPos(r,o)}markMerge(e,n){const i=e.children[0].childNodes[0];let s=i.textContent.length;if(n){const o=n.children[0].childNodes[0];o&&o.textContent!==this.VOID_KEY&&(i.textContent=(i.textContent+o.textContent).replace(new RegExp(this.VOID_KEY,"g"),()=>(s--,"")),i.parentElement.setAttribute("data-set-empty","false")),n.parentNode.removeChild(n)}i.textContent===""&&(i.textContent=this.VOID_KEY,i.parentNode.setAttribute("data-set-empty","true"),s=1);const r=e.parentNode;i.textContent===this.VOID_KEY&&e===r.lastChild&&(i.parentNode.appendChild(document.createElement("br")),i.parentNode.setAttribute("data-set-empty","true"),s=1),this.restCursorPos(i,s)}setCallSpace(e){this.needCallSpace=e}getWrapNode(e,n=!1){if(e.nodeType===Node.TEXT_NODE)return e.parentNode.parentNode.parentNode;const i=e.getAttribute("data-set-richType");if(n&&i===pe)return e.parentNode;switch(i){case ye:return e.parentNode.parentNode;case Y:return e.parentNode;case Re:return e}}getMarkNode(e,n=!1){if(e.nodeType===Node.TEXT_NODE)return e.parentNode?e.parentNode.parentNode:null;const i=e.getAttribute("data-set-richType");if(n&&i===pe)return e;switch(i){case ye:return e.parentNode;case Y:return e}}getRichTextNodeIndex(e){const n=this.getMarkNode(e),i=n?n.parentNode:null;return n&&i?{gridIndex:Array.prototype.indexOf.call(this.richText.childNodes,i),markIndex:Array.prototype.indexOf.call(i.childNodes,n)}:{gridIndex:null,markIndex:null}}setWrapNodeByMark(e){const n=document.createElement("p");return n.className="chat-grid-wrap",n.setAttribute("data-set-richType",Re),Array.from(e,i=>{n.appendChild(i)}),n}setRangeLastText(){const e=this.richText.childNodes[this.richText.childNodes.length-1],n=e.childNodes[e.childNodes.length-1].children[0].childNodes[0];this.restCursorPos(n,n.textContent===this.VOID_KEY?1:n.textContent.length),this.viewIntoPoint()}viewIntoPoint(){let e,n;const i=window.getSelection(),{focusNode:s,focusOffset:r}=i;if(s&&s.parentElement&&s.parentElement.classList.contains("input-write"))e=s.parentElement.parentElement,n=r;else{if(!this.vnode)return;e=this.getMarkNode(this.vnode),n=this.cursorIndex}if(!e)return;const o=e.getBoundingClientRect(),a=Math.ceil(o.height/this.NODE_HEIGHT),l=Math.floor(e.textContent.length/a)||1,c=(Math.floor(n/l)||1)*this.NODE_HEIGHT,u=o.top+(c-this.NODE_HEIGHT),h=this.richText.parentElement,d=h.getBoundingClientRect(),p=d.top,f=d.top+d.height;if(u<p+this.NODE_PADDING_DIFF){const v=p-u;h.scrollTo(0,h.scrollTop-v)}else if(u>f-this.NODE_HEIGHT){const v=u-f+this.NODE_HEIGHT;h.scrollTo(0,h.scrollTop+v)}}insetRangeGrid(e,n=0){const i=this.vnode.textContent,s=i.slice(0,this.cursorIndex-n);s.length===0?(this.vnode.parentElement.setAttribute("data-set-empty","true"),this.vnode.textContent=this.VOID_KEY):this.vnode.textContent=s;let r=i.slice(this.cursorIndex);const o=[],a=document.createDocumentFragment();Array.from(e.children).forEach((f,v)=>{o.push(f),v!==0&&a.appendChild(f)});const l=o[o.length-1].children[0];r&&r.length>0&&r!==this.VOID_KEY?(l.setAttribute("data-set-empty","false"),l.innerHTML=l.textContent+r):l.setAttribute("data-set-empty","true");const c=this.getMarkNode(this.vnode),u=c.parentElement,h=c.children[0],d=o[0].textContent;d&&d.length>0&&d!==this.VOID_KEY&&(h.setAttribute("data-set-empty","false"),h.innerHTML=(h.textContent+d).replace(new RegExp(this.VOID_KEY,"g"),"")),h.childNodes[1]&&h.removeChild(h.childNodes[1]),c.nextElementSibling?(l.childNodes[1]&&l.removeChild(l.childNodes[1]),u.insertBefore(a,c.nextElementSibling)):u.appendChild(a);const p=r&&r!==this.VOID_KEY?r.length:0;if(o.length>1){const f=l.childNodes[0];this.restCursorPos(f,f.textContent===this.VOID_KEY?1:f.textContent.length-p)}else{const f=h.childNodes[0];this.restCursorPos(f,f.textContent===this.VOID_KEY?1:f.textContent.length-p)}}insetRangeGrids(e){const n=document.createDocumentFragment();Array.from(e).forEach(r=>{n.appendChild(r)});const i=this.getWrapNode(this.vnode);this.restCursorPos(this.vnode,this.cursorIndex),this.setWrap(!1);const s=i.nextElementSibling;s&&this.richText.insertBefore(n,s),s&&s.previousElementSibling?(this.gridMerge(i,i.nextElementSibling,!1),this.gridMerge(s.previousElementSibling,s,!0)):this.gridMerge(i,i.nextElementSibling,!0)}getOffsetRange(e,n,i=!1){const s=n.children[0].childNodes[0],r=s.textContent;if(e===0)return{rangeNode:s,rangeIndex:i?r.length:r===this.VOID_KEY?1:0};if(r!==this.VOID_KEY&&r.length>=e)return{rangeNode:s,rangeIndex:i?r.length-e:e};let o,a;if(i?(o=!!(n.previousElementSibling&&n.previousElementSibling.previousElementSibling),a=!!n.parentElement.previousElementSibling):(o=!!(n.nextElementSibling&&n.nextElementSibling.nextElementSibling),a=!!n.parentElement.nextElementSibling),!o&&!a)return{rangeNode:s,rangeIndex:i?r.length===this.VOID_KEY?1:0:r.length===this.VOID_KEY?1:r.length};const l=e-r.length,c=i?o?n.previousElementSibling.previousElementSibling:n.parentElement.previousElementSibling.lastElementChild:o?n.nextElementSibling.nextElementSibling:n.parentElement.nextElementSibling.children[0];return this.getOffsetRange(l,c,i)}rangeToInputTag(e){const n=e.children[0].childNodes[0];this.setInputTagRange(n,n.textContent===this.VOID_KEY?1:n.textContent.length)}watchInputTag(e){if(e.childNodes.length===0||e.textContent.length===0)e.textContent=this.VOID_KEY,this.rangeToInputTag(e.parentElement);else{const n=e.childNodes[0];this.target.nextTick(()=>{if(!this.target.chatEvent.isComposition){const i=window.getSelection().focusOffset,s=e.textContent===this.VOID_KEY||e.textContent.indexOf(this.VOID_KEY)===-1?0:1;let r=!1;s===1&&(n.textContent=n.textContent.replace(this.VOID_KEY,""),r=!0),e.textContent.indexOf(this.INPUT_TAG_WRAP_KEY[1])!==-1&&(e.textContent=e.textContent.replace(new RegExp(this.INPUT_TAG_WRAP_KEY[0],"g"),"").replace(new RegExp(this.INPUT_TAG_WRAP_KEY[1],"g"),this.INPUT_TAG_WRAP_KEY),r=!0),r&&this.setInputTagRange(e.childNodes[0],i-s)}})}M(e.nextElementSibling,e.textContent===this.VOID_KEY,"inline")}backRuleInputTag(e){if(e.textContent===this.VOID_KEY)return this.delTag(e.parentElement.parentElement),!0;const n=window.getSelection();if(n.focusOffset===0&&n.isCollapsed){const i=e.parentElement.parentElement.previousElementSibling.children[0].childNodes[0];return this.restCursorPos(i,i.textContent===this.VOID_KEY?1:i.textContent.length),!0}if(n.focusNode.textContent.indexOf(this.INPUT_TAG_WRAP_KEY[1])!==-1){const i=this.getDiffInputTagOffset(n.focusNode,n.focusOffset,"left");if(i>0){const s=n.focusNode.textContent.slice(0,n.focusOffset-1-i),r=n.focusNode.textContent.slice(n.focusOffset);return n.focusNode.textContent=s+r,n.focusNode.textContent?this.setInputTagRange(n.focusNode,s.length):(n.focusNode.textContent=this.VOID_KEY,this.watchInputTag(n.focusNode.parentElement),this.setInputTagRange(n.focusNode,1)),!0}}return!1}mergeRuleInputTag(e){this.target.nextTick(()=>{e.childNodes.length>1&&(e.removeChild(e.childNodes[1]),this.watchInputTag(e))})}inputTagSwitchRange(e){const{focusNode:n,focusOffset:i}=window.getSelection(),s=n.textContent.length,r=n.parentElement.parentElement.parentElement;let o,a,l,c=!1;switch(e){case"ArrowLeft":i>0&&n.textContent!==this.VOID_KEY?(l=this.getDiffInputTagOffset(n,i,"left"),a=i-1-l,o=n):(o=r.previousElementSibling.children[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:o.textContent.length,c=!0);break;case"ArrowRight":i<s&&n.textContent!==this.VOID_KEY?(l=this.getDiffInputTagOffset(n,i,"right"),a=i+1+l,o=n):(o=r.nextElementSibling.children[0].childNodes[0],a=o.textContent===this.VOID_KEY?1:0,c=!0)}c?this.restCursorPos(o,a):this.setInputTagRange(o,a)}setInputTagRange(e,n){const i=new Range;i.setStart(e,n),i.setEnd(e,n);const s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(i))}pasteInputTag(e){e=e.replace(new RegExp(this.INPUT_TAG_WRAP_KEY[0],"g"),"").replace(new RegExp(this.INPUT_TAG_WRAP_KEY[1],"g"),this.INPUT_TAG_WRAP_KEY);const n=window.getSelection(),{focusNode:i,focusOffset:s,anchorOffset:r}=n;let o="",a="";n.isCollapsed?(o=i.textContent.slice(0,s)||"",a=i.textContent.slice(s)||""):(o=i.textContent.slice(0,r<s?r:s)||"",a=i.textContent.slice(s>r?s:r)||""),i.textContent=o+e+a,this.setInputTagRange(i,(r<s?r:s)+e.length);const l=i.parentElement;this.watchInputTag(l)}setInputTagWrap(e){const n=window.getSelection(),{focusOffset:i}=n,s=e.textContent,r=s.slice(0,i),o=s.slice(i);e.textContent=r+this.INPUT_TAG_WRAP_KEY+o,this.setInputTagRange(e.childNodes[0],i+this.INPUT_TAG_WRAP_KEY.length),this.watchInputTag(e)}getDiffInputTagOffset(e,n,i){const s=i==="left"?e.textContent[n-1]:e.textContent[n];if(this.INPUT_TAG_WRAP_KEY.indexOf(s)===-1)return 0;switch(i){case"left":return e.textContent[n-2]===this.INPUT_TAG_WRAP_KEY[1]?2:e.textContent[n-2]===this.INPUT_TAG_WRAP_KEY[0]?3:1;case"right":return e.textContent[n+1]===this.INPUT_TAG_WRAP_KEY[1]?2:e.textContent[n+1]===this.INPUT_TAG_WRAP_KEY[0]?3:1}}}const Ru={device:"auto",autoFocus:!0,needDialog:!0,needDebounce:!0,asyncMatch:!1,userList:[],reformList:[],placeholder:"",maxLength:-1,copyType:["text"],uploadImage:void 0,needCallEvery:!0,needCallSpace:!1,userProps:{},customTrigger:[],dialogLabels:{pcPointDialog:{},pcPCheckDialog:{},h5Dialog:{}},wrapKeyFun:t=>t.ctrlKey&&["Enter"].includes(t.key),sendKeyFun:t=>!t.ctrlKey&&["Enter"].includes(t.key)},yr={id:"id",name:"name",avatar:"avatar",pinyin:"pinyin"},br={title:"群成员",callEveryLabel:"所有人",checkLabel:"多选",emptyLabel:"暂无数据"},_r={title:"选择要@的人",searchPlaceholder:"搜素人员名称",searchEmptyLabel:"没有匹配到任何结果",userTagTitle:"研讨成员列表",checkAllLabel:"全选",checkEmptyLabel:"请选择需要@的成员",confirmLabel:"确定",cancelLabel:"取消"},Cr={title:"选择提醒的人",callEveryLabel:"所有人",searchPlaceholder:"搜素人员名称",searchEmptyLabel:"没有匹配到任何结果",confirmLabel:"确定",cancelLabel:"收起"},Pu={saveTagData:!1,needUserId:!1,needTagId:!1,needSelectId:!1,wrapClassName:void 0,rowClassName:void 0,imgToText:!1,identifyLink:!1},Fu=["Backspace","Shift","Tab","CapsLock","Control","Meta","Alt","ContextMenu","Enter","NumpadEnter","Escape","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End","PageUp","PageDown","Insert","Delete","NumLock"];class Ou{constructor(e){P(this,"target"),P(this,"outerApply",!1),P(this,"isComposition",!1),P(this,"matchKey",0),P(this,"startOpenIndex",0),P(this,"textLength",0),P(this,"isIMEModel",!1),P(this,"takeIMEModel",!1),P(this,"undoHistory",[]),P(this,"redoHistory",[]),P(this,"doOverHistory",!0),P(this,"notMergeKey",Fu),P(this,"chatEventModule",{enterSend:[],operate:[],defaultAction:[],atMatch:[],atCheck:[],tagCheck:[],selectCheck:[],tipTagState:[],afterAtCheck:[],afterTagCheck:[],afterSelectCheck:[],showAtDialog:[],showTagDialog:[],showSelectDialog:[],elementClicked:[]}),P(this,"debounceEvents",{recordHistory:()=>{},dialogMoveToRange:n=>{},selectDialogToAim:()=>{},matchPointDialog:()=>{},movePointActiveUserElm:n=>{},moveCustomActiveTagElm:n=>{}}),this.target=e,this.registerEvent(),this.otherEvent()}registerEvent(){const{chatElement:e,options:n,deviceInfo:i,chatInput:s}=this.target;e.richText.addEventListener("keyup",r=>{if(!r.target.classList.contains("input-write"))if(r.stopPropagation(),i.isPc)if(r.key==="@"&&s.keyUpAsKey("@"))this.triggerChatEvent("showAtDialog"),n.needDialog&&e.ruleShowPointDialog();else{const o=n.customTrigger.map(l=>l.prefix),a=o.indexOf(r.key);a!==-1&&s.keyUpAsKey(o[a])&&(this.triggerChatEvent("showTagDialog",r.key),n.needDialog&&e.showCustomTagDialog(r.key))}else if((n.reformList.length>0||n.asyncMatch)&&s.keyUpAsKey("@"))this.triggerChatEvent("showAtDialog"),n.needDialog&&this.target.showH5Dialog(),e.isExternalCallPopup=!1;else{const o=n.customTrigger.map(l=>l.prefix),a=o.indexOf(r.key);a!==-1&&s.keyUpAsKey(o[a])&&this.triggerChatEvent("showTagDialog",r.key)}}),e.richText.addEventListener("keydown",r=>{const o=r.target.classList.contains("input-write");if(!i.isPc&&r.key==="Unidentified"&&r.keyCode===229)return o&&s.mergeRuleInputTag(r.target),void(this.isIMEModel=!0);if(!this.isIMEModel){if(nt(e.pcElms.pointDialogElm))["ArrowUp","ArrowDown","Enter","NumpadEnter"].includes(r.code)?r.preventDefault():["ArrowLeft","ArrowRight"].includes(r.code)&&e.exitPointDialog();else if(e.pcElms.customTagDialogTagKey&&nt(e.pcElms.customTagDialogElms[e.pcElms.customTagDialogTagKey]))["ArrowUp","ArrowDown","Enter","NumpadEnter"].includes(r.code)?r.preventDefault():["ArrowLeft","ArrowRight"].includes(r.code)&&e.exitCustomTagDialog();else if(r.code==="Backspace"||r.key==="Backspace"?o&&s.backRuleInputTag(r.target)||s.selectRegionMerge()||s.gridElmMerge()||s.delMarkRule()?(r.preventDefault(),this.richTextInput()):e.tipElm&&this.target.isEmpty()&&e.removeTipElm():n.wrapKeyFun(r)||!i.isPc&&r.key==="Enter"?(r.preventDefault(),o?s.setInputTagWrap(r.target):s.setWrap(),this.richTextInput()):n.sendKeyFun(r)?(r.preventDefault(),setTimeout(()=>{this.triggerChatEvent("enterSend")},100)):["ArrowLeft","ArrowRight"].includes(r.code)?(r.preventDefault(),o?s.inputTagSwitchRange(r.code):s.switchRange(r.code)):r.ctrlKey&&r.code==="KeyA"?this.target.isEmpty()&&r.preventDefault():r.ctrlKey&&r.code==="KeyZ"?(r.preventDefault(),this.ruleChatEvent(()=>{this.target.undo()},"defaultAction","UNDO")):r.ctrlKey&&r.code==="KeyY"&&(r.preventDefault(),this.ruleChatEvent(()=>{this.target.redo()},"defaultAction","REDO")),!r.ctrlKey&&!r.altKey&&!r.metaKey){const a=this.notMergeKey.indexOf(r.key)===-1;o?(a||r.code==="Backspace"||r.key==="Backspace")&&s.mergeRuleInputTag(r.target):a&&s.selectRegionMerge()}}}),e.richText.addEventListener("beforeinput",r=>{const o=r.target.classList.contains("input-write");if(this.isIMEModel){if(r.inputType==="insertParagraph")return r.preventDefault(),o?s.setInputTagWrap(r.target):s.setWrap(),void this.richTextInput();if(r.inputType==="deleteContentBackward"){this.takeIMEModel=!0,r.preventDefault();const a=e.richText.innerHTML,l=window.getSelection(),c=l.focusNode,u=l.focusOffset,h=o?c.parentElement.parentElement.parentElement:c.parentElement.parentElement,d=h.parentElement,p=Array.prototype.indexOf.call(e.richText.children,d),f=Array.prototype.indexOf.call(d.children,h);this.target.nextTick(()=>{e.richText.innerHTML=a;const v=e.richText.children[p].children[f],E=o?v.children[0].children[0].childNodes[0]:v.children[0].childNodes[0];o?(s.setInputTagRange(E,u),s.backRuleInputTag(E.parentElement)||(E.textContent=E.textContent.slice(0,u-1)+E.textContent.slice(u),s.setInputTagRange(E,u-1)),s.watchInputTag(E.parentElement)):(s.restCursorPos(E,u),s.selectRegionMerge()||s.gridElmMerge()||s.delMarkRule()||(E.textContent=E.textContent.slice(0,u-1)+E.textContent.slice(u),s.restCursorPos(E,u-1))),this.target.nextTick(async()=>{await this.richTextInput(),this.takeIMEModel=!1,this.isIMEModel=!1})})}}}),e.richText.addEventListener("input",async r=>{const o=r.target.classList.contains("input-write");if(this.isIMEModel){if(this.takeIMEModel)return;await this.target.nextTick(()=>{o&&s.watchInputTag(r.target),n.maxLength!==-1&&this.ruleMaxLength(),e.showPlaceholder(),this.triggerChatEvent("operate"),this.isIMEModel=!1})}else{if(o)return s.watchInputTag(r.target),void await this.richTextInput();await this.richTextInput(),i.isPc&&!this.isComposition&&this.debounceEvents.matchPointDialog()}}),e.richText.addEventListener("copy",r=>{r.preventDefault(),this.ruleChatEvent(()=>{this.copyRange(r)},"defaultAction","COPY")}),e.richText.addEventListener("cut",r=>{r.preventDefault(),this.ruleChatEvent(()=>{this.copyRange(r),this.removeRange(),r.target.classList.contains("input-write")&&this.target.chatInput.watchInputTag(r.target)},"defaultAction","CUT")}),e.richText.addEventListener("paste",r=>{r.preventDefault();const{options:o,chatInput:a}=this.target;this.ruleChatEvent(()=>{const l=r.clipboardData.getData("text/plain");if(typeof l=="string"&&l!==""){if(o.copyType.indexOf("text")===-1)return;if(r.target.classList.contains("input-write"))return a.pasteInputTag(l),void this.richTextInput();let c=document.createElement("div");c.innerHTML=r.clipboardData.getData("application/my-custom-format")||"",a.selectRegionMerge(),c.children[0]&&c.children[0].getAttribute("data-set-richType")===Re?this.insertInsideHtml(c.innerHTML):(c.innerHTML=l,this.target.insertText(c.innerText)),c=null}else{if(o.copyType.indexOf("image")===-1)return;const c=(r.clipboardData||r.originalEvent.clipboardData).items||[];Array.from(c,async u=>{if(u.type.indexOf("image")===-1)return;const h=u.getAsFile();if(o.uploadImage){const d=await o.uploadImage(h);this.target.insertHtml(`<img class="chat-img" src="${d}" alt="" />`)}else{const d=new FileReader;d.onload=p=>{this.target.insertHtml(`<img class="chat-img" src="${p.target.result}" alt="" />`)},d.readAsDataURL(h)}})}},"defaultAction","PASTE")}),e.richText.addEventListener("blur",()=>{s.upDataNodeOrIndex()}),e.richText.addEventListener("focus",()=>{s.upDataNodeOrIndex()}),e.richText.addEventListener("click",r=>{s.upDataNodeOrIndex();const o=vs(r.target,5);if(o){const a=o.children[0];if(a.classList.contains("chat-grid-input"))return void this.triggerChatEvent("elementClicked","gridInput",a);if(a.classList.contains("at-input"))return a.children[0].textContent===s.VOID_KEY&&s.rangeToInputTag(a),void this.triggerChatEvent("elementClicked","inputTag",a);if(a.classList.contains("at-select")){const l=a.getAttribute("data-select-key");return this.triggerChatEvent("showSelectDialog",l,a),n.needDialog&&this.target.showPCSelectDialog(l,a),void this.triggerChatEvent("elementClicked","selectTag",a)}if(a.classList.contains("at-user"))return void this.triggerChatEvent("elementClicked","userTag",a);if(a.classList.contains("at-tag"))return void this.triggerChatEvent("elementClicked","customTag",a);if(a.classList.contains("chat-set-html"))return void this.triggerChatEvent("elementClicked","htmlTag",a.children[0])}}),e.richText.addEventListener("dragstart",r=>{r.stopPropagation(),r.preventDefault()}),e.richText.addEventListener("dragover",r=>{r.stopPropagation(),r.preventDefault()}),e.richText.addEventListener("drop",r=>{r.stopPropagation(),r.preventDefault()}),e.richText.addEventListener("compositionstart",()=>{this.isComposition=!0}),e.richText.addEventListener("compositionend",()=>{this.isComposition=!1}),window.addEventListener("click",this.winClick.bind(this)),window.addEventListener("keydown",this.winKeydown.bind(this))}otherEvent(){const{options:e,chatInput:n,chatElement:i}=this.target,{needDebounce:s}=e,r=()=>{const{gridIndex:u,markIndex:h}=n.getRichTextNodeIndex(n.vnode);if(u===null||h==null)return;const d={html:i.richText.innerHTML,gridIndex:u,markIndex:h,cursorIndex:n.cursorIndex};this.undoHistory.push(d),this.undoHistory.length>50&&this.undoHistory.shift()};this.debounceEvents.recordHistory=s?ft(r,200):r;const o=u=>{let h="0",d="100%";const p=n.getRangeRect();if(!p)return;const f=i.pcElms.containerDialogElm.getBoundingClientRect();let v=p.x-f.x,E=f.y-p.y;const{clientWidth:_,clientHeight:C}=u;p.x>window.innerWidth-_-30&&(v=p.x-_-f.x-16,h="100%"),p.y<C&&(E-=C,d="0"),u.style.transform="translate(0, 0)",u.style.transformOrigin=`${h} ${d}`,u.style.left=v+6+"px",u.style.bottom=`${E}px`,u.style.opacity="1"};this.debounceEvents.dialogMoveToRange=s?ft(o,120,!0):o;const a=()=>{if(!e.needDialog)return;const u=n.vnode.textContent||"",h=n.cursorIndex,d=u.slice(0,h);let p=-1,f=-1,v="userTag";if(d.lastIndexOf("@")!==-1&&(p=d.lastIndexOf("@")),i.pcElms.customTagDialogTagKey&&d.lastIndexOf(i.pcElms.customTagDialogTagKey)!==-1&&(f=d.lastIndexOf(i.pcElms.customTagDialogTagKey)),f>p&&(v="customTag"),v==="userTag"&&e.asyncMatch){if(p<0)return void i.exitPointDialog();this.matchKey++;const m=this.matchKey;this.startOpenIndex=p+1;const k=d.slice(this.startOpenIndex)||"";if(/\s/gi.test(k))return void i.exitPointDialog();this.target.updateUserList([]),M(i.pcElms.pointDialogLoadingElm,!0,"flex"),M(i.pcElms.pointDialogEmptyElm),i.showPointDialog();const y=this.triggerChatEvent("atMatch",k).find(x=>x&&x instanceof Promise);return void(y&&y.then(x=>{m===this.matchKey&&(M(i.pcElms.pointDialogLoadingElm),!x||x.length<=0?M(i.pcElms.pointDialogEmptyElm,!0,"flex"):(this.target.updateUserList(x),i.pcElms.pointDialogUsersElm&&i.pcElms.pointDialogUsersElm.length>0&&i.updatePointActiveUserElm(i.pcElms.pointDialogUsersElm[0].elm)))}))}if(v==="userTag"&&e.reformList.length<=0)return void i.exitCustomTagDialog();if(v==="customTag"&&i.customTags[i.pcElms.customTagDialogTagKey].length<=0)return;const E=()=>{v==="userTag"?i.exitPointDialog():i.exitCustomTagDialog()};if(p<0&&f<0)return i.exitPointDialog(),void i.exitCustomTagDialog();this.startOpenIndex=v==="userTag"?p+1:f+1;const _=new RegExp(`^([${n.ZERO_WIDTH_KEY}${n.VOID_KEY}])+$`);if(!d||_.test(d)||h<this.startOpenIndex)return void E();const C=d.slice(this.startOpenIndex)||"";if(/\s/gi.test(C))E();else if(C)if(v==="userTag"){const m=this.target.searchUserList(C);m.length>0?i.showPointDialog(m):E()}else{const m=i.customTags[i.pcElms.customTagDialogTagKey].filter(k=>fi(k.name,k.pinyin||"",C));m.length>0?i.showCustomTagDialog(i.pcElms.customTagDialogTagKey,m):E()}else v==="userTag"?i.showPointDialog():i.showCustomTagDialog(i.pcElms.customTagDialogTagKey)};this.debounceEvents.matchPointDialog=s?ft(a,200):a,this.debounceEvents.movePointActiveUserElm=mr(u=>{if(!i.pcElms.pointDialogActiveElm)return;let h=0;const d=i.pcElms.pointDialogActiveElm.getAttribute("data-set-id");i.pcElms.pointDialogUsersElm.some(E=>{const _=E.elm.getAttribute("data-set-id");return h=E.index,d===_});const p=i.pcElms.pointDialogUsersElm.filter(E=>!E.elm.classList.contains("user-no-match")),f=p.map(E=>E.index);let v;u==="down"?v=h===p[p.length-1].index?p[0]:p[f.indexOf(h)+1]:u==="up"&&(v=h===p[0].index?p[p.length-1]:p[f.indexOf(h)-1]),v&&i.updatePointActiveUserElm(v.elm,!0)},80),this.debounceEvents.moveCustomActiveTagElm=mr(u=>{if(!i.pcElms.customTagDialogActiveElm)return;const h=i.customTags[i.pcElms.customTagDialogTagKey].map(_=>_.id),d=i.pcElms.customTagDialogActiveElm.getAttribute("data-set-id"),p=h.indexOf(d),f=Array.from(i.pcElms.customTagDialogElms[i.pcElms.customTagDialogTagKey].children[1].children,(_,C)=>({elm:_,index:C})).filter(_=>!_.elm.classList.contains("tag-no-match")),v=f.map(_=>_.index);let E;u==="down"?E=p===f[f.length-1].index?f[0]:f[v.indexOf(p)+1]:u==="up"&&(E=p===f[0].index?f[f.length-1]:f[v.indexOf(p)-1]),E&&i.updateActiveCustomTagElm(E.elm,!0)},80);const l=()=>{const u=i.pcElms.selectDialogAim.getClientRects()[0],h=i.pcElms.selectDialogElms[i.pcElms.selectDialogKey];M(h,!0);const d=h.querySelector(".chat-select-arrow");let p=h.clientHeight+16;if(p>u.y?(p=-(u.height+16),d.style.top="-16px",d.style.bottom="auto",d.style.transform="rotate(0deg)"):(d.style.transform="rotate(180deg)",d.style.bottom="-16px",d.style.top="auto"),window.innerWidth-u.x<h.clientWidth){const m=h.clientWidth-(window.innerWidth-u.x)-10;h.style.left="auto",h.style.right="10px",d.style.left="auto",d.style.right=m-d.clientWidth/2+u.width/2+"px"}else h.style.left=u.x+"px",h.style.right="auto",d.style.left=u.width/2-d.clientWidth/2+"px",d.style.right="auto";h.style.top=u.y+"px",h.style.transform=`translateY(${-p}px)`;const f=h.querySelector(".chat-select-dialog-main"),v=h.querySelectorAll(".chat-select-dialog-item");let E=0,_=!1,C=0;if(i.pcElms.selectDialogAim.classList.contains("at-select")){const m=i.pcElms.selectDialogAim.getAttribute("data-select-id");R(i.pcElms.selectDialogAim,"aim",!0),Array.from(v,y=>{const x=y.lastChild.lastChild,S=m===y.getAttribute("data-set-id");S&&(C=y.clientHeight,_=!0),S||_||(E+=y.clientHeight),M(x,S,"inline-block")});const k=E-f.clientHeight/2+C/2;f.scrollTop=k>0?k:0}else Array.from(v,m=>{M(m.lastChild.lastChild,!1,"inline-block")})};this.debounceEvents.selectDialogToAim=s?ft(l,120):l;const c={html:i.richText.innerHTML,gridIndex:0,markIndex:0,cursorIndex:n.cursorIndex};this.undoHistory=[c]}winClick(){if(!this.target||this.outerApply)return;const{chatElement:e}=this.target;nt(e.pcElms.pointDialogElm)&&e.exitPointDialog(),e.pcElms.checkDialogSearchResultElm&&M(e.pcElms.checkDialogSearchResultElm),e.pcElms.customTagDialogTagKey&&nt(e.pcElms.customTagDialogElms[e.pcElms.customTagDialogTagKey])&&e.exitCustomTagDialog(),e.pcElms.selectDialogKey&&nt(e.pcElms.selectDialogElms[e.pcElms.selectDialogKey])&&e.exitSelectDialog()}async winKeydown(e){if(!this.target)return;const{chatElement:n,options:i}=this.target;if(e.ctrlKey&&e.code==="KeyZ"&&e.preventDefault(),!this.isComposition){if(nt(n.pcElms.pointDialogElm)){if(e.code==="ArrowDown")return e.preventDefault(),void this.debounceEvents.movePointActiveUserElm("down");if(e.code==="ArrowUp")return e.preventDefault(),void this.debounceEvents.movePointActiveUserElm("up");if((e.code==="Enter"||e.code==="NumpadEnter")&&n.pcElms.pointDialogActiveElm){e.preventDefault();const s=n.pcElms.pointDialogActiveElm.getAttribute("data-set-id");if(await mt(100),n.isPointSearchMode||i.asyncMatch)await this.target.matchSetTag(i.reformList.find(r=>r.id===s));else{const r=i.userList.find(o=>String(o[i.userProps.id])===s);await this.target.onceSetTag(r)}n.exitPointDialog()}}else if(n.pcElms.customTagDialogTagKey&&nt(n.pcElms.customTagDialogElms[n.pcElms.customTagDialogTagKey])){if(e.code==="ArrowDown")return e.preventDefault(),void this.debounceEvents.moveCustomActiveTagElm("down");if(e.code==="ArrowUp")return e.preventDefault(),void this.debounceEvents.moveCustomActiveTagElm("up");if((e.code==="Enter"||e.code==="NumpadEnter")&&n.pcElms.customTagDialogActiveElm){e.preventDefault();const s=n.pcElms.customTagDialogActiveElm.getAttribute("data-set-id");await mt(100);const r=n.customTags[n.pcElms.customTagDialogTagKey].find(o=>o.id===s);n.isPointSearchMode?await this.target.matchSetCustomTag(r):await this.target.onceSetCustomTag(r),n.exitCustomTagDialog()}}}}async richTextInput(e=!0){const{chatInput:n,deviceInfo:i,chatElement:s,options:r}=this.target;return n.upDataNodeOrIndex(),i.isPc&&n.selectRegionMerge(),await this.target.nextTick(()=>{this.isComposition||n.updateGrid();const o=(s.richText.children[0]||{children:[]}).children[0];if(!o||!o.getAttribute||o.getAttribute("data-set-richType")!==Y)return n.initEditor(!0),s.showPlaceholder(),void this.triggerChatEvent("operate");r.maxLength!==-1&&this.ruleMaxLength(),s.showPlaceholder(),this.triggerChatEvent("operate"),e&&this.doOverHistory&&!this.isComposition&&this.debounceEvents.recordHistory(),n.viewIntoPoint()}),!0}ruleMaxLength(){const{options:e,chatElement:n}=this.target;if(this.target.isEmpty()||e.maxLength===-1)return void(this.textLength=0);let i=0,s=0;const r=[];Array.prototype.some.call(n.richText.children,(a,l)=>{const{nodeInfos:c,nodeTextLength:u}=this.getGirdNodeTextInfo(a);if(i+=u,r.push(c),s=l,i>=e.maxLength)return!0});const o=[];Array.from(n.richText.children,(a,l)=>{l>s&&o.push(a)}),o.forEach(a=>n.richText.removeChild(a)),this.deepDelGirdText(r,i)}getGirdNodeTextInfo(e){const{chatInput:n}=this.target,i=[];let s=0;if(e.children.length===1&&e!==e.parentElement.children[0]){const r=e.children[0],o=(r.textContent||"").replace(new RegExp(n.VOID_KEY,"g"),"");s+=o.length||1,i[0]={node:r,textLength:o.length||1,type:Y}}else Array.from(e.children,(r,o)=>{if(r.getAttribute("data-set-richType")===Y){const a=(r.textContent||"").replace(new RegExp(n.VOID_KEY,"g"),"");s+=a.length,i[o]={node:r,textLength:a.length,type:Y}}else{const a=(r.textContent||"").replace(new RegExp(n.VOID_KEY,"g"),"");s+=a.length||1,i[o]={node:r,textLength:a.length||1,type:pe}}});return{nodeInfos:i,nodeTextLength:s}}deepDelGirdText(e,n){if(n>this.target.options.maxLength){const i=e[e.length-1];e.pop(),this.deepDelNode(i,e,n)}else this.textLength=n}deepDelNode(e,n,i){const s=e[0].node.parentElement;if(i>this.target.options.maxLength){let r=i-this.target.options.maxLength,o=e[e.length-1];if(o.type===Y)if(o.textLength===0||r>=o.textLength)s.removeChild(o.node),e.pop(),r-=o.textLength,o=e[e.length-1],s.removeChild(o.node),e.pop(),r-=o.textLength;else{const a=o.node.childNodes[0];a.textContent=a.textContent.slice(0,o.textLength-r),a.textContent===0&&(a.setAttribute("data-set-empty","true"),a.innerHTML=`${this.target.chatInput.VOID_KEY}<br>`),r=0}else s.removeChild(o.node),e.pop(),r-=o.textLength;r>0?e.length>0?this.deepDelNode(e,n,r+this.target.options.maxLength):(this.target.chatElement.richText.appendChild(s),this.deepDelGirdText(n,r+this.target.options.maxLength)):(this.textLength=this.target.options.maxLength+r,this.target.chatInput.setRangeLastText())}}copyRange(e){const n=window.getSelection();if(n.isCollapsed||n.rangeCount<=0)return e.clipboardData.setData("application/my-custom-format",""),void e.clipboardData.setData("text/plain","");const{chatElement:i,chatInput:s}=this.target,r=n.toString()||"";let o=document.createElement("div");o.innerHTML=r;const a=o.innerText.replace(/\n\n/g,`
`);o=null,e.clipboardData.setData("text/plain",a);const l=n.anchorNode,c=n.focusNode;if(l===c&&l.nodeType===Node.TEXT_NODE)return void e.clipboardData.setData("application/my-custom-format",a);if(l===i.richText&&c===i.richText)return void e.clipboardData.setData("application/my-custom-format",i.richText.innerHTML);const u=s.getWrapNode(l,!0),h=s.getWrapNode(c,!0),d=s.getMarkNode(l,!0),p=s.getMarkNode(c,!0),f=d.getAttribute("data-set-richType")===Y,v=p.getAttribute("data-set-richType")===Y,E=Array.prototype.indexOf.call(u.childNodes,d),_=Array.prototype.indexOf.call(h.childNodes,p);if(u===h&&u.parentNode===i.richText){const C=E>_,m=Array.prototype.filter.call(u.childNodes,(V,O)=>C?O<E&&O>_:O>E&&O<_).map(V=>V.cloneNode(!0)),k=f?C?l.textContent.slice(0,n.anchorOffset):l.textContent.slice(n.anchorOffset):"",y=v?C?c.textContent.slice(n.focusOffset):c.textContent.slice(0,n.focusOffset):"",x=s.getGridElm(!0),S=s.getGridElm(!0);k&&(x.childNodes[0].innerHTML=k,x.childNodes[0].setAttribute("data-set-empty","false")),y&&(S.childNodes[0].innerHTML=y,S.childNodes[0].setAttribute("data-set-empty","false")),C?(m[0].getAttribute("data-set-richType")!==Y&&m.unshift(S),m[m.length-1].getAttribute("data-set-richType")!==Y&&m.push(x)):(m[0].getAttribute("data-set-richType")!==Y&&m.unshift(x),m[m.length-1].getAttribute("data-set-richType")!==Y&&m.push(S));let I=document.createElement("div");const w=s.setWrapNodeByMark(m);return I.appendChild(w),e.clipboardData.setData("application/my-custom-format",I.innerHTML),void(I=null)}if(u.parentNode===i.richText&&h.parentNode===i.richText){const C=Array.prototype.indexOf.call(i.richText.childNodes,u),m=Array.prototype.indexOf.call(i.richText.childNodes,h),k=C>m,y=Array.prototype.filter.call(i.richText.childNodes,(ee,J)=>k?J<C&&J>m:J>C&&J<m).map(ee=>ee.cloneNode(!0)),x=f?k?l.textContent.slice(0,n.anchorOffset):l.textContent.slice(n.anchorOffset):"",S=v?k?c.textContent.slice(n.focusOffset):c.textContent.slice(0,n.focusOffset):"",I=s.getGridElm(!0),w=s.getGridElm(!0);x&&(I.childNodes[0].innerHTML=x,I.childNodes[0].setAttribute("data-set-empty","false")),S&&(w.childNodes[0].innerHTML=S,w.childNodes[0].setAttribute("data-set-empty","false"));const V=Array.prototype.filter.call(u.childNodes,(ee,J)=>k?J<E:J>E).map(ee=>ee.cloneNode(!0)),O=Array.prototype.filter.call(h.childNodes,(ee,J)=>k?J>_:J<_).map(ee=>ee.cloneNode(!0));if(k){V.push(I),O.unshift(w);const ee=s.setWrapNodeByMark(V),J=s.setWrapNodeByMark(O);y.push(ee),y.unshift(J)}else{V.unshift(I),O.push(w);const ee=s.setWrapNodeByMark(V),J=s.setWrapNodeByMark(O);y.unshift(ee),y.push(J)}let _e=document.createElement("div");return Array.from(y,ee=>{_e.appendChild(ee)}),e.clipboardData.setData("application/my-custom-format",_e.innerHTML),void(_e=null)}}removeRange(){const{chatInput:e,chatElement:n}=this.target;window.getSelection().getRangeAt(0).deleteContents(),this.target.nextTick(()=>{e.updateGrid(),n.showPlaceholder()})}async setChatHistory(e){const{chatElement:n,chatInput:i}=this.target;this.doOverHistory=!1;const{html:s,gridIndex:r,markIndex:o,cursorIndex:a}=e;n.richText.innerHTML=s;const l=n.richText.childNodes[r].childNodes[o].childNodes[0].childNodes[0];i.restCursorPos(l,a),await this.richTextInput(),this.doOverHistory=!0}async insertInsideHtml(e){const{chatInput:n}=this.target;let i=document.createElement("div");i.innerHTML=e,i.children.length&&(i.children.length===1?n.insetRangeGrid(i.children[0]):n.insetRangeGrids(i.children),i=null,await this.richTextInput())}triggerChatEvent(e,...n){const i=[];return this.chatEventModule[e].forEach(s=>{s&&i.push(s(...n))}),i}ruleChatEvent(e,n,...i){this.triggerChatEvent(n,...i).some(s=>s&&s==="PREVENT")||(e&&e.bind(this)(),e=null)}}class Bu{constructor(e){P(this,"target"),P(this,"rankLen",4),this.target=e}getCurrentNodes(){const e=[];return Array.from(this.target.chatElement.richText.children,(n,i)=>{e.push(this.analyzeGrid(n,i))}),e}getRank(e){let n=e+1+"";const i=this.rankLen-n.length;for(let s=0;s<i;s++)n="0"+n;return n}analyzeGrid(e,n){const i={type:"gridBox",rank:this.getRank(n),children:[]};return Array.from(e.children,(s,r)=>{switch(s.getAttribute("data-set-richType")){case Y:i.children.push(this.analyzeMark(s,r,i.rank));break;case pe:i.children.push(this.analyzeTag(s,r,i.rank))}}),i}analyzeMark(e,n,i){return{type:"gridInput",rank:i+this.getRank(n),text:e.textContent.replace(new RegExp(this.target.chatInput.VOID_KEY,"g"),"")}}analyzeTag(e,n,i){const s=e.children[0],r={type:"htmlTag",rank:i+this.getRank(n)};return s.classList.contains("at-user")?(r.type="userTag",r.dataset={[this.target.options.userProps.id]:s.getAttribute("data-user-id"),[this.target.options.userProps.name]:s.textContent.slice(1)}):s.classList.contains("at-tag")?(r.type="customTag",r.dataset={id:s.getAttribute("data-tag-id"),name:s.textContent.slice(1),prefix:s.getAttribute("data-set-prefix")}):s.classList.contains("at-select")?(r.type="selectTag",r.dataset={id:s.getAttribute("data-select-id"),name:s.textContent,key:s.getAttribute("data-select-key")}):s.classList.contains("at-input")?(r.type="inputTag",r.dataset={key:s.getAttribute("data-input-key"),placeholder:s.children[1].textContent,value:s.children[0].textContent===this.target.chatInput.VOID_KEY?"":s.children[0].textContent.replace(new RegExp(this.target.chatInput.INPUT_TAG_WRAP_KEY[0],"g"),"")}):(r.type="htmlTag",r.html=e.children[0].innerHTML),r}analyzeGridNodes(e){e.children=e.children||[];const n=e.children;if(n.length===0)return void n.push({type:"gridInput",rank:e.rank+this.getRank(0),text:""});const i=[];n.forEach((r,o)=>{if(o===n.length-1)return;const a=o+1;if(r.type==="gridInput"&&n[a].type==="gridInput"){let l=a-i.length;i.push(l)}}),i.forEach(r=>{const o=n[r];n[r-1].text+=o.text,n.splice(r,1)});const s=[];n.forEach((r,o)=>{if(o===n.length-1)return;const a=o+1;if(r.type!=="gridInput"&&n[a].type!=="gridInput"){let l=a+s.length;s.push(l)}}),s.forEach(r=>{n.splice(r,0,{type:"gridInput",rank:"",text:""})}),n[0].type!=="gridInput"&&n.unshift({type:"gridInput",rank:"",text:""}),n[n.length-1].type!=="gridInput"&&n.push({type:"gridInput",rank:"",text:""}),n.forEach((r,o)=>{r.rank=e.rank+this.getRank(o)})}analyzeNode(e,n=!1){switch(e.type){case"gridInput":return`<span data-set-richType="${Y}"><span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="${String(e.text==="")}">${e.text===""?this.target.chatInput.VOID_KEY:e.text}${n&&e.text===""?"<br>":""}</span></span>`;case"userTag":return`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="at-user" data-user-id="${e.dataset[this.target.options.userProps.id]}">@${e.dataset[this.target.options.userProps.name]}</span></span>`;case"customTag":return`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="at-tag" data-tag-id="${e.dataset.id}" data-set-prefix="${e.dataset.prefix}">${e.dataset.prefix}${e.dataset.name}</span></span>`;case"selectTag":return`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="at-select" data-select-id="${e.dataset.id}" data-select-key="${e.dataset.key}">${e.dataset.name}${Zn}</span></span>`;case"htmlTag":return`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="chat-set-html">${e.html}</span></span>`;case"inputTag":const i=!e.dataset.value,s=i?`<span class="input-tip">${e.dataset.placeholder}</span>`:`<span class="input-tip chat-view-show" style="display: none">${e.dataset.placeholder}</span>`;return`<span class="chat-tag" contenteditable="false" data-set-richType="${pe}"><span class="at-input" contenteditable="false" data-input-key="${e.dataset.key}"><span class="input-write" contenteditable="true">${i?this.target.chatInput.VOID_KEY:e.dataset.value.replace(new RegExp(this.target.chatInput.INPUT_TAG_WRAP_KEY[1],"g"),this.target.chatInput.INPUT_TAG_WRAP_KEY)}</span>${s}</span></span>`;case"gridBox":let r="";return this.analyzeGridNodes(e),e.children.forEach((o,a)=>{r+=this.analyzeNode(o,a===e.children.length-1)}),`<p class="chat-grid-wrap" data-set-richType="${Re}">${r}</p>`;default:return""}}async insertNode(e){if(e.type==="gridBox"){const n=this.analyzeNode(e);let i=document.createElement("div");i.innerHTML=n;const s=i.children[0],r=parseFloat(e.rank)-1;if(r===-1||r>this.target.chatElement.richText.children.length-1)this.target.chatElement.richText.appendChild(s);else{const a=this.target.chatElement.richText.children[r];if(!a)return;this.target.chatElement.richText.insertBefore(s,a)}const o=s.lastElementChild.children[0].childNodes[0];this.target.chatInput.restCursorPos(o,o.textContent===this.target.chatInput.VOID_KEY?1:o.textContent.length),i=null,await this.target.chatEvent.richTextInput()}else{const n=(e.text||"").length,i=e.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),s=this.getNodeByRank(i[0]);if(!s)return;const r=parseFloat(i[1])-1;r==-1?s.children.push(e):s.children.splice(r,0,e),await this.updateNode(s,()=>{if(e.type==="gridInput"){const o=r===-1||r>s.children.length-1,a=!o&&r%2==0,l=o?s.children[s.children.length-1]:s.children[a?r:r-1];this.setCursorNode(l,a?n:-1)}else{const o=s.children.indexOf(e);this.setCursorNode(s.children[o+1],0)}})}}async updateNode(e,n){const i=e.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),s=parseFloat(i[0])-1,r=this.target.chatElement.richText.children[s];if(e.type==="gridBox"){if(!r)return;this.analyzeGridNodes(e);let h="";if(e.children.forEach((d,p)=>{h+=this.analyzeNode(d,p===e.children.length-1)}),r.innerHTML=h,n)n();else{const d=r.lastElementChild.children[0].childNodes[0];this.target.chatInput.restCursorPos(d,d.textContent===this.target.chatInput.VOID_KEY?1:d.textContent.length)}return void await this.target.chatEvent.richTextInput()}const o=parseFloat(i[1])-1,a=r.children[o],l=this.getNodeByRank(e.rank);if(!l||e.type!==l.type)return;let c,u;if(e.type==="gridInput"){const h=a.children[0];h.textContent=e.text;const d=h.textContent!=="";h.setAttribute("data-set-empty",String(!d)),d||(h.innerHTML=a.nextElementSibling?this.target.chatInput.VOID_KEY:`${this.target.chatInput.VOID_KEY}<br>`),c=h.childNodes[0],u=c.textContent.length}else if(e.type==="userTag"){const h=a.children[0];h.setAttribute("data-user-id",e.dataset[this.target.options.userProps.id]),h.textContent=`@${e.dataset[this.target.options.userProps.name]}`,c=a.nextElementSibling.children[0].childNodes[0]}else if(e.type==="customTag"){const h=a.children[0];h.setAttribute("data-tag-id",e.dataset.id),h.setAttribute("data-set-prefix",e.dataset.prefix),h.textContent=`${e.dataset.prefix}${e.dataset.name}`,c=a.nextElementSibling.children[0].childNodes[0]}else if(e.type==="selectTag"){const h=a.children[0];h.setAttribute("data-select-id",e.dataset.id),h.setAttribute("data-select-key",e.dataset.key),h.childNodes[0].textContent=e.dataset.name,c=a.nextElementSibling.children[0].childNodes[0]}else e.type==="htmlTag"&&(a.children[0].innerHTML=e.html,c=a.nextElementSibling.children[0].childNodes[0]);n?n():this.target.chatInput.restCursorPos(c,u),await this.target.chatEvent.richTextInput()}getNodeByRank(e){if(!e)return null;const n=e.match(new RegExp(`.{1,${this.rankLen}}`,"g"));if(n.length===0)return null;const i=parseFloat(n[0])-1,s=i===-1?this.target.chatElement.richText.lastElementChild:this.target.chatElement.richText.children[i];if(!s)return null;if(n.length===1)return this.analyzeGrid(s,i===-1?this.target.chatElement.richText.children.length-1:i);i===-1&&(n[0]=this.getRank(this.target.chatElement.richText.children.length-1));const r=parseFloat(n[1])-1,o=r===-1?s.lastElementChild:s.children[r];return o?o.getAttribute("data-set-richType")===Y?this.analyzeMark(o,r===-1?s.children.length-1:r,n[0]):this.analyzeTag(o,r===-1?s.children.length-1:r,n[0]):null}async delNodeByRank(e){const n=this.getNodeByRank(e);if(n)if(n.type==="gridBox"){const i=parseFloat(e)-1,s=this.target.chatElement.richText.children[i],r=s.nextElementSibling||s.previousElementSibling;if(r){const o=r.lastElementChild.children[0].childNodes[0];this.target.chatInput.restCursorPos(o,o.textContent===this.target.chatInput.VOID_KEY?1:o.textContent.length)}this.target.chatElement.richText.removeChild(s),this.target.chatElement.richText.children.length===0&&this.target.chatInput.initEditor(!0),await this.target.chatEvent.richTextInput()}else if(n.type==="gridInput")n.text="",await this.updateNode(n);else{const i=n.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),s=this.getNodeByRank(i[0]),r=s.children[parseFloat(i[1])-1-1],o=r.text.length;s.children=s.children.filter(a=>a.rank!==e),await this.updateNode(s,()=>{this.setCursorNode(r,o)})}}async coverNodes(e){if(e.length<0)return;let n="";e.forEach(i=>{n+=this.analyzeNode(i)}),this.target.chatElement.richText.innerHTML=n,this.target.chatInput.setRangeLastText(),await this.target.chatEvent.richTextInput()}setCursorNode(e,n=-1){const i=e.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),s=parseFloat(i[0])-1,r=s===-1?this.target.chatElement.richText.lastElementChild:this.target.chatElement.richText.children[s];let o=null;if(e.type==="gridInput"){const a=parseFloat(i[1])-1;o=a===-1?r.lastElementChild:r.children[a]}else if(e.type==="gridBox")o=n===-1?r.lastElementChild:r.children[0];else if(e.type==="inputTag"){const a=parseFloat(i[1])-1,l=r.children[a].children[0].children[0].childNodes[0],c=l.textContent===this.target.chatInput.VOID_KEY?1:n===-1?l.textContent.length:n;this.target.chatInput.setInputTagRange(l,c)}else{const a=parseFloat(i[1])-1,l=r.children[a];o=n===-1?l.nextElementSibling:l.previousElementSibling,n=n===-1?0:-1}if(o){const a=o.children[0].childNodes[0];n===-1&&(n=a.textContent.length),this.target.chatInput.restCursorPos(a,a.textContent===this.target.chatInput.VOID_KEY?1:n)}}getCursorNode(){const e=window.getSelection(),n=e.focusNode;if(n&&n.parentElement&&n.parentElement.classList.contains("input-write")){const s=n.parentElement.parentElement.parentElement;return{node:this.analyzeTag(s,Array.prototype.indexOf.call(s.parentElement.children,s),this.getRank(Array.prototype.indexOf.call(this.target.chatElement.richText.children,s.parentElement))),offset:n.textContent===this.target.chatInput.VOID_KEY?0:e.focusOffset}}const i=this.target.chatInput.vnode.parentElement.parentElement;return{node:this.analyzeMark(i,Array.prototype.indexOf.call(i.parentElement.children,i),this.getRank(Array.prototype.indexOf.call(this.target.chatElement.richText.children,i.parentElement))),offset:this.target.chatInput.vnode.textContent===this.target.chatInput.VOID_KEY?0:this.target.chatInput.cursorIndex}}setSelectNodes(e,n,i=0,s=-1){let r,o;const a=e.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),l=n.rank.match(new RegExp(`.{1,${this.rankLen}}`,"g")),c=this.target.chatElement.richText.children[parseFloat(a[0])-1],u=this.target.chatElement.richText.children[parseFloat(l[0])-1];if(e.type==="gridInput")r=c.children[parseFloat(a[1])-1];else if(e.type==="gridBox")r=i===-1?c.lastElementChild:c.children[0];else{const E=parseFloat(a[1])-1,_=c.children[E];r=i===-1?_.nextElementSibling:_.previousElementSibling,i=i===-1?0:-1}if(n.type==="gridInput")o=u.children[parseFloat(l[1])-1];else if(e.type==="gridBox")o=s===-1?u.lastElementChild:u.children[0];else{const E=parseFloat(l[1])-1,_=u.children[E];o=s===-1?_.nextElementSibling:_.previousElementSibling,s=s===-1?0:-1}const h=r.children[0].childNodes[0],d=o.children[0].childNodes[0],p=document.createRange(),f=parseFloat(e.rank)>parseFloat(n.rank);p[f?"setEnd":"setStart"](h,h.textContent===this.target.chatInput.VOID_KEY?1:i===-1?h.textContent.length:i),p[f?"setStart":"setEnd"](d,d.textContent===this.target.chatInput.VOID_KEY?1:s===-1?d.textContent.length:s);const v=window.getSelection();v.removeAllRanges(),v.addRange(p)}getElmByRank(e){const n=e.match(new RegExp(`.{1,${this.rankLen}}`,"g")),i=parseFloat(n[0])-1,s=i===-1?this.target.chatElement.richText.lastElementChild:this.target.chatElement.richText.children[i];if(n.length===1)return s;const r=parseFloat(n[1])-1;return r===-1?s.lastElementChild:s.children[r]}getRankByElm(e){const n=this.target.chatElement.richText.children;let i=null,s=null;return Array.prototype.find.call(n,(r,o)=>e===r?(i=o,!0):Array.prototype.find.call(r.children,(a,l)=>a===e&&(i=o,s=l,!0))),(i!==null?this.getRank(i):"")+(s!==null?this.getRank(s):"")}}const Hn=function(t,e,n){return t.forEach(i=>{if(n in i){const s=e.indexOf(String(i[n]));s!==-1&&(e[s]=i)}}),e.filter(i=>i[n])};class ys{constructor(e){switch(P(this,"options"),P(this,"deviceInfo",Tu()),P(this,"chatElement"),P(this,"chatInput"),P(this,"chatEvent"),this.options=Object.assign({},Ru,e),this.options.device=this.options.device.toLocaleLowerCase(),this.deviceInfo.isTablet&&(this.deviceInfo.isPc=!1),this.options.device){case"pc":this.deviceInfo.isPc=!0;break;case"h5":this.deviceInfo.isPc=!1}this.options.userProps=Object.assign({},yr,e.userProps||{}),this.options.dialogLabels.pcPointDialog=Object.assign({},br,$n(e.dialogLabels,"pcPointDialog",{})),this.options.dialogLabels.pcPCheckDialog=Object.assign({},_r,$n(e.dialogLabels,"pcPCheckDialog",{})),this.options.dialogLabels.h5Dialog=Object.assign({},Cr,$n(e.dialogLabels,"h5Dialog",{})),this.chatElement=new Nu(this),this.chatInput=new Mu(this),this.chatEvent=new Ou(this),this.updateConfig(e);const n=this;Object.defineProperty(this,"richText",{get:()=>n.chatElement.richText}),Object.defineProperty(this,"textLength",{get:()=>n.chatEvent.textLength}),this.options.autoFocus&&this.nextTick(()=>{this.chatElement.richText.focus()})}updateConfig(e){e.copyType!==void 0&&(this.options.copyType=e.copyType),e.userProps&&(this.options.userProps=Object.assign({},yr,e.userProps)),e.uploadImage!==void 0&&(this.options.uploadImage=e.uploadImage),e.placeholder!==void 0&&(this.chatElement.placeholderElm.textContent=e.placeholder),e.maxLength!==void 0&&(this.options.maxLength=e.maxLength<=0?-1:e.maxLength,this.chatEvent.ruleMaxLength()),this.options.asyncMatch?(this.options.needCallEvery=!1,this.updateUserList([])):(e.needCallEvery!==void 0||e.userList)&&(this.options.needCallEvery=gr(e.needCallEvery===void 0?this.options.needCallEvery:e.needCallEvery),this.updateUserList(e.userList)),e.needCallSpace!==void 0&&this.chatInput.setCallSpace(gr(e.needCallSpace)),e.wrapKeyFun!==void 0&&(this.options.wrapKeyFun=e.wrapKeyFun),e.sendKeyFun!==void 0&&(this.options.sendKeyFun=e.sendKeyFun),this.options.needDialog&&e.customTrigger&&this.deviceInfo.isPc&&(this.options.customTrigger=e.customTrigger,this.chatElement.bindCustomTrigger()),this.options.needDialog&&e.selectList&&this.deviceInfo.isPc&&(this.options.selectList=e.selectList,this.chatElement.bindSelectList())}updateUserList(e=void 0){const{options:n,chatElement:i}=this;if(e){n.userList=JSON.parse(JSON.stringify(e));const r={[n.userProps.id]:"isALL",[n.userProps.name]:""};n.userList.unshift(r),n.reformList=e.map((o,a)=>{const l=o[n.userProps.id];if(!l&&l!==0)throw new Error(`配置项userList：下标第${a}项${n.userProps.id}值异常！`);return{id:String(l),name:String(o[n.userProps.name]||""),avatar:String(o[n.userProps.avatar]||""),pinyin:String(o[n.userProps.pinyin]||"")}})}const s=n.userList[0];s&&s[n.userProps.id]==="isALL"&&(s[n.userProps.name]=this.deviceInfo.isPc?n.dialogLabels.pcPointDialog.callEveryLabel:n.dialogLabels.h5Dialog.callEveryLabel),n.needDialog&&(this.deviceInfo.isPc?i.updatePCUser():i.updateH5User())}searchUserList(e){return this.options.reformList.filter(n=>fi(n.name,n.pinyin||"",e))}getReduceNode(e){const n=Object.assign({},Pu,e||{});n.saveTagData&&(n.needUserId=!0,n.needTagId=!0,n.needSelectId=!0);const i=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,s=this.chatElement.richText.cloneNode(!0).children||[],r=document.createElement("div");return n.wrapClassName&&(r.className=n.wrapClassName),Array.from(s,(o,a)=>{const l=document.createElement("p");Array.from(o.children,c=>{const u=c.children[0];this.chatInput.getNodeEmpty(u)||(u.removeAttribute("data-set-richType"),u.removeAttribute("contenteditable"),u.removeAttribute("data-set-empty"),n.needUserId||u.removeAttribute("data-user-id"),n.needTagId||(u.removeAttribute("data-set-prefix"),u.removeAttribute("data-tag-id")),n.needSelectId||(u.removeAttribute("data-select-id"),u.removeAttribute("data-select-key")),n.imgToText&&u.firstChild&&u.firstChild.tagName==="IMG"&&(u.classList.add("img-to-text"),u.innerHTML=`[${u.firstChild.getAttribute("data-img-text")||"you need set data-img-text"}]`),n.identifyLink&&u.classList.contains("chat-grid-input")&&(u.innerHTML=u.innerHTML.replace(i,h=>`<a class="chat-grid-link" href="${h}" target="_blank">${h}</a>`)),u.classList.contains("at-select")&&(u.classList.remove("aim"),u.removeChild(u.lastChild)),u.classList.contains("at-input")&&(n.saveTagData?u.setAttribute("data-input-tip",u.children[1].textContent):u.removeAttribute("data-input-key"),u.textContent=u.children[0].textContent!==this.chatInput.VOID_KEY?u.children[0].textContent:u.children[1].textContent,u.textContent=u.textContent.replace(new RegExp(this.chatInput.INPUT_TAG_WRAP_KEY[0],"g"),"")),l.appendChild(u))}),n.rowClassName&&(l.className=n.rowClassName),l.innerHTML||(l.innerHTML="<br>"),r.appendChild(l)}),r}getText(e){let n="";const i=this.getReduceNode(e);return Array.from(i.children,(s,r)=>{n=n+(r>0?`
`:"")+s.textContent}),n}getHtml(e){return this.getReduceNode(e).innerHTML}async reverseAnalysis(e,n){if(!e)return;const i=document.createElement("div");i.innerHTML=e;const s=i.children;Array.from(s,r=>{r.className="chat-grid-wrap",r.setAttribute("data-set-richType",Re);const o=r.children,a={},l=[];Array.from(o,(h,d)=>{if(h.className.indexOf("chat-grid-input")!==-1){const v=h.textContent||"";return h.className="",h.setAttribute("data-set-richType",Y),void(h.innerHTML=`<span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="false">${v}</span>`)}if(h.tagName&&h.tagName.toLocaleUpperCase()==="BR"){const v=this.chatInput.getGridElm(!0);return r.removeChild(h),void r.appendChild(v)}const p=h.cloneNode(!0);p.setAttribute("contenteditable","false");const f=document.createElement("span");f.className="chat-tag",f.setAttribute("contenteditable","false"),f.setAttribute("data-set-richType",pe),f.appendChild(p),a[d]=f,d!==o.length-1?o[d+1].className.indexOf("chat-grid-input")===-1&&l.push(d):l.push(d),d===0&&l.push(-1)});for(const h in a){const d=Number(h),p=a[h].lastChild;if(p.classList.contains("at-select"))p.innerHTML=`${p.textContent}${Zn}`;else if(p.classList.contains("at-input")){const f=p.textContent==="",v=f?`<span class="input-tip">${p.getAttribute("data-input-tip")}</span>`:`<span class="input-tip chat-view-hidden" style="display: none">${p.getAttribute("data-input-tip")}</span>`;p.innerHTML=`<span class="input-write" contenteditable="true">${f?this.chatInput.VOID_KEY:p.textContent.replace(new RegExp(this.chatInput.INPUT_TAG_WRAP_KEY[1],"g"),this.chatInput.INPUT_TAG_WRAP_KEY)}</span>${v}`,p.removeAttribute("data-input-tip")}d===o.length-1?(r.removeChild(o[d]),r.appendChild(a[h])):(r.insertBefore(a[h],o[d+1]),r.removeChild(o[d]))}const c=[],u=r.children;l.forEach(h=>{h===u.length-1?c.push("isEnd"):c.push(u[h+1])}),c.forEach(h=>{const d=this.chatInput.getGridElm(!0);if(h==="isEnd")r.appendChild(d);else{const p=d.children[0];p.childNodes.length>1&&p.removeChild(p.childNodes[1]),r.insertBefore(d,h)}})}),n?(this.chatInput.setRangeLastText(),await this.chatEvent.insertInsideHtml(i.innerHTML)):(this.chatElement.richText.innerHTML=i.innerHTML,this.chatInput.setRangeLastText(),await this.chatEvent.richTextInput())}async insertHtml(e){if(!e)return;const n=document.createElement("span");n.innerHTML=e,n.className="chat-set-html";const i=this.chatInput.createNewDom(n);return this.chatInput.replaceRegContent(i,!1),await this.chatEvent.richTextInput(),i}async insertText(e){if(!e)return;const n=new RegExp(`[${this.chatInput.ZERO_WIDTH_KEY}|${this.chatInput.VOID_KEY}]`,"ig"),i=e.replace(n,"");if(!i)return;const s=i.split(`
`);let r="";s.forEach(o=>{const a=o!=="";r+=`<p class="chat-grid-wrap" data-set-richType="${Re}"><span data-set-richType="${Y}"><span class="chat-grid-input" data-set-richType="${ye}" data-set-empty="${a?"false":"true"}">${a?o:this.chatInput.VOID_KEY+"<br>"}</span></span></p>`}),await this.chatEvent.insertInsideHtml(r)}getCallUserList(){const e=this.chatElement.richText.querySelectorAll(".at-user");if(e&&e.length>0){const n=Array.from(e,i=>i.dataset.userId);return Hn(this.options.userList,n,this.options.userProps.id)}return[]}getCallUserTagList(){const e=this.chatElement.richText.querySelectorAll(".at-user");if(e&&e.length>0){const n=[];return Array.from(e,i=>{n.some(s=>s[this.options.userProps.id]===i.dataset.userId)||n.push({[this.options.userProps.id]:i.dataset.userId,[this.options.userProps.name]:i.textContent.slice(1)})}),n}return[]}getCustomTagList(){const e=Object.keys(this.chatElement.customTags),n={},i=this.chatElement.richText.querySelectorAll(".at-tag");return e.forEach(s=>{let r=Array.prototype.filter.call(i,o=>o.getAttribute("data-set-prefix")===String(s)).map(o=>o.getAttribute("data-tag-id"));r=r.filter((o,a)=>r.indexOf(o)===a),n[s]=Hn(this.chatElement.customTags[s],r,"id")}),n}getSelectTagList(){const e=Object.keys(this.chatElement.selectTags),n={},i=this.chatElement.richText.querySelectorAll(".at-select");return e.forEach(s=>{let r=Array.prototype.filter.call(i,o=>o.getAttribute("data-select-key")===String(s)).map(o=>o.getAttribute("data-select-id"));r=r.filter((o,a)=>r.indexOf(o)===a),n[s]=Hn(this.chatElement.selectTags[s],r,"id")}),n}getInputTagList(){const e={},n=this.chatElement.richText.querySelectorAll(".at-input");return Array.from(n,i=>{const s=i.getAttribute("data-input-key"),r=i.children[0].textContent===this.chatInput.VOID_KEY?null:i.children[0].textContent;e[s]||(e[s]=[]),e[s].push(r)}),e}async clear(e){this.chatInput.initEditor(!0,e),this.clearHistory(),await this.chatEvent.richTextInput(!1)}isEmpty(e=!1){if((this.chatElement.richText.querySelectorAll(".chat-tag")||[]).length>0)return!1;const n=new RegExp(`^(${this.chatInput.ZERO_WIDTH_KEY}|<br>|${this.chatInput.VOID_KEY})+$`),i=this.chatElement.richText.querySelectorAll(".chat-grid-input")||[];return e?Array.prototype.every.call(i,s=>!s.innerHTML||!s.textContent||!s.textContent.trim()||n.test(s.innerHTML)):Array.prototype.every.call(i,s=>!s.innerHTML||!s.textContent||n.test(s.innerHTML))}dispose(){if(this.options.elm.removeChild(this.chatElement.richText),this.options.elm.removeChild(this.chatElement.placeholderElm),this.options.needDialog)if(this.deviceInfo.isPc){const e=this.chatElement.pcElms.containerDialogElm.parentElement;e&&e.removeChild(this.chatElement.pcElms.containerDialogElm)}else document.body.removeChild(this.chatElement.h5Elms.dialogElm)}showPCPointDialog(){this.options.needDialog&&(this.insertText("@"),this.options.asyncMatch&&M(this.chatElement.pcElms.pointDialogEmptyElm,!0,"flex"),this.chatEvent.outerApply=!0,this.chatElement.showPointDialog(),mt(50).then(()=>{this.chatEvent.outerApply=!1}))}showPCCheckDialog(){this.options.needDialog&&!this.options.asyncMatch&&(this.chatEvent.winClick(),this.chatElement.checkboxRows=[],M(this.chatElement.pcElms.checkDialogElm,!0),R(document.body,"disable-scroll",!0),this.chatElement.pcElms.checkDialogTagsElm.scrollTop=0,this.chatElement.pcElms.checkDialogUsersElm.scrollTop=0,this.chatElement.pcElms.checkDialogSearchInputElm.value="",this.chatElement.updateCheckDialogTags(),this.chatElement.isExternalCallPopup=!0)}showPCCustomTagDialog(e){this.options.needDialog&&!this.options.asyncMatch&&(this.insertText(e),this.chatEvent.outerApply=!0,this.chatElement.showCustomTagDialog(e),mt(50).then(()=>{this.chatEvent.outerApply=!1}))}showPCSelectDialog(e,n){this.chatElement.exitCustomTagDialog(),this.chatElement.exitPointDialog(),this.chatEvent.outerApply=!0,n&&(this.chatElement.exitSelectDialog(),this.chatElement.pcElms.selectDialogAim=n),this.chatElement.pcElms.selectDialogKey=e,this.chatEvent.debounceEvents.selectDialogToAim(),mt(50).then(()=>{this.chatEvent.outerApply=!1})}showH5Dialog(){this.chatElement.richText&&this.chatElement.richText.blur(),Array.from(this.chatElement.h5Elms.dialogMainElm.children,e=>{e.style.display="",R(e,"user-popup-check-item-check")}),R(this.chatElement.h5Elms.dialogCheckElm,"disabled",!0),M(this.chatElement.h5Elms.dialogElm,!0),R(document.body,"disable-scroll",!0),this.options.asyncMatch&&M(this.chatElement.h5Elms.dialogEmptyElm,!0,"flex"),this.chatElement.h5Elms.dialogMainElm.scrollTop=0,this.chatElement.isExternalCallPopup=!0}disabled(){this.chatElement.richText.setAttribute("contenteditable","false"),R(this.chatElement.richText,"chat-rich-text-disabled",!0)}enable(){this.chatElement.richText.setAttribute("contenteditable","true"),R(this.chatElement.richText,"chat-rich-text-disabled"),this.chatInput.setRangeLastText()}async setUserTag(e){this.chatEvent.triggerChatEvent("atCheck",[e]);const n=this.chatInput.createChatTagElm({id:e[this.options.userProps.id],name:e[this.options.userProps.name]},"@","at-user","user-id");this.chatInput.replaceRegContent(n,!1),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterAtCheck",[e])}async setCustomTag(e,n){this.chatEvent.triggerChatEvent("tagCheck",e,n),await this.chatInput.onceCustomCall(e,!1,n),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterTagCheck",e,n)}async setSelectTag(e,n){if(n||(n=this.chatElement.pcElms.selectDialogKey),this.chatEvent.triggerChatEvent("selectCheck",e,n),this.chatElement.pcElms.selectDialogAim&&this.chatElement.pcElms.selectDialogAim.classList.contains("at-select")){const i=this.chatElement.pcElms.selectDialogAim.getAttribute("data-select-id"),s=this.chatElement.pcElms.selectDialogAim.parentElement.nextElementSibling.childNodes[0].childNodes[0];if(this.chatInput.restCursorPos(s),i===e.id)return;this.chatElement.pcElms.selectDialogAim.setAttribute("data-select-id",e.id),this.chatElement.pcElms.selectDialogAim.childNodes[0].textContent=e.name}else{const i=document.createElement("span");i.setAttribute("class","at-select"),i.setAttribute("data-select-key",n),i.setAttribute("data-select-id",e.id),i.innerHTML=`${e.name}${Zn}`;const s=this.chatInput.createNewDom(i);this.chatInput.replaceRegContent(s,!1)}await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterSelectCheck",e,n)}async setInputTag(e,n,i=""){const s=document.createElement("span");s.setAttribute("class","at-input"),s.setAttribute("contenteditable","false"),s.setAttribute("data-input-key",e);const r=document.createElement("span");r.setAttribute("class","input-write"),r.setAttribute("contenteditable","true"),r.textContent=i||this.chatInput.VOID_KEY;const o=document.createElement("span");o.setAttribute("class","input-tip"),o.textContent="["+(n||"Please input")+"]",s.appendChild(r),s.appendChild(o);const a=this.chatInput.createNewDom(s);this.chatInput.replaceRegContent(a,!1),i&&this.chatInput.watchInputTag(r),this.chatInput.rangeToInputTag(s),await this.chatEvent.richTextInput()}async matchSetTag(e){this.chatEvent.triggerChatEvent("atCheck",[e]),await this.chatInput.onceSearchCall(e,this.chatEvent.startOpenIndex),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterAtCheck",[e])}async onceSetTag(e){this.chatEvent.triggerChatEvent("atCheck",[e]),await this.chatInput.onceCall({id:e[this.options.userProps.id],name:e[this.options.userProps.name]}),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterAtCheck",[e])}async batchSetTag(e){this.chatEvent.triggerChatEvent("atCheck",e);const n=[];for(let i=0;i<=e.length-1;)n.push({id:e[i][this.options.userProps.id],name:e[i][this.options.userProps.name]}),i++;await this.chatInput.batchReplaceRegContent(n,!this.chatElement.isExternalCallPopup),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterAtCheck",e)}async onceSetCustomTag(e,n){n||(n=this.chatElement.pcElms.customTagDialogTagKey),this.chatEvent.triggerChatEvent("tagCheck",e,n),await this.chatInput.onceCustomCall(e,!0,n),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterTagCheck",e,n)}async matchSetCustomTag(e,n){n||(n=this.chatElement.pcElms.customTagDialogTagKey),this.chatEvent.triggerChatEvent("tagCheck",e,n),await this.chatInput.onceCustomCall(e,this.chatEvent.startOpenIndex,n),await this.chatEvent.richTextInput(),this.chatEvent.triggerChatEvent("afterTagCheck",n)}async undo(){const{chatEvent:e}=this;if(!e.doOverHistory||!e.undoHistory||e.undoHistory.length<=1)return;const n=e.undoHistory[e.undoHistory.length-2],i=e.undoHistory[e.undoHistory.length-1];e.redoHistory.push(i),e.undoHistory.pop(),await e.setChatHistory(n)}async redo(){const{chatEvent:e}=this;if(!e.doOverHistory||!e.redoHistory||e.redoHistory.length<1)return;const n=e.redoHistory[e.redoHistory.length-1];e.redoHistory.pop(),e.undoHistory.push(n),await e.setChatHistory(n)}clearHistory(){const{gridIndex:e,markIndex:n}=this.chatInput.getRichTextNodeIndex(this.chatInput.vnode);this.chatEvent.undoHistory=e===null||n==null?[{html:this.chatElement.richText.innerHTML,gridIndex:0,markIndex:0,cursorIndex:this.chatInput.cursorIndex}]:[{html:this.chatElement.richText.innerHTML,gridIndex:e,markIndex:n,cursorIndex:this.chatInput.cursorIndex}],this.chatEvent.redoHistory=[]}cursorMove(e){if(e===0)return void this.chatInput.restCursorPos(this.chatInput.vnode,this.chatInput.cursorIndex);const n=new RegExp(`[${this.chatInput.ZERO_WIDTH_KEY}|${this.chatInput.VOID_KEY}]`,"ig");if(e>0){const i=this.chatInput.vnode.textContent.replace(n,"").slice(this.chatInput.cursorIndex);if(i.length>=e)return this.chatInput.cursorIndex+=e,void this.chatInput.restCursorPos(this.chatInput.vnode,this.chatInput.cursorIndex);const s=this.chatInput.vnode.parentElement.parentElement,r=s.parentElement;let o=!!(s.nextElementSibling&&s.nextElementSibling.nextElementSibling);const a=!!r.nextElementSibling;if(!o&&!a)return this.chatInput.cursorIndex+=i.length,this.chatInput.cursorIndex===0&&(this.chatInput.cursorIndex=1),void this.chatInput.restCursorPos(this.chatInput.vnode,this.chatInput.cursorIndex);const l=e-i.length-1,c=o?s.nextElementSibling.nextElementSibling:r.nextElementSibling.children[0],{rangeNode:u,rangeIndex:h}=this.chatInput.getOffsetRange(l,c);this.chatInput.restCursorPos(u,h)}else if(e<0){let i=Math.abs(e);const s=this.chatInput.vnode.textContent.replace(n,"").slice(0,this.chatInput.cursorIndex);if(s.length>=i)return this.chatInput.cursorIndex-=i,void this.chatInput.restCursorPos(this.chatInput.vnode,this.chatInput.cursorIndex);const r=this.chatInput.vnode.parentElement.parentElement,o=r.parentElement,a=!!(r.previousElementSibling&&r.previousElementSibling.previousElementSibling),l=!!o.previousElementSibling;if(!a&&!l)return void this.chatInput.restCursorPos(this.chatInput.vnode);i=i-s.length-1;const c=a?r.previousElementSibling.previousElementSibling:o.previousElementSibling.lastElementChild,{rangeNode:u,rangeIndex:h}=this.chatInput.getOffsetRange(i,c,!0);this.chatInput.restCursorPos(u,h)}}async cursorDel(e){if(e===0)return void this.chatInput.restCursorPos(this.chatInput.vnode,this.chatInput.cursorIndex);const n=this.chatInput.vnode,i=this.chatInput.cursorIndex;this.cursorMove(e);const s=this.chatInput.vnode,r=this.chatInput.cursorIndex,o=document.createRange();e<0?(o.setStart(s,r),o.setEnd(n,i)):(o.setStart(n,i),o.setEnd(s,r));const a=window.getSelection();a.removeAllRanges(),a.addRange(o),(this.chatInput.selectRegionMerge()||this.chatInput.gridElmMerge()||this.chatInput.delMarkRule())&&await this.chatEvent.richTextInput()}async delUserTags(e){const n=e||this.options.userList.map(r=>r[this.options.userProps.id]),i=this.chatElement.richText.querySelectorAll(".at-user"),s=[];Array.from(i,r=>{const o=r.getAttribute("data-user-id");n.some(a=>String(a)===o)&&s.push(r.parentElement)});for(let r=0;r<s.length;){const o=s[r];this.chatInput.delTag(o),r++}this.chatInput.setRangeLastText(),await this.chatEvent.richTextInput()}async delCustomTags(e,n){const i=this.options.customTrigger.find(a=>a.prefix===e);if(!i||i.tagList.length===0)return;const s=n||i.tagList.map(a=>a.id),r=this.chatElement.richText.querySelectorAll(".at-tag"),o=[];Array.from(r,a=>{const l=a.getAttribute("data-set-prefix"),c=a.getAttribute("data-tag-id");l===e&&s.some(u=>String(u)===c)&&o.push(a.parentElement)});for(let a=0;a<o.length;){const l=o[a];this.chatInput.delTag(l),a++}this.chatInput.setRangeLastText(),await this.chatEvent.richTextInput()}async delSelectTags(e,n){const i=this.options.selectList.find(a=>a.key===e);if(!i||i.options.length===0)return;const s=n||i.options.map(a=>a.id),r=this.chatElement.richText.querySelectorAll(".at-select"),o=[];Array.from(r,a=>{const l=a.getAttribute("data-select-key"),c=a.getAttribute("data-select-id");l===e&&s.some(u=>String(u)===c)&&o.push(a.parentElement)});for(let a=0;a<o.length;){const l=o[a];this.chatInput.delTag(l),a++}this.chatInput.setRangeLastText(),await this.chatEvent.richTextInput()}async delInputTags(e){const n=this.chatElement.richText.querySelectorAll(".at-input"),i=[];Array.from(n,s=>{if(e){const r=s.getAttribute("data-input-key");e.some(o=>String(o)===r)&&i.push(s.parentElement)}else i.push(s.parentElement)});for(let s=0;s<i.length;){const r=i[s];this.chatInput.delTag(r),s++}this.chatInput.setRangeLastText(),await this.chatEvent.richTextInput()}openTipTag(e){this.chatElement.createTipElm(e),this.chatInput.setRangeLastText()}closeTipTag(){this.chatElement.tipElm&&this.chatElement.removeTipElm()}addEventListener(e,n){this.chatEvent.chatEventModule[e].push(n)}removeEventListener(e,n){const i=this.chatEvent.chatEventModule[e],s=i.indexOf(n);s!==-1&&i.splice(s,1)}revisePCPointDialogLabel(e){this.options.needDialog&&(this.options.dialogLabels.pcPointDialog=Object.assign({},br,e||{}),this.chatElement.pcElms.pointDialogElm.querySelector(".call-user-dialog-header-title").textContent=this.options.dialogLabels.pcPointDialog.title,this.chatElement.pcElms.pointDialogCheckElm.textContent=this.options.dialogLabels.pcPointDialog.checkLabel,this.chatElement.pcElms.pointDialogEmptyElm&&(this.chatElement.pcElms.pointDialogEmptyElm.children[1].textContent=this.options.dialogLabels.pcPointDialog.emptyLabel),this.options.asyncMatch||this.updateUserList())}revisePCCheckDialogLabel(e){this.options.needDialog&&!this.options.asyncMatch&&(this.options.dialogLabels.pcPCheckDialog=Object.assign({},_r,e||{}),this.chatElement.pcElms.checkDialogElm.querySelector(".checkbox-dialog-container-header").children[0].textContent=this.options.dialogLabels.pcPCheckDialog.title,this.chatElement.pcElms.checkDialogSearchInputElm.setAttribute("placeholder",this.options.dialogLabels.pcPCheckDialog.searchPlaceholder),this.chatElement.pcElms.checkDialogElm.querySelector(".checkbox-dialog-search-empty").textContent=this.options.dialogLabels.pcPCheckDialog.searchEmptyLabel,this.chatElement.pcElms.checkDialogElm.querySelector(".checkbox-dialog-right-box-title").textContent=this.options.dialogLabels.pcPCheckDialog.userTagTitle,this.chatElement.pcElms.checkDialogUsersElm.children[0].children[2].textContent=this.options.dialogLabels.pcPCheckDialog.checkAllLabel,this.chatElement.pcElms.checkDialogElm.querySelector(".btn-submit").textContent=this.options.dialogLabels.pcPCheckDialog.confirmLabel,this.chatElement.pcElms.checkDialogElm.querySelector(".btn-close").textContent=this.options.dialogLabels.pcPCheckDialog.cancelLabel)}reviseH5DialogLabel(e){this.options.needDialog&&(this.options.dialogLabels.h5Dialog=Object.assign({},Cr,e||{}),this.chatElement.h5Elms.dialogElm.querySelector(".popup-title").textContent=this.options.dialogLabels.h5Dialog.title,this.chatElement.h5Elms.dialogSearchElm.setAttribute("placeholder",this.options.dialogLabels.h5Dialog.searchPlaceholder),this.chatElement.h5Elms.dialogEmptyElm.children[1].textContent=this.options.dialogLabels.h5Dialog.searchEmptyLabel,this.chatElement.h5Elms.dialogCheckElm.textContent=this.options.dialogLabels.h5Dialog.confirmLabel,this.chatElement.h5Elms.dialogShowElm.textContent=this.options.dialogLabels.h5Dialog.cancelLabel,this.options.asyncMatch||this.updateUserList())}createOperateNode(){return new Bu(this)}async nextTick(e){return new Promise(n=>{requestAnimationFrame(()=>{const i=e();i instanceof Promise?i.then(()=>{n()}):n()})})}}P(ys,"version","5.7.2");const $u={class:"el-send-button"},Hu=oe({__name:"index",props:{disabled:{type:Boolean,default:!1}},emits:["clear"],setup(t,{emit:e}){const n=t,i=e;return(s,r)=>{const o=Et,a=si;return N(),z("div",$u,[se(a,{circle:"",disabled:n.disabled,onClick:r[0]||(r[0]=l=>i("clear"))},{default:ne(()=>[se(o,null,{default:ne(()=>[se($(to))]),_:1})]),_:1},8,["disabled"])])}}}),kr=Qe(Hu,[["__scopeId","data-v-a84afe1a"]]),zu={},Uu={viewBox:"0 0 1000 1000",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function Ku(t,e){return N(),z("svg",Uu,e[0]||(e[0]=[F("title",null,"Loading",-1),F("rect",{fill:"currentColor",height:"250",rx:"24",ry:"24",width:"250",x:"375",y:"375"},null,-1),F("circle",{cx:"500",cy:"500",fill:"none",r:"450",stroke:"currentColor","stroke-width":"100",opacity:"0.45"},null,-1),F("circle",{cx:"500",cy:"500",fill:"none",r:"450",stroke:"currentColor","stroke-width":"100","stroke-dasharray":"600 9999999"},[F("animateTransform",{attributeName:"transform",dur:"1s",from:"0 500 500",repeatCount:"indefinite",to:"360 500 500",type:"rotate"})],-1)]))}const qu=Qe(zu,[["render",Ku]]),Vu={class:"el-send-button"},Gu=oe({__name:"index",emits:["cancel"],setup(t,{emit:e}){const n=e;return(i,s)=>{const r=si;return N(),z("div",Vu,[se(r,{circle:"",onClick:s[0]||(s[0]=o=>n("cancel"))},{default:ne(()=>[se(qu,{class:"loading-svg"})]),_:1})])}}}),xr=Qe(Gu,[["__scopeId","data-v-70409eb5"]]),Yu={class:"el-send-button"},Tr=oe({__name:"index",props:{disabled:{type:Boolean,default:!1}},emits:["submit"],setup(t,{emit:e}){const n=t,i=e;return(s,r)=>{const o=Et,a=si;return N(),z("div",Yu,[se(a,{circle:"",disabled:n.disabled,onClick:r[0]||(r[0]=l=>i("submit"))},{default:ne(()=>[se(o,null,{default:ne(()=>[se($(so))]),_:1})]),_:1},8,["disabled"])])}}}),Wu={key:0,class:"el-editor-sender-header"},ju={class:"el-editor-sender-header-container"},Zu={key:0,class:"el-editor-sender-prefix"},Xu={key:1,class:"el-editor-sender-action-list"},Ju={class:"el-editor-sender-action-list-presets"},Qu={key:2,class:"el-editor-sender-updown-action-list"},eh={key:0,class:"el-editor-sender-prefix"},th={class:"el-editor-sender-action-list"},nh={class:"el-editor-sender-action-list-presets"},ih={key:0,class:"el-editor-sender-footer"},rh=oe({__name:"index",props:{placeholder:{default:"请输入内容"},device:{default:"pc"},autoFocus:{type:Boolean,default:!1},variant:{default:"default"},userList:{default:()=>[]},customTrigger:{default:()=>[]},selectList:{default:()=>[]},maxLength:{default:void 0},submitType:{default:"enter"},customStyle:{default:()=>({})},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},headerAnimationTimer:{default:300},asyncMatchFun:{type:Function,default:void 0},customDialog:{type:Boolean,default:!1}},emits:["submit","change","cancel","showAtDialog","showSelectDialog","showTagDialog"],setup(t,{expose:e,emit:n}){const i=t,s=n,r=q(),o=q(),a=q(),l=Qn({isEmpty:!0,textLength:0,lastFocusNode:null,lastOffset:0,wrapCallSelectDialog:!1,beforeText:"",afterText:""});function c(){r.value=new ys({elm:a.value,...i,userList:JSON.parse(JSON.stringify(i.userList)),needDialog:!i.customDialog&&i.device==="pc",copyType:["text"],asyncMatch:!!i.asyncMatchFun,needDebounce:!0,needCallSpace:!1,sendKeyFun:i.submitType==="enter"?b=>!b.shiftKey&&b.key==="Enter":b=>b.shiftKey&&b.key==="Enter",wrapKeyFun:i.submitType==="shiftEnter"?b=>!b.shiftKey&&b.key==="Enter":b=>b.shiftKey&&b.key==="Enter"}),o.value=r.value.createOperateNode(),r.value.addEventListener("enterSend",h),r.value.addEventListener("operate",()=>{l.isEmpty=r.value.isEmpty(!0),l.textLength=r.value.textLength,s("change")}),r.value.richText.addEventListener("blur",()=>{const b=getSelection();l.lastFocusNode=b.focusNode,l.lastOffset=b.focusOffset},!0),r.value.addEventListener("selectCheck",()=>{var b;l.wrapCallSelectDialog&&l.beforeText&&((b=r.value)==null||b.insertText(l.beforeText),l.beforeText="")}),r.value.addEventListener("afterSelectCheck",()=>{var b;l.wrapCallSelectDialog&&l.afterText&&((b=r.value)==null||b.insertText(l.afterText),l.afterText="",l.wrapCallSelectDialog=!1)}),i.asyncMatchFun&&r.value.addEventListener("atMatch",i.asyncMatchFun),r.value.addEventListener("showAtDialog",()=>{s("showAtDialog")}),r.value.addEventListener("showSelectDialog",(b,A)=>{s("showSelectDialog",b,A)}),r.value.addEventListener("showTagDialog",b=>{s("showTagDialog",b)}),i.disabled&&r.value.disabled(),window.addEventListener("keydown",J)}function u(){const b=r.value.getText(),A=r.value.getHtml(),G=r.value.getInputTagList(),B=i.userList.length>0?r.value.getCallUserTagList():void 0,ie=i.selectList.length>0?r.value.getSelectTagList():void 0,U=i.customTrigger.length>0?r.value.getCustomTagList():void 0;return{text:b,html:A,inputTags:G,userTags:B,selectTags:ie,customTags:U}}function h(){l.isEmpty||s("submit",u())}function d(){s("cancel")}function p(b){r.value.clear(b),E()}function f(){requestAnimationFrame(()=>{var b;const A=(b=l.lastFocusNode)==null?void 0:b.parentElement,G=r.value.chatInput;A&&A.classList.contains("input-write")?G.setInputTagRange(l.lastFocusNode,l.lastOffset):G.restCursorPos(G.vnode,G.cursorIndex)})}function v(){r.value&&o.value&&o.value.setCursorNode(o.value.getNodeByRank(o.value.getRank(0)+o.value.getRank(0)),0)}function E(){r.value&&o.value&&o.value.setCursorNode(o.value.getNodeByRank(o.value.getRank(-1)+o.value.getRank(-1)))}function _(){r.value&&(getSelection().removeAllRanges(),r.value.richText.blur())}function C(){if(r.value&&o.value){const b=o.value.getNodeByRank(o.value.getRank(0)+o.value.getRank(0)),A=o.value.getNodeByRank(o.value.getRank(-1)+o.value.getRank(-1));o.value.setSelectNodes(b,A)}}function m(b,A){var G,B,ie;l.wrapCallSelectDialog=!1;const U=(B=(G=i.selectList)==null?void 0:G.find(W=>W.key===b))==null?void 0:B.options.find(W=>W.id===A);U&&((ie=r.value)==null||ie.setSelectTag(U,b))}function k(b,A,G){var B;(B=r.value)==null||B.setInputTag(b,A,G)}function y(b){var A,G;const B=(A=i.userList)==null?void 0:A.find(ie=>ie.id===b);B&&((G=r.value)==null||G.setUserTag(B))}function x(b,A){var G,B,ie;const U=(B=(G=i.customTrigger)==null?void 0:G.find(W=>W.prefix===b))==null?void 0:B.tagList.find(W=>W.id===A);U&&((ie=r.value)==null||ie.setCustomTag(U,b))}function S(b){var A;const G=b.map((B,ie)=>{var U;return{type:"gridBox",rank:(U=o.value)==null?void 0:U.getRank(ie),children:B.map(W=>({type:W.type,text:W.value,html:W.value,dataset:{id:W.value,name:I(W),prefix:W.key,key:W.key,placeholder:W.placeholder,value:W.value}}))}});(A=o.value)==null||A.coverNodes(G)}function I(b){var A,G,B,ie,U,W,j,Ge;const{type:Ct,value:rt,key:st}=b;switch(Ct){case"userTag":return((G=(A=i.userList)==null?void 0:A.find(xe=>xe.id===rt))==null?void 0:G.name)||"";case"selectTag":return((U=(ie=(B=i.selectList)==null?void 0:B.find(xe=>xe.key===st))==null?void 0:ie.options.find(xe=>xe.id===rt))==null?void 0:U.name)||"";case"customTag":return((Ge=(j=(W=i.customTrigger)==null?void 0:W.find(xe=>xe.prefix===st))==null?void 0:j.tagList.find(xe=>xe.id===rt))==null?void 0:Ge.name)||"";default:return""}}function w(b){var A;(A=r.value)==null||A.insertHtml(b)}function V(b){var A;(A=r.value)==null||A.insertText(b)}function O(b){var A;l.beforeText=b.beforeText||"",l.afterText=b.afterText||"",l.wrapCallSelectDialog=!0,(A=r.value)==null||A.showPCSelectDialog(b.key,b.elm)}function _e(b){var A;(A=r.value)==null||A.openTipTag({...b,codeLabel:"ESC"})}function ee(){var b;(b=r.value)==null||b.closeTipTag()}function J(b){b.key==="Escape"&&ee()}function Ne(b){r.value.onceSetTag(b)}function _t(b,A){r.value.onceSetCustomTag(A,b)}function dn(b,A){var G,B,ie;const U=(G=o.value)==null?void 0:G.getRankByElm(b.parentElement);if(!U)return;const W=(B=o.value)==null?void 0:B.getNodeByRank(U);if(!W)return;const j=W.dataset;j.id=A.id,j.name=A.name,(ie=o.value)==null||ie.updateNode(W)}return Te(()=>i.disabled,()=>{var b,A;i.disabled?(b=r.value)==null||b.disabled():(A=r.value)==null||A.enable()}),Te(()=>i.placeholder,()=>{var b;(b=r.value)==null||b.updateConfig({placeholder:i.placeholder})}),Te(()=>i.maxLength,()=>{var b;(b=r.value)==null||b.updateConfig({maxLength:i.maxLength})}),Te(()=>i.submitType,()=>{var b;(b=r.value)==null||b.updateConfig({sendKeyFun:i.submitType==="enter"?A=>!A.shiftKey&&A.key==="Enter":A=>A.shiftKey&&A.key==="Enter",wrapKeyFun:i.submitType==="shiftEnter"?A=>!A.shiftKey&&A.key==="Enter":A=>A.shiftKey&&A.key==="Enter"})}),Te(()=>i.userList,()=>{var b;(b=r.value)==null||b.updateConfig({userList:i.userList})},{deep:!0}),Te(()=>i.selectList,()=>{var b;(b=r.value)==null||b.updateConfig({selectList:i.selectList})},{deep:!0}),Te(()=>i.customTrigger,()=>{var b;(b=r.value)==null||b.updateConfig({customTrigger:i.customTrigger})},{deep:!0}),ei(()=>{c()}),Sr(()=>{r.value&&(r.value.dispose(),r.value=void 0,o.value=void 0,window.removeEventListener("keydown",J))}),e({getCurrentValue:u,focusToStart:v,focusToEnd:E,blur:_,selectAll:C,clear:p,setSelectTag:m,setInputTag:k,setUserTag:y,setCustomTag:x,setMixTags:S,setHtml:w,setText:V,openSelectDialog:O,customSetUser:Ne,customSetTag:_t,updateSelectTag:dn,openTipTag:_e,closeTipTag:ee,chat:r,opNode:o,chatState:l}),(b,A)=>(N(),z("div",{class:"el-editor-sender-wrap",style:Ve({"--el-editor-sender-header-duration":`${b.headerAnimationTimer}ms`})},[se(Ri,{name:"slide"},{default:ne(()=>[b.$slots.header?(N(),z("div",Wu,[F("div",ju,[te(b.$slots,"header",{},void 0,!0)])])):Z("",!0)]),_:3}),F("div",{class:Ie(["el-editor-sender-content",{"content-variant-updown":i.variant==="updown"}]),onMousedown:f},[b.$slots.prefix&&i.variant==="default"?(N(),z("div",Zu,[te(b.$slots,"prefix",{},void 0,!0)])):Z("",!0),F("div",{class:"el-editor-sender-chat-room",onMousedown:Rs(()=>{},["stop"])},[F("div",{ref_key:"container",ref:a,style:Ve({...b.customStyle}),class:"el-editor-sender-chat"},null,4)],32),i.variant==="default"?(N(),z("div",Xu,[te(b.$slots,"action-list",{},()=>[F("div",Ju,[i.loading?Z("",!0):(N(),fe(Tr,{key:0,disabled:l.isEmpty||i.disabled,onSubmit:h},null,8,["disabled"])),i.loading?(N(),fe(xr,{key:1,onCancel:d})):Z("",!0),i.clearable?(N(),fe(kr,{key:2,disabled:l.isEmpty||i.disabled,onClear:p},null,8,["disabled"])):Z("",!0)])],!0)])):i.variant==="updown"?(N(),z("div",Qu,[b.$slots.prefix?(N(),z("div",eh,[te(b.$slots,"prefix",{},void 0,!0)])):Z("",!0),F("div",th,[te(b.$slots,"action-list",{},()=>[F("div",nh,[i.loading?Z("",!0):(N(),fe(Tr,{key:0,disabled:l.isEmpty||i.disabled,onSubmit:h},null,8,["disabled"])),i.loading?(N(),fe(xr,{key:1,onCancel:d})):Z("",!0),i.clearable?(N(),fe(kr,{key:2,disabled:l.isEmpty||i.disabled,onClear:p},null,8,["disabled"])):Z("",!0)])],!0)])])):Z("",!0)],34),se(Ri,{name:"slide"},{default:ne(()=>[b.$slots.footer?(N(),z("div",ih,[te(b.$slots,"footer",{},void 0,!0)])):Z("",!0)]),_:3})],4))}}),sh=Qe(rh,[["__scopeId","data-v-4b153ac6"]]),oh=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},ah={class:"main"},lh={class:"dialog-content"},ch={class:"avatar-wrapper"},uh=["src"],hh={class:"header-wrapper"},dh={class:"header-name"},ph={class:"content-wrapper"},fh=["innerHTML"],gh={class:"footer-wrapper"},mh={class:"footer-container"},Eh={class:"footer-time"},vh={class:"loading-container"},yh={class:"text-content"},bh={__name:"index",setup(t){const e=Qn({loading:!1,messages:[],eventBuffer:""});r();const n=q("https://avatars.githubusercontent.com/u/76239030?v=4"),i=q("https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png");q(!1),q(!1);function s(c=new Date){const u=c.getFullYear(),h=String(c.getMonth()+1).padStart(2,"0"),d=String(c.getDate()).padStart(2,"0"),p=String(c.getHours()).padStart(2,"0"),f=String(c.getMinutes()).padStart(2,"0"),v=String(c.getSeconds()).padStart(2,"0");return`${u}-${h}-${d} ${p}:${f}:${v}`}function r(c="ai",u="你好，我是 Element Plus X"){let h=e.messages.length+1;e.messages.push({key:h,role:c,placement:c==="ai"?"start":"end",noStyle:!0,content:u,loading:!1,date:s(new Date)})}const o=c=>{console.log(c,"11"),e.loading=!0,l(c.text),r("user",c.text)},a=c=>{e.loading=!1};async function l(c){const u="https://api.siliconflow.cn/v1/messages",h={Authorization:"Bearer sk-ycsqkhdpsksisdxfmomipclyeqnpiwtorfidrpljlsqcfsvk","Content-Type":"application/json"},d=JSON.stringify({model:"moonshotai/Kimi-K2-Instruct",messages:[{role:"user",content:c}],stream:!0,temperature:.7,max_tokens:1024,tool_choice:{type:"auto",disable_parallel_tool_use:!0}});try{const p=await fetch(u,{method:"POST",headers:h,body:d});if(console.log(p,"response"),!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const f=p.body.getReader(),v=new TextDecoder("utf-8");console.log(v);let E="";for(e.eventBuffer="",e.messages[e.messages.length]={key:e.messages.length+1,role:"ai",placement:"start",noStyle:!0,content:e.eventBuffer,loading:!1,date:s(new Date)};;){const{done:_,value:C}=await f.read();if(_)break;for(E+=v.decode(C,{stream:!0});E.includes(`

`);){const m=E.indexOf(`

`),k=E.substring(0,m);E=E.substring(m+2);const y={};if(k.split(`
`).forEach(x=>{const S=x.indexOf(":");if(S>0){const I=x.substring(0,S).trim(),w=x.substring(S+1).trim();y[I]=w}}),y.data)try{const x=JSON.parse(y.data);if(console.log(x,"data"),y.event!=="message_start"){if(x.type==="content_block_delta"){console.log("Received event:",x),e.eventBuffer+=x.delta.text;const S=e.messages.length-1;e.messages[S].content=e.eventBuffer,e.messages[S].loading=!1,e.messages=[...e.messages]}}}catch(x){console.error("Error parsing event data:",x)}}console.log(e.eventBuffer)}console.log(`
流处理完成`),e.loading=!1}catch(p){console.error("请求失败:",p)}}return(c,u)=>{const h=Ps("el-button");return N(),z("div",ah,[F("div",lh,[se($(Cu),{list:e.messages,"max-height":"100%",maxWidth:"1000px"},{avatar:ne(({item:d})=>[F("div",ch,[F("img",{src:d.role==="ai"?i.value:n.value,alt:"avatar"},null,8,uh)])]),header:ne(({item:d})=>[F("div",hh,[F("div",dh,Yt(d.role==="ai"?"Element Plus X 🍧":"🧁 用户"),1)])]),content:ne(({item:d})=>[F("div",ph,[F("div",{class:"content-text",style:{"white-space":"pre-wrap"},innerHTML:d.content},null,8,fh)])]),footer:ne(({item:d})=>[F("div",gh,[F("div",mh,[se(h,{type:"info",icon:c.Refresh,size:"small",circle:""},null,8,["icon"]),se(h,{type:"success",icon:c.Search,size:"small",circle:""},null,8,["icon"]),se(h,{type:"warning",icon:c.Star,size:"small",circle:""},null,8,["icon"]),se(h,{color:"#626aef",icon:c.DocumentCopy,size:"small",circle:""},null,8,["icon"])]),F("div",Eh,Yt(d.date),1)])]),loading:ne(({item:d})=>[F("div",vh,[F("span",null,"#"+Yt(d.role)+"-"+Yt(d.key)+"：",1),u[0]||(u[0]=F("span",null,"我",-1)),u[1]||(u[1]=F("span",null,"是",-1)),u[2]||(u[2]=F("span",null,"自",-1)),u[3]||(u[3]=F("span",null,"定",-1)),u[4]||(u[4]=F("span",null,"义",-1)),u[5]||(u[5]=F("span",null,"加",-1)),u[6]||(u[6]=F("span",null,"载",-1)),u[7]||(u[7]=F("span",null,"内",-1)),u[8]||(u[8]=F("span",null,"容",-1)),u[9]||(u[9]=F("span",null,"哦",-1)),u[10]||(u[10]=F("span",null,"~",-1))])]),_:1},8,["list"])]),F("div",yh,[se($(sh),{"custom-style":{maxHeight:"240px"},placeholder:"请输入内容",clearable:"",loading:e.loading,onCancel:a,onSubmit:o,style:{"background-image":"linear-gradient(to left, #7fffaa 0%, #00ffff 100%)","border-radius":"8px"}},null,8,["loading"])])])}}},Ch=oh(bh,[["__scopeId","data-v-ddf9e350"]]);export{Ch as default};
